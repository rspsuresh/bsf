<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/amcharts.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/serial.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/themes/light.js"></script>
<style>
    .widget-stats {
        padding-left: 0;
    }
    .widget-stats .wrapper.transparent {
        border-right: 1px solid rgba(0, 0, 0, 0.2);
    }
    .widget-stats .wrapper {
        border-right: 1px solid #363a41;
        margin: 5px 7px 5px 0;
        padding-left: 18px;
        padding-right: 5px;
    }
    .widget-stats .item-title {
        font-size: 15px;
    }
    .widget-stats .item-count {
        color: #ffffff;
        font-size: 15px;
        font-weight: bold;
    }
    .semi-bold {
        font-weight: 600;
    }
    .tiles > .tiles-body > .description {
        color: #ffffff;
        display: table-cell;
        font-size: 12px;
        vertical-align: middle;
    }
    .tiles .description .mini-description {
        position: relative;
        top: -5px;
    }
    .text-white {
        color: #ffffff !important;
    }
    .cards .blend {
        color: #000;
    }
    .portlet{border: 1px solid #D3D3D3 !important;background-color: #e2ebef;
        padding: 12px 0px 0px;}
    .aboveportlet{border: 1px solid #e7ecf1 !important;background-color: #bedbda;
        padding: 12px;}
    .portlet-title {
        margin-bottom: 10px;
    }
    .simplebarchartdiv {
        width		: 100%;
        height		: 350px;
        font-size	: 11px;
    }
    #linechartdiv {
        width	: 100%;
        height	: 500px;
        background:#fff !important;}
    @import "http://fonts.googleapis.com/css?family=Ubuntu+Mono|Roboto:400,100,300,500,700,300italic|Roboto+Condensed:300,400,700|Roboto+Slab:400,700&subset=latin,latin-ext";

    .card-container .card {
        cursor: pointer;
        height: 100%;
        perspective: 600px;
        position: relative;
        width: 100%;
        z-index: 9;
    }
    .card-container .card .front {
        backface-visibility: hidden;
        background-color: #f2f2f2;
        box-shadow: 0 3px 0 rgba(0, 0, 0, 0.05);
        height: 100%;
        left: 0;
        min-height: 115px;
        padding: 4px 15px 10px;
        position: relative;
        top: 0;
        transform: rotateX(0deg) rotateY(0deg);
        transform-style: preserve-3d;
        transition: all 0.4s ease-in-out 0s;
        width: 100%;
        z-index: 900;
    }
    .card-container .card .front .media {
        margin-bottom: 10px;
    }
    .card-container .card .front .media .media-object {
        font-size: 48px;
        margin-top: 5px;
    }
    .card-container .card .front .media .media-body small {
        color: rgba(255, 255, 255, 0.5);
        font-size: 12px;
        font-weight: 300;
        text-transform: uppercase;
    }
    .card-container .card .front .media .media-body h2 {
        font-family: "Roboto","Arial",sans-serif;
        font-weight: 400;
    }
    .card-container .card .front .progress-list .details .title {
        color: rgba(255, 255, 255, 0.5);
        font-size: 11px;
        font-weight: 400;
        line-height: normal;
        text-transform: uppercase;
    }
    .card-container .card .front .progress-list .status {
        border-radius: 2px;
        font-size: 9px;
        padding: 3px 6px;
    }
    .card-container .card .front .progress-list .clearfix {
        height: 20px;
    }
    .card-container .card .front .progress-list .progress {
        margin-bottom: 0;
    }
    .card-container .card.flip .front {
        transform: rotateY(180deg);
        z-index: 900;
    }
    .card-container .card.flip .back {
        transform: rotateX(0deg) rotateY(0deg);
        z-index: 1000;
    }
    .card-container .card .back {
        backface-visibility: hidden;
        background-color: white !important;
        border: 0 none;
        box-shadow: 0 3px 0 rgba(0, 0, 0, 0.05);
        color: inherit !important;
        height: auto;
        left: 0;
        padding:15%;
        position: absolute;
        text-align: center;
        top: 0;
        transform: rotateY(-179deg);
        transform-style: preserve-3d;
        transition: all 0.4s ease-in-out 0s;
        width: 100%;
        z-index: 800;
    }
    .card-container .card .back > a {
        color: #717171;
        display: block;
        font-size: 18px;
        font-weight: 300;
        line-height: 30px;
    }
    .card-container .card .back > a > span{font-size:23px !important; font-weight:bold !important;}
    .card-container .card .back > a:hover {
        color: #418bca;
        text-decoration: none;
    }
    .card-container .card .back > a > i {
        display: block;
    }
    .card-container .card.card-greensea .front {
        background-color: #896897;
        color: white;
    }
    .card-container .card.card-greensea .back p {
        color: #896897;
    }
    .card-container .card.card-redbrown .front {
        background-color: #0aa699;
        color: white;
    }
    .card-container .card.card-redbrown .back p {
        color: #d9544f;
    }
    .card-container .card.card-blue .front {
        background-color: #32c5d2;
        color: white;
    }
    .card-container .card.card-blue .back p {
        color: #32c5d2;
    }
</style>
<link href="<?php echo $this->basePath(); ?>/css/enjoyhint.css" rel="stylesheet">
<script src="<?php echo $this->basePath(); ?>/js/enjoyhint.js"></script>
<div class="content_wrapper padlr0">
    <div class="container-fluid">
        <div class="col-lg-12 clear">
            <div class="row cards" id="hint-step1">
                <div class="card-container col-md-4 col-vlg-3 col-sm-6" id="hint-step2">
                    <div class="card card-redbrown hover1 commargin_bottom">
                        <div class="front">
                            <h1 class="commoncdhone">ORDER</h1>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Total Order</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips" data-value="<?php echo isset($order['totOrders'])?$order['totOrders']:'0'; ?>" data-animation-duration="700"><?php echo isset($order['totOrders'])?$order['totOrders']:'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span class="item-title float_l comnelips fntwt600" style="width: 50%">Total Order Value</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips" data-value="<?php echo isset($order['totOrderAmt'])?(double)$order['totOrderAmt']:'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($order['totOrderAmt'])?$this->commonHelper()->sanitizeNumber((double)$order['totOrderAmt'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>

                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%" class="item-title float_l comnelips fntwt600">Works Completed</span>
                                    <span style="width: 50%" class="text-right float_r item-count animate-number semi-bold comnelips" data-value="<?php echo isset($order['orderCompleted'])?(double)$order['orderCompleted']:'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($order['orderCompleted'])?$this->commonHelper()->sanitizeNumber((double)$order['orderCompleted'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats ">
                                <div class="wrapper transparent">
                                    <span style="width: 50%"class="item-title float_l comnelips fntwt600">Works on Hand</span>
                                    <span style="width: 50%" class="text-right float_r item-count animate-number semi-bold comnelips" data-value="<?php echo isset($order['orderNotBilled'])?(double)$order['orderNotBilled']:'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($order['orderNotBilled'])?$this->commonHelper()->sanitizeNumber((double)$order['orderNotBilled'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="progress commargin_top commargin_bottom" style="border-radius:0px !important; height: 4px !important;width:100% ; background:rgba(0, 0, 0, 0.28);">
                                <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:<?php echo isset($order['orderCompletedPercentage'])?$order['orderCompletedPercentage']:''; ?>% ; border-radius: 0px; background: #fff !important;">
                                </div>
                            </div>
                            <div class="description"> <span class="text-white mini-description "><?php echo isset($orderMonthVariation)?$orderMonthVariation:''; ?> <span class="blend">than last month</span></span></div>
                        </div>
                        <div class="back">
                            <a href="<?php echo $this->basePath();?>/project/tender/workorderregister">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Order Summary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="card-container col-md-4 col-vlg-3 col-sm-6" id="hint-step3">
                    <div class="card card-greensea hover2 commargin_bottom">
                        <div class="front">
                            <h1 class="commoncdhone">BILL</h1>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">No. of Projects</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($bill['totProjects'])?(double)$bill['totProjects']:''; ?>" data- animation-duration="700"><?php echo isset($bill['totProjects'])?(double)$bill['totProjects']:''; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Bill Submitted (Inc. of Tax)</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($bill['submitAmount'])?(double)$bill['submitAmount']:''; ?>" data- animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($bill['submitAmount']) ? $this->commonHelper()->sanitizeNumber((double)$bill['submitAmount'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Bill certified</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($bill['certifyAmount'])?(double)$bill['certifyAmount']:''; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($bill['certifyAmount']) ? $this->commonHelper()->sanitizeNumber((double)$bill['certifyAmount'], 2, true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Difference</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($bill['difference'])?(double)$bill['difference']:''; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($bill['difference']) ? $this->commonHelper()->sanitizeNumber((double)$bill['difference'], 2, true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="progress commargin_top commargin_bottom" style="border-radius:0px !important; height: 4px !important;width:100% ; background:rgba(0, 0, 0, 0.28);">
                                <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:<?php echo isset($bill['billCompletedPercentage'])?$bill['billCompletedPercentage']:''; ?>% ; border-radius: 0px; background: #fff !important;">
                                </div>
                            </div>
                            <div class="description"> <span class="text-white mini-description "><?php echo isset($billMonthVariation)?$billMonthVariation:''; ?> <span class="blend">than last month</span></span></div>
                        </div>
                        <div class="back">
                            <a href="<?php echo $this->basePath();?>/clientbilling/index/register">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Bill Summary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="card-container col-md-4 col-vlg-3 col-sm-6" id="hint-step4">
                    <div class="card card-blue hover3  commargin_bottom">
                        <div class="front">
                            <h1 class="commoncdhone">RECEIPT</h1>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Total Received</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($receipt['totReceived'])?$this->commonHelper()->sanitizeNumber((double)$receipt['totReceived'],2,true):'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($receipt['totReceived'])? $this->commonHelper()->sanitizeNumber((double)$receipt['totReceived'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Receivable</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($receipt['receivable'])?$this->commonHelper()->sanitizeNumber((double)$receipt['receivable'],2,true):'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($receipt['receivable']) ?$this->commonHelper()->sanitizeNumber((double)$receipt['receivable'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Advance Payable</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($receipt['advancePayable'])?$this->commonHelper()->sanitizeNumber((double)$receipt['advancePayable'],2,true):'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($receipt['advancePayable']) ? $this->commonHelper()->sanitizeNumber((double)$receipt['advancePayable'], 2, true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="widget-stats ">
                                <div class="wrapper transparent">
                                    <span style="width: 50%;" class="float_l item-title comnelips fntwt600">Retention/Withheld</span>
                                    <span style="width: 50%;" class="text-right float_r item-count animate-number semi-bold comnelips"" data-value="<?php echo isset($receipt['retValue'])?$this->commonHelper()->sanitizeNumber((double)$receipt['retValue'],2,true):'0'; ?>" data-animation-duration="700"><i class="fa fa-inr"></i> <?php echo isset($receipt['retValue']) ? $this->commonHelper()->sanitizeNumber((double)$receipt['retValue'],2,true):'0'; ?></span>
                                    <div style="clear:both;"></div>
                                </div>
                            </div>
                            <div class="progress commargin_top commargin_bottom" style="border-radius:0px !important; height: 4px !important;width:100% ; background:rgba(0, 0, 0, 0.28);">
                                <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:<?php echo isset($receipt['receiptCompletedPercentage'])?$receipt['receiptCompletedPercentage']:''; ?>% ; border-radius: 0px; background: #fff !important;">
                                </div>
                            </div>
                            <div class="description"> <span class="text-white mini-description "><?php echo isset($receiptMonthVariation)?$receiptMonthVariation:''; ?> <span class="blend">than last month</span></span></div>
                        </div>
                        <div class="back">
                            <a href="<?php echo $this->basePath();?>/clientbilling/receipt/register">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Receipt Summary</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12 clear">
                <div class="row aboveportlet">
                    <div id="linechartdiv"></div>
                </div>
            </div>
            <div class="col-lg-12 clear commargin_ttop_20 commargin_bottom">
                <div class="row portlet">
                    <div class="portlet-title">
                        <div class="col-lg-12">
                            <h1 class="col-lg-3" style="color:#676565  !important; font-weight:400 !important;">Monthly Variation</h1>
                            <div class="col-lg-6 col-sm-7 col-md-6 col-xs-12 commargin_bottom">
                                <!--div class="progress animated-bar" style="margin-bottom:0px !important; margin-top:10px !important;">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:50%; color:#fff!important; background-color:#9fc569 !important;">
                                    	50% Complete (info)
                                    </div>
                                </div-->
                            </div>
                            <div class="col-lg-2 col-lg-offset-1 col-md-2 col-md-offset-1 col-sm-3 col-sm-offset-2 col-xs-12 commargin_bottom">
                                <div class="vendor_button">
                                    <select id="yearSelector" name="yearSelector">
                                        <?php for($i=0; $i<3; $i++): // LAST 3 YEARS?>
                                            <option value="<?php echo date('Y-12-31', strtotime("-$i year")); ?>"><?php echo date('Y', strtotime("-$i year")); ?></option>
                                        <?php endfor; ?>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 commargin_bottom" style="background: #fff!important;" >
                                <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                    <div  class="simplebarchartdiv" id="simplebaronechartdiv"></div>
                                    <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center commargin_bottom" style="color:#676565;">Average Order amount <i class="fa fa-inr"></i><b id="avgOrderPercentage"><?php echo isset($avgOrderPercentage) ? $this->commonHelper()->sanitizeNumber($avgOrderPercentage,2,true):'0'; ?></b> per month</span>
                                    <h1 class="commoncdhonechng col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center">Work Order</h1>
                                </div>
                                <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                    <div class="simplebarchartdiv" id="simplebartwochartdiv"></div>
                                    <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center commargin_bottom" style="color:#676565;">Average Billing amount <i class="fa fa-inr"></i><b id="avgBillPercentage"><?php echo isset($avgBillPercentage) ? $this->commonHelper()->sanitizeNumber($avgBillPercentage,2,true):'0'; ?></b> per month</span>
                                    <h1 class="commoncdhonechng col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center">Bill</h1>
                                </div>
                                <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                    <div class="simplebarchartdiv" id="simplebarthreechartdiv"></div>
                                    <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center commargin_bottom" style="color:#676565;">Average Receipt <i class="fa fa-inr"></i><b id="avgReceiptPercentage"><?php echo isset($avgReceiptPercentage) ? $this->commonHelper()->sanitizeNumber($avgReceiptPercentage,2,true):'0'; ?></b> per month</span>
                                    <h1 class="commoncdhonechng col-lg-12 col-md-12 col-sm-12 col-xs-12 txt_center">Receipt</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function helpLoader() {
        //initialize instance
        var enjoyhint_instance = new EnjoyHint({});

        //simple config.
        //Only one step - highlighting(with description) "New" button
        //hide EnjoyHint after a click on the button.
        var enjoyhint_script_steps = [
            {
                "next #hint-step1": 'This is the "Welcome to RA-BILLS.COM homepage".<br> Click "Next" to proceed.'
            },
            {
                "next #hint-step2": 'Find information about your order summary.<br> Click "Next" to proceed.'
            },
            {
                "next #hint-step3": 'Find information about your Bill summary.<br> Click "Next" to proceed.'
            },
            {
                "next #hint-step4": 'Find information about your Receipt summary.<br> Click "Next" to proceed.'
            },
            {
                "next #hint-step5": 'Are you ready to get started to the application<br> Click "Next" to proceed.'
            }

        ];

        //set script config
        enjoyhint_instance.set(enjoyhint_script_steps);

        //run Enjoyhint script
        enjoyhint_instance.run();
    }// Enjoyhint End
    // nav
    //     $('nav.navigation > .modl_lmenu').find('> li:contains("DashBoard")').addClass('current');

    $(document).ready(function(){
        $('.card.hover1,.card.hover2,.card.hover3').click(function(){
            $(this).toggleClass('flip');
        });
    });

    //$(function(){

    // Initialize card flip
    //$('.card.hover1,.card.hover2,.card.hover3').on('click', function() {
    //$(this).addClass('flip');
    //});
    //});
    var chart;
    var chartData = <?php echo isset($chartData)?$chartData:''; ?>;

    AmCharts.ready(function () {

        // SERIAL CHART
        //chart = new AmCharts.AmSerialChart(AmCharts.themes.dark);
        chart = new AmCharts.AmSerialChart();
        chart.dataProvider = chartData;
        chart.categoryField = "date";

        // AXES
        // category
        var categoryAxis = chart.categoryAxis;
        categoryAxis.parseDates = true; // as our data is date-based, we set parseDates to true
        categoryAxis.minPeriod = "DD"; // our data is daily, so we set minPeriod to DD
        categoryAxis.minorGridEnabled = true;
        categoryAxis.axisColor = "#DADADA";
        categoryAxis.twoLineMode = true;
        categoryAxis.dateFormats = [{
            period: 'fff',
            format: 'JJ:NN:SS'
        }, {
            period: 'ss',
            format: 'JJ:NN:SS'
        }, {
            period: 'mm',
            format: 'JJ:NN'
        }, {
            period: 'hh',
            format: 'JJ:NN'
        }, {
            period: 'DD',
            format: 'DD'
        }, {
            period: 'WW',
            format: 'DD'
        }, {
            period: 'MM',
            format: 'MMM'
        }, {
            period: 'YYYY',
            format: 'YYYY'
        }];

        // first value axis (on the left)
        var valueAxis1 = new AmCharts.ValueAxis();
        valueAxis1.axisColor = "#FF6600";
        valueAxis1.axisThickness = 2;
        valueAxis1.gridAlpha = 0;
        chart.addValueAxis(valueAxis1);

        // GRAPHS
        // first graph
        var graph1 = new AmCharts.AmGraph();
        graph1.valueAxis = valueAxis1; // we have to indicate which value axis should be used
        graph1.title = "Order";
        graph1.valueField = "order";
        graph1.bullet = "round";
        graph1.lineThickness = 2;
        graph1.hideBulletsCount = 30;
        graph1.bulletBorderThickness = 1;
        chart.addGraph(graph1);

        // second graph
        var graph2 = new AmCharts.AmGraph();
        //graph2.valueAxis = valueAxis2; // we have to indicate which value axis should be used
        graph2.title = "Bill";
        graph2.valueField = "bill";
        graph2.lineThickness = 2;
        graph2.bullet = "square";
        graph2.hideBulletsCount = 30;
        graph2.bulletBorderThickness = 1;
        chart.addGraph(graph2);

        // third graph
        var graph3 = new AmCharts.AmGraph();
        //graph3.valueAxis = valueAxis3; // we have to indicate which value axis should be used
        graph3.valueField = "receipt";
        graph3.title = "Receipt";
        graph3.bullet = "triangleUp";
        graph3.hideBulletsCount = 30;
        graph3.lineThickness = 2;
        graph3.bulletBorderThickness = 1;
        chart.addGraph(graph3);

        // CURSOR
        var chartCursor = new AmCharts.ChartCursor();
        chartCursor.cursorAlpha = 0.1;
        chartCursor.fullWidth = true;
        chart.addChartCursor(chartCursor);

        // SCROLLBAR
        var chartScrollbar = new AmCharts.ChartScrollbar();
        chart.addChartScrollbar(chartScrollbar);

        // LEGEND
        var legend = new AmCharts.AmLegend();
        legend.marginLeft = 110;
        legend.valueWidth = 120;
        legend.useGraphSettings = true;
        chart.addLegend(legend);

        // WRITE
        chart.write("linechartdiv");
    });


    /*bar chart*/
    function zoomChart(){
        chart.zoomToIndexes(chart.dataProvider.length - 20, chart.dataProvider.length - 1);
    }

    $(function() {

        var serialChartData = <?php echo json_encode($serialChartData); ?>;

        var $yearSelector = $('#yearSelector');

        drawMonthlyVariationChart(serialChartData);

        $yearSelector.on('change', function() {
            $.ajax({
                type: 'POST',
                url: getBaseURL() + 'clientbilling/index/dashboard',
                data: 'date=' + $yearSelector.val(),
                success: function(data_str, status, xhr) {
                    var data = JSON.parse(data_str);
                    drawMonthlyVariationChart(data.serialChartData);

                    $('#avgOrderPercentage').html((data.avgOrderPercentage=="0"||data.avgOrderPercentage==null) ? '0' : sanitizeNumber(data.avgOrderPercentage,2,true));
                    $('#avgBillPercentage').html((data.avgBillPercentage=="0"||data.avgBillPercentage==null) ? '0' : sanitizeNumber(data.avgBillPercentage,2,true));
                    $('#avgReceiptPercentage').html((data.avgReceiptPercentage=="0"||data.avgReceiptPercentage==null) ? '0' : sanitizeNumber(data.avgReceiptPercentage,2,true));
                },
                error:function(jqXHR, textStatus, errorThrown){
                    $('#avgOrderPercentage').html(0);
                    $('#avgBillPercentage').html(0);
                    $('#avgReceiptPercentage').html(0);
                }
            });
        });
    });

    function drawMonthlyVariationChart(serialChartData) {
        var chart = AmCharts.makeChart( "simplebaronechartdiv", {
            "type": "serial",
            "theme": "light",
            "dataProvider": serialChartData.orders,
            "valueAxes": [ {
                "gridColor": "#FFFFFF",
                "gridAlpha": 0.2,
                "dashLength": 0
            } ],
            "gridAboveGraphs": true,
            "startDuration": 1,
            "graphs": [ {
                "balloonText": "[[category]]: <b>[[value]]</b>",
                "fillAlphas": 0.8,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "order"
            } ],
            "chartCursor": {
                "categoryBalloonEnabled": false,
                "cursorAlpha": 0,
                "zoomable": false
            },
            "categoryField": "month",
            "categoryAxis": {
                "gridPosition": "start",
                "gridAlpha": 0,
                "tickPosition": "start",
                "tickLength": 20
            },
            "export": {
                "enabled": true
            }

        } );
        var chart = AmCharts.makeChart( "simplebartwochartdiv", {
            "type": "serial",
            "theme": "light",
            "dataProvider": serialChartData.bills,
            "valueAxes": [ {
                "gridColor": "#FFFFFF",
                "gridAlpha": 0.2,
                "dashLength": 0
            } ],
            "gridAboveGraphs": true,
            "startDuration": 1,
            "graphs": [ {
                "balloonText": "[[category]]: <b>[[value]]</b>",
                "fillAlphas": 0.8,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "bill"
            } ],
            "chartCursor": {
                "categoryBalloonEnabled": false,
                "cursorAlpha": 0,
                "zoomable": false
            },
            "categoryField": "month",
            "categoryAxis": {
                "gridPosition": "start",
                "gridAlpha": 0,
                "tickPosition": "start",
                "tickLength": 20
            },
            "export": {
                "enabled": true
            }

        } );
        var chart = AmCharts.makeChart( "simplebarthreechartdiv", {
            "type": "serial",
            "theme": "light",
            "dataProvider": serialChartData.receipts,
            "valueAxes": [ {
                "gridColor": "#FFFFFF",
                "gridAlpha": 0.2,
                "dashLength": 0
            } ],
            "gridAboveGraphs": true,
            "startDuration": 1,
            "graphs": [ {
                "balloonText": "[[category]]: <b>[[value]]</b>",
                "fillAlphas": 0.8,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "receipt"
            } ],
            "chartCursor": {
                "categoryBalloonEnabled": false,
                "cursorAlpha": 0,
                "zoomable": false
            },
            "categoryField": "month",
            "categoryAxis": {
                "gridPosition": "start",
                "gridAlpha": 0,
                "tickPosition": "start",
                "tickLength": 20
            },
            "export": {
                "enabled": true
            }

        } );
    }
    // enjoy hint
    <?php if(isset($loginCount) && $loginCount == 0):?>
    $(function() {
        helpLoader();
    });
    <?php endif; ?>
</script>