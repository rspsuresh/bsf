<script type="text/javascript" src="<?php echo $this->basePath(); ?>/js/select2.full.min.js"></script>
<link type="text/css" rel="stylesheet" href="<?php echo $this->basePath(); ?>/css/select2.min.css" />
<div class="content_wrapper padlr0">
    <div class="container-fluid padlr0">
	<form name="unit-type-generation" action="" method="post" role="form" id="unit-type-generation">
        <div class="col-lg-12">
            <h1>Project Info of
			<div class="btn-group proname_btn">
				<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"><?php echo ucfirst($responseLead['ProjectName']);?> <span class="edit_symbols" data-placement="right" data-toggle="tooltip" data-original-title="Change&nbsp;Followup&nbsp;Name"><i class="fa fa-caret-down "></i></span></a> 							
				<div class="dropdown-menu toolbar_ddown proname_ddown arrow" role="menu">
					<ul>
					<?php foreach($resultsLeadData as $leadData){?>
						<li><a href="javascript:void(0);" class="projectId" data-index="<?php echo $leadData['ProjectsId'];?>"><?php echo ucfirst($leadData['ProjectName']);?></a></li>
					<?php }	?>
					</ul>
				</div>
			</div>
			</h1>
        </div> 
        <div class="col-lg-12 clear">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="step_by_liner animated slideInDown"></div>
                            <ul class="step_by stepby_mb60">
                                <li>
                                    <div class="step_by_sep animated_0_4s slideInRight"><p>1</p></div>
                                    <p class="stepli_p1">Payment Schedule</p>
                                </li>
                                <li>
                                    <div class="step_by_sep stepsep_active animated slideInRight"><p>2</p></div>
                                    <p class="stepli_p2">Unit Generation</p>
                                </li>
                                <li class="opacity_08">
                                    <div class="step_by_sep animated_1_5s slideInRight"><p>3</p></div>
                                    <p class="stepli_p3">Car Park Management</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1 cnt_slider">	
                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner" role="listbox">
                            <div class="item active">
                                <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
                                    <!--<h1 class="txt_center form_main_h1">Unit Details</h1>-->
									<div class="row">   
									   <div class="form-group col-lg-12">
									   <select name="BlockId" id="BlockName" class="single_dropdown lbl_move" data-size="5" style="width:100%;" label="Select the Block...">
											 <option value="">Choose BlockName</option>
											 <?php 
												foreach($resultsBlock as $type){ ?>
												<option value="<?php echo $type['BlockId'] ?>" ><?php echo $type['BlockName'] ?></option>
												<?php } ?>
											</select>
											<div class="error_message"><p>Please Select Block...</p></div>
										</div>
									</div>
									<div class="row">   
										<div class="form-group col-lg-12">
											<select name="LevelId" id="LevelName" class="single_dropdown lbl_move" data-size="5" style="width:100%;" label="Select the Level...">
											   <option value="">Choose LevelName</option>
											  <?php 
												foreach($resultsLevel as $type){ ?>
												<option value="<?php echo $type['LevelId'] ?>" ><?php echo $type['LevelName'] ?></option>
												<?php } ?>
											</select>
											<div class="error_message"><p>Please Select the Level...</p></div>
										</div>
									</div>
									<div class="row">   
										<div class="form-group col-lg-12">
											<select name="UnitTypeId" id="TypeId" class="single_dropdown lbl_move" data-size="5" style="width:100%;" label="Select the UnitType...">
											  <option value="">Choose UnitType</option>
											  <?php 
												foreach($resultsType as $type){ ?>
												<option value="<?php echo $type['UnitTypeId'] ?>" ><?php echo $type['UnitTypeName'] ?></option>
											<?php } ?>
											</select>
											<div class="error_message"><p>Please Select the UnitType...</p></div>
										</div>
									</div>
									<div class="row">   
									<div class="form-group col-lg-12">
										<input type="text" class="form-control lbl_move " label="FlatNo" name="FlatNo" id="FlatNo">  
										<div class="error_message"><p>Please fill FlatNo...</p></div>
									</div>
                    			</div>
                                </div>
                            </div>
                            <div class="item">
                                <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
                                    <h1 class="txt_center form_main_h1">Unit Details</h1>
									<div class="row">   
										<div class="form-group col-lg-12">
										<select name="SequenceBasedId" id="SequenceBasedId" class="single_dropdown lbl_move" data-size="5" style="width:100%;" label="Select the Sequence Base...">
											  <option value="">Choose SequenceBased</option>
											  <?php 
												foreach($resultsBase as $type){ ?>
												<option value="<?php echo $type['BaseId'] ?>" ><?php echo $type['Description'] ?></option>
												<?php } ?>
											</select>
											<div class="error_message"><p>Please Select the SequenceBasedId...</p></div>
										</div>
									</div>
									<div class="row">   
										<div class="form-group col-lg-12">
											<select name="SequenceOrderId" id="SequenceOrder" class="single_dropdown lbl_move" data-size="5" style="width:100%;" label="Select the Sequence Order...">
											 <option value="">Choose SequenceOrder</option>
											 <?php 
												foreach($resultsOrder as $type){ ?>
												<option value="<?php echo $type['OrderId'] ?>" ><?php echo $type['Description'] ?></option>
												<?php } ?>
											</select>
											<div class="error_message"><p>Please Select the SequenceOrderId...</p></div>
										</div>
									</div>
									<div class="row">   
										<div class="form-group col-lg-12">
											<input type="text" class="calculation form-control lbl_move date_picker" name="StartFrom" id="StartFrom" label="Start From" onKeyPress="return isNumberKey(evt)">  
											<div class="error_message"><p>Please type the Date...</p></div>
										</div>
									</div>
                                </div>
                            </div>                
                            <!-- Indicators -->
                           <!---- <ol class="carousel-indicators">
                                <li data-target="#carousel-example-generic" data-index="0" class="active"></li>
                                <li data-target="#carousel-example-generic" data-index="1"></li>
                                <li data-target="#carousel-example-generic" data-index="2"></li>
                                <!----<li data-target="#carousel-example-generic" data-slide-to="3"></li>---->
                           <!---- </ol>---->
                            <!-- Controls 
                            <ul class="prev_next">
                                <li class="float_l">
                                    <a href="#carousel-example-generic" data-slide="prev">
                                        <span><i class="fa fa-arrow-left"></i></span>
                                    </a>
                                </li>-->
                               <!---- <li class="float_r">
                                    <a href="javascript:void(0)" class="nextSlide" role="button">
                                        <span><i class="fa fa-arrow-right continue"></i></span>
                                    </a>
                                </li>---->
                            </ul>
                        </div>
                    </div>	
                </div>
            </div>
        </div>
		</form>
    </div>
</div>
<div class="col-lg-12 savebtn_area">
    <ul>
		<li class="dropdown save_btn float_r">
			<a href="javascript:void(0);" class="ripple continue nextSlide1" id="continue" onclick= "validate()">save</a>
			<div class="save_trigger">
				<a href="javascript:void(0);" class="ripple" data-toggle="dropdown">
					<i class="fa fa-angle-down"></i>
				</a>
				<ul class="ang_down_ul save_down_ul dropdown-menu dropdown-menu-right">
					<li><a href="javascript:void(0);">Save &amp; Next</a></li>
					<li><a href="<?php echo $this->basePath(); ?>/crm/project/Projects" class="current" id="current_url">Save &amp; Exit</a></li>
				</ul>
			</div>
		</li>	
		<!----<li class="cancel_btn float_r">
			<a href="javascript:void(0);" class="ripple back">back</a>
		</li>
		<li class="goto">
            <label for="go_to" class="float_l">Go to</label> 
            <select id="choose" name="go_to" class="float_l goto_select" title="Choose Page to go....">
				<option>go to</option>
				<option value="1">General</option>
                <option value="2">Land Area Details</option>
                <option value="3">Land Cost Calculation</option>
                <option value="4">Car Park</option>
            </select>  
        </li>---->
    </ul>
</div>
<script type="text/javascript">
$('.cnt_slider .carousel').carousel({
 interval: false
})

$('.carousel-indicators li').click(function(){
});
$('.nextSlide1').click(function(){
	var bool = true;
	$('.carousel-inner div.active').find('input:text, select').each(function(){
		var tagname = $(this).prop("tagName").toLowerCase();
			if(tagname == 'input'){
				var type = $(this).attr("type");
				if(type == 'text'){
					if($(this).is(":visible") && $(this).val().trim() == ''){
						bool=false;
						//alert($(this).attr("error"));
						$(this).closest('.polymer-form').next(".error_message").show();
						//$(this).next("span").text($(this).attr("error"));
						$(this).focus();
						return false;
					}
				}
				else if(type == 'checkbox'){
				}
				else if(type == 'radio'){
				}				
			}
			else if(tagname == 'select'){
				if($(this).val() == "" || $(this).val() == null){
					bool = false;
					//console.log($(this).closest('.polymer-form').next(".error_message"))
					$(this).closest('.form-group').find(".error_message").show();
					$(this).focus();
					return false;					
				}	
			}
			else if(tagname == 'textarea'){
				if($(this).val().trim().length == 0){
					bool = false;
					alert($(this).attr("error"));
					$(this).focus();
					return false;
				}	
			}		
	})
	
	if(bool){
		if($("div.item:visible").index() == $("div.item:last").index()){
			$('form').submit();
		}
		else{
			$('.cnt_slider .carousel').carousel('next');	
		}	
	}
	//$('.cnt_slider .carousel').carousel('next');
})

</script>
<script>
	$(document).ready(function() {
		$(".single_dropdown").select2({
			placeholder: "",
			allowClear: true,
		});
		$(".multiple_dropdown").select2({
        });
	});
</script>
<script>
$('.projectId').on('click',function(){
	var urlId = $(this).attr('data-index');
	location.replace("../unit-type-generation/"+urlId);
});

$('.date_picker').datepicker({
	format:'dd-mm-yyyy'
})		
</script>