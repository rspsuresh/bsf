<link type="text/css" rel="stylesheet" href="<?php echo $this->basePath(); ?>/css/cb.css" />
<style type="text/css">
.agreement_paper_area				{background-color:#e5f2e9; border:1px solid #bee5d3; padding:10px 10px; font-family:Georgia, "Times New Roman", Times, serif; }
.agrment_duplicate_img				{margin:auto !important; display:block; padding:10px 0px;}
.agreement_paper_area h2			{font-family:Georgia, "Times New Roman", Times, serif; font-size:15px; color:#343434; font-weight:600; padding-bottom:15px;}
.agreement_paper_area p				{font-size:12px;}
.agreement_paper_area ul			{padding-top:15px;}
.agreement_paper_area li 			{list-style: none; line-height:25px; counter-increment: foo; display: table-row;}
.agreement_paper_area li .agree_title_span		{font-weight:600; display:block; font-size:11px;}
.agreement_paper_area li::before 				{content: counter(foo) ".";display: table-cell;text-align: right; padding-right: .3em;}
.clrbg_select2dropdown .select2-container		{border:1px dashed #4d0c45;}
.multiple_selectinput							{min-height:40px;}
</style>
<script id="chargedummy-row"  type="text/template" class="hide">
<div class="empty-charge">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-6 col-md-6 col-sm-6 padlr0">
				<input type="text" class="inputSetup" name="charge_name__" id="charge_name__" value="" autocomplete="off" placeholder="Other Charge" onfocus="return checkOtherChargeService(this.id);" onkeypress="addNewRow(this);" />
				<input type="hidden" class="inputSetup" name="charge_id__" id="charge_id__" value="" />
				<input type="hidden" class="inputSetup" name="charge_transid__" id="charge_transid__" value="" />
			</div>
			<div class="col-lg-3 col-md-3 col-sm-3 padlr0">
				<input type="text" class="inputSetup" name="charge_value__" id="charge_value__" value="" placeholder="Amount" autocomplete="off" onkeypress="return isDecimal(event,this);"/>
			</div>
			<div class="col-lg-3 col-md-3 col-sm-3 padlr0">
				<select style="width:100%;" name="charge_type__" id="charge_type__" class="single_dropdown" onchange="getVal(this);">
					<option value="M">per month</option>
					<option value="R">As Per Reading</option>
				</select>
			</div>
		</div>
	</div>
</div>
</script>
<script id="householddummy-row"  type="text/template" class="hide">
<div class="empty-household">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-6 col-md-6 col-sm-6 padlr0">
				<input type="text" class="inputSetup" name="household_name__" id="household_name__" placeholder="Item" value="" autocomplete="off" onfocus="return checkOtherHousehold(this.id);" onkeypress="addNewRow(this);" />
				<input type="hidden" class="inputSetup" name="household_id__" id="household_id__" value=""  />
				<input type="hidden" class="inputSetup" name="household_transid__" id="household_transid__" value="" />
			</div>
			<div class="col-lg-3 col-md-3 col-sm-3 padlr0">
				<input type="text" class="inputSetup" name="household_value__" id="household_value__" value="" autocomplete="off" onkeypress="return isDecimal(event,this);" />
			</div>
			<div class="col-lg-3 col-md-3 col-sm-3 padlr0">
				<input type="text" class="inputSetup" name="nos__" id="nos__"  placeholder="Nos" readonly />
			</div>
		</div>
	</div>
</div>
</script>
<script id="amenitydummy-row"  type="text/template" class="hide">
<div class="empty-amenity">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-12 col-md-12 col-sm-12 padlr0">
				<input type="text" class="inputSetup" name="amenity_name__" id="amenity_name__" autocomplete="off" value="" placeholder="Amenity" onfocus="return checkOtherAmenity(this.id);" onkeypress="addNewRow(this);" />
			</div>
			<input type="hidden" class="inputSetup" name="amenity_id__" id="amenity_id__"  />
			<input type="hidden" class="inputSetup" name="amenity_transid__" id="amenity_transid__" value="" />
		</div>
	</div>
</div>
</script>
<script id="checklistdummy-row" type="text/template" class="hide">
<div class="empty-checklist">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-12 col-md-12 col-sm-12 padlr0">
				<input type="text" class="inputSetup" name="checklist_name__" id="checklist_name__" value="" autocomplete="off" placeholder="Check List" onfocus="return checkOtherChecklist(this.id);" onkeypress="addNewRow(this);" />
				<input type="hidden" class="inputSetup" name="checklist_id__" id="checklist_id__" value=""  />
				<input type="hidden" class="inputSetup" name="checklist_transid__" id="checklist_transid__" value="" />
			</div>
		</div>
	</div>
</div>
</script>
<script id="documentdummy-row"  type="text/template" class="hide">
<div class="empty-document">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-8 col-md-8 col-sm-8 padlr0">
				<input type="text" class="inputSetup" name="document_name__" id="document_name__" value=""  placeholder="Document" autocomplete="off" onkeypress="addNewRow(this);" />
				<input type="hidden" class="inputSetup" name="document_transid__" id="document_transid__" value=""  />
			</div>
			<div class="col-lg-4 col-md-4 col-sm-4 padlr0">
				 <span class="col-lg-10 col-md-3 col-sm-3 filenameid" id="filenameid__"></span>
				<ul class="action_btns">
					<!--<li>-->
					<!--<a href="#"><span data-original-title="Document Views" data-placement="left" data-toggle="tooltip"><i class="fa fa-eye"></i></span></a>-->
					<!--</li>-->
					<li>
						<a href="#"><span class="btn-file butclr_imp" data-original-title="Documents Attached" data-placement="left" data-toggle="tooltip"><i class="fa fa-paperclip dcm_atch"></i><input type="file" name="document__" id="document__" onchange="documentFile(this);"></span></a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="col-lg-12 error_message position_rel"><p>File Required</p></div>
</div>
</script>
<script id="sDepositdummy-row"  type="text/template" class="hide">
<div class="empty-sDeposit">
	<div class="input">
		<div class="col-lg-12 m_btm10 padlr0">
			<div class="col-lg-8 col-md-8 col-sm-8 padlr0">
				<input type="hidden" class="inputSetup" name="sDeposit_transid__" id="sDeposit_transid__" value="" />
				<input type="text" class="inputSetup" name="sDeposit_name__" id="sDeposit_name__"  placeholder="ScheduleName" autocomplete="off" onkeypress="addNewRow(this);" />
			</div>
			<div class="col-lg-4 col-md-4 col-sm-4 padlr0">
				<input type="text" class="inputSetup" name="sDeposit_value__" id="sDeposit_value__"  autocomplete="off" placeholder="%" onkeypress="addNewRow(this); return isDecimal(event,this);" />
			</div>
		</div>
	</div>
</div>
</script>
<div class="content_wrapper padlr0">
    <form method="post" id="theform" enctype="multipart/form-data">
        <div class="container-fluid padlr0">
            <div class="col-lg-12">
                <h1 data-bsfhead="Rental/ Lease Agreeement" class="txt_center">Rental/ Lease Agreeement</h1>
            </div>
            <div class="col-lg-12 clear padlr0">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                	<div class="col-lg-offset-3">
                		<label for="refno" class="bk_lbl bk_lbl_inpt">Ref No <span class="colon_r">:</span></label>
                		<input data-bsfshare="RefNo" type="text" class="bk_lbl_inpt inputbg_ef bk_inpt1" name="refno" id="refno" onchange="agreementBind('ref_no',$(this).val());" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['RefNo'] : '';?>" />
                	</div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-lg-pull-1 col-md-pull-1 col-sm-pull-1">
                	<div class="col-lg-offset-6">
                		<label for="refdate" class="bk_lbl bk_lbl_inpt"><span class="bkspan_calendar"><i class="fa fa-calendar-o"></i></span> Ref Date <span class="colon_r">:</span></label>
						<?php
                        $referDate = null;
                        if(isset($ownerDetail['RefDate'])){
                        $referDate = date('d-m-Y', strtotime($ownerDetail['RefDate']));
                        }?>
                		<input data-bsfshare="RefDate" type="text" class="date_picker bk_lbl_inpt bk_inpt inputbg_ef" readonly  name="refdate" id="refdate" onchange="agreementBind('ref_date',$(this).val());" value="<?php echo $referDate; ?>" />
                	</div>
            	</div>
        	</div>
            <div class="col-lg-12 clear">
                <div class="liner"></div>
            </div>
            <div class="col-lg-12 clear" style="background-color:#fff;">
                 <!-- Owner Info -->
                <div id="rentalAgree_1" class="col-lg-6 padlr0 m_top10">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Owner Info</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Project/Unit/Owner?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input type="hidden" id="lead" name="lead" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['LeadId'] : $rentlead; ?>" />
                                                <input data-bsfshare="Project Name" type="text" id="projectname" name="projectname" placeholder="Project/ Unit/ Owner" value="<?php echo (isset($ownerName)) ? $ownerName['value'] : '';?>" class="inputSetup" autocomplete="off" />
                                                <input type="hidden" id="unitid" name="unitid" value="<?php echo (isset($ownerName)) ? $ownerName['data'] : '';?>" />
                                                <input type="hidden" id="leadid" name="leadid" value="" />
                                                <input type="hidden" id="unitNo" name="unitNo" value="" onchange="agreementBind('unit',$(this).val());" />
                                                <input type="hidden" id="project" name="project" value="" onchange="agreementBind('project',$(this).val());" />
                                                <input type="hidden" id="leadname" name="leadname" value="" onchange="agreementBind('owner',$(this).val());" />
                                                <input type="hidden" id="mode" name="mode" value="<?php echo (isset($mode)) ? $mode : ""; ?>" />
                                                <input type="hidden" name="rentalregisterid" id="rentalregisterid" value="<?php echo (isset($rentalRegisterId)) ? $rentalRegisterId : '0';?>" />
                                                <input type="hidden" name="propertytransid" value="<?php echo (isset($propertyDetail)) ? $propertyDetail['PropertyTransId'] : '';?>"/>
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is their Permanent Address?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Address" type="text" id="address" name="address" onchange="agreementBind('owner_permanant_address',$(this).val());" autocomplete="off" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['Address'] : '';?>" placeholder="Address" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is their PAN?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Pan No" type="text" id="pan_no" name="pan_no" autocomplete="off" onchange="agreementBind('owner_panno',$(this).val());" placeholder="PAN No" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['PANNo'] : '';?>" class="inputSetup special" maxlength="10" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q4" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Has the Owner appointed a Power of Attorney?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="1" id="powerattorneyyes" <?php if(isset($ownerDetail)) { echo ($ownerDetail['IsPowerOfAttorney']=="1") ? 'checked':''; } ?> name="powerattorney" checked/>
                                                    <label for="powerattorneyyes" class="ripple">Yes</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="0" id="powerattorneyno" <?php if(isset($ownerDetail)) { echo ($ownerDetail['IsPowerOfAttorney']=="0") ? 'checked':''; } ?> name="powerattorney" />
                                                    <label for="powerattorneyno" class="ripple">No</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q5" class="attorney_hide" <?php if(isset($ownerDetail) && $ownerDetail['IsPowerOfAttorney']==0) { echo "style='display:none;'"; }?>>
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Power of Attorney holder name?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Attorney Name" type="text" id="attorney_name" name="attorney_name" onchange="agreementBind('poa_name',$(this).val());" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['PAName'] : '';?>" autocomplete="off" placeholder="Name" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q6" class="attorney_hide" <?php if(isset($ownerDetail) && $ownerDetail['IsPowerOfAttorney']==0) { echo "style='display:none;'"; }?>>
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Address of Power of Attorney?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Attorney Address" type="text" id="attorney_address" name="attorney_address" onchange="agreementBind('address_of_poa',$(this).val());" autocomplete="off" placeholder="Address" value="<?php echo (isset($ownerDetail)) ? $ownerDetail['PAAddress'] : '';?>" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Owner&nbsp;Info" onclick="validateOwner();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div id="enddatediv"></div>
                <!-- Tenant Info -->
                <div id="rentalAgree_2" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Tenant Info</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Company/ Business Name?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Company Name" type="text" id="companyname" name="companyname" onchange="agreementBind('bussiness_name',$(this).val());" value="<?php if(isset($tenantDetail)) { echo $tenantDetail['LeaserName']; } else if(isset($tenantName['LeadName'])) { echo $tenantName['LeadName']; } ?>" placeholder="Company/ Business Name"  class="inputSetup" autocomplete="off" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Business Type of the Firm/Company?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Business Type" type="text" id="businesstype" name="businesstype" onchange="agreementBind('bussiness_type',$(this).val());" autocomplete="off" value="<?php echo (isset($tenantDetail)) ? $tenantDetail['BusinessType'] : '';?>" placeholder="Business Type" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Type of the Firm?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Firm Type" type="text" id="typefirm" name="typefirm" autocomplete="off" onchange="agreementBind('type_of_firm',$(this).val());" value="<?php echo (isset($tenantDetail)) ? $tenantDetail['CompanyType'] : '';?>" placeholder="Type of Firm" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q4" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Year of Establishment?</span>
                                        </div>
                                        <?php $eDate = date('Y'); ?>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <select style="width:100%;" name="year_establish" id="year_establish" onchange="agreementBind('year_establish',$(this).val());" class="single_dropdown">
                                                    <?php for($i=1900;$i<=$eDate;$i++) { ?>
                                                        <option <?php if(isset($tenantDetail) && ($tenantDetail['EstablishmentYear']) == $i ) echo 'selected' ; ?> value="<?php echo $i; ?>"><?php echo $i; ?></option>
                                                    <?php } ?>
                                                </select>
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q5" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is their Registeration Address?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Register Address" type="text" id="register_address" name="register_address" onchange="agreementBind('reg_address',$(this).val());" value="<?php if(isset($tenantDetail)) { echo $tenantDetail['Address']; } else if(isset($tenantPanAdd['Address1'])) { echo $tenantPanAdd['Address1']; } ?>" autocomplete="off" placeholder="Address" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q6" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is their PAN?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Tenant Panno" type="text" id="tenant_panno" name="tenant_panno" onchange="agreementBind('company_pan',$(this).val());" autocomplete="off" placeholder="PAN No" value="<?php if(isset($tenantDetail)) { echo $tenantDetail['PANNo']; } else if(isset($tenantPanAdd['PanNo'])) { echo $tenantPanAdd['PanNo']; } ?>" class="inputSetup special" maxlength="10" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('1');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Tenant&nbsp;Info" onclick="validateTenant();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Property Details -->
                <div id="rentalAgree_3" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Property Details</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Rental Area?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-10 col-md-10 col-sm-10 padlr0">
                                                    <input data-bsfshare="Rental Area" type="text" id="rental_area" name="rental_area" placeholder="Area" onchange="agreementBind('rental_area',$(this).val());" value="<?php echo (isset($propertyDetail)) ? $propertyDetail['Area'] : '';?>" onkeypress="return isDecimal(event,this);"  class="inputSetup" autocomplete="off" />
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2 padlr0">
                                                    <span style="padding-top:10px; padding-left:10px; display:inline-block;">Sft</span>
                                                </div>
                                                
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Which floors offers to Rental?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="multiple_selectinput input">
                                                <select style="width:100%;" name="payment[]" id="payment_schedule" multiple="multiple" class="multiple_dropdown">
                                                    <?php
                                                    if(isset($floorProp)) {
                                                        foreach( $floorProp as $floor):?>
                                                            <option <?php if(isset($propertyFloorDetail)) { foreach( $propertyFloorDetail as $floorDetail){ if(isset($floorDetail) && ($floorDetail['FloorId']) == $floor['FloorId'] ) { echo 'selected' ; } } }?> value="<?php echo $floor['FloorId']; ?>"><?php echo $floor['FloorName']; ?></option>
                                                        <?php endforeach;
                                                    } ?>
                                                </select>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Property Address?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Property Address" type="text" id="proper_address" name="proper_address" onchange="agreementBind('property_address',$(this).val());" autocomplete="off" value="<?php echo (isset($propertyDetail)) ? $propertyDetail['PropertyAddress'] : '';?>" placeholder="Address" class="inputSetup" />
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('2');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Property&nbsp;Info" onclick="validateProperty();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Agreement Details -->
                <div id="rentalAgree_4" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Agreement Details</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">When will the Agreement to be Signed?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input col-lg-12 padlr0">
                                                <span class="date_icon"><i class="fa fa-calendar"></i></span>
                                                <?php
                                                $agmtDate = null;
                                                if(isset($agreementDetail['AgtDate'])){
                                                    $agmtDate = date('d-m-Y', strtotime($agreementDetail['AgtDate']));
                                                }?>
                                                <input data-bsfshare="Agreement Date" type="text" id="agreedate" class="date_picker inputSetup" onchange="agreementBind('date_of_agreement_signed',$(this).val());" name="agreedate" placeholder="Date" value="<?php echo $agmtDate; ?>" autocomplete="off" />
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the terms of Lease Agreement?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-9 col-md-9 col-sm-9 padlr0"><input data-bsfshare="Lease Terms" type="text" id="lease_terms" onchange="agreementBind('terms_of_lease_agreement',$(this).val());" name="lease_terms" autocomplete="off" onkeypress="return isDecimal(event,this);" placeholder="Terms" value="<?php echo (isset($agreementDetail)) ? $agreementDetail['LeasePeriod'] : '';?>" class="inputSetup" /></div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <select style="width:100%;" name="year_terms" id="year_terms" class="single_dropdown">
                                                            <option <?php if (isset($agreementDetail) && strcmp(trim($agreementDetail['LeasePeriodType']),"Y") == 0 ) echo 'selected' ; ?> value="Y">Years</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Lock in Period?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-9 col-md-9 col-sm-9 padlr0">
                                                    <input data-bsfshare="Lock Period" type="text" id="lock_period" name="lock_period" autocomplete="off" onkeypress="return isDecimal(event,this);" onchange="agreementBind('lock_in_period',$(this).val());" placeholder="Period" value="<?php echo (isset($agreementDetail)) ? $agreementDetail['LockInPeriod'] : '';?>" class="inputSetup" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                    <select style="width:100%;" name="year_lock" id="year_lock" class="single_dropdown">
                                                        <option <?php if (isset($agreementDetail) && strcmp(trim($agreementDetail['LockInPeriodType']),"Y") == 0 ) echo 'selected' ; ?> value="Y">Years</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q4" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Rent Free Period?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-9 col-md-9 col-sm-9 padlr0">
                                                    <input data-bsfshare="Free Period" type="text" id="free_period" name="free_period" autocomplete="off" onchange="agreementBind('rental_free_period',$(this).val());" placeholder="Terms" value="<?php echo (isset($agreementDetail)) ? $agreementDetail['RentFreePeriod'] : '';?>" onkeypress="return isDecimal(event,this);" class="inputSetup" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                    <select style="width:100%;" name="month_period" id="month_period" class="single_dropdown">
                                                        <option <?php if (isset($agreementDetail) && strcmp(trim($agreementDetail['RentFreePeriodType']),"M") == 0 ) echo 'selected' ; ?> value="M">Months</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q5" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">When will the Agreement Start?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input col-lg-12 padlr0">
                                                <span class="date_icon"><i class="fa fa-calendar"></i></span>
                                                <?php
                                                $agmtStart = null;
                                                if(isset($agreementDetail['StartDate'])){
                                                    $agmtStart = date('d-m-Y', strtotime($agreementDetail['StartDate']));
                                                }?>
                                                <input data-bsfshare="Agreement Start" type="text" id="agreestart" name="agreestart" autocomplete="off" placeholder="Date" onchange="agreementBind('agreement_start',$(this).val());" value="<?php echo $agmtStart; ?>" class="inputSetup date_picker" />
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q6" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Is the Tenant required to give a notice before terminating the agreement?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="1" id="terminateyes" <?php if(isset($agreementDetail)) { echo ($agreementDetail['IsNoticePeriod']=="1") ? 'checked':''; } ?> name="terminate" checked />
                                                    <label for="terminateyes" class="ripple">Yes</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="0" id="terminateno" <?php if(isset($agreementDetail)) { echo ($agreementDetail['IsNoticePeriod']=="0") ? 'checked':''; } ?> name="terminate" />
                                                    <label for="terminateno" class="ripple">Not Specifiy</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q7" class="notice_hide" <?php if(isset($agreementDetail) && $agreementDetail['IsNoticePeriod']==0) { echo "style='display:none;'"; }?>>
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the notice Period?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-9 col-md-9 col-sm-9 padlr0"><input data-bsfshare="Notice Period" type="text" id="noticeperiod" name="noticeperiod" onchange="agreementBind('notice_period',$(this).val());" autocomplete="off" value="<?php echo (isset($agreementDetail)) ? $agreementDetail['NoticePeriod'] : '';?>" onkeypress="return isDecimal(event,this);" placeholder="Duration" class="inputSetup" /></div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <select style="width:100%;" name="month_notice" id="month_notice" class="single_dropdown">
                                                            <option <?php if (isset($agreementDetail) && strcmp(trim($agreementDetail['NoticePeriodType']),"M") == 0 ) echo 'selected' ; ?> value="M">Months</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('3');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Agreement&nbsp;Info" onclick="validateAgreement();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Security Deposit -->
                <div id="rentalAgree_5" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Security Deposit</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Security Deposit Amount based on What?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="L" id="security_yes" <?php if(isset($secureDeposit)) { echo (strcmp(trim($secureDeposit['SDBasedOn']),"L") == 0) ? 'checked':''; }?> name="security_based" checked />
                                                    <label for="security_yes" class="ripple">Lump Sum Amount</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="R" id="security_no" <?php if(isset($secureDeposit)) { echo (strcmp(trim($secureDeposit['SDBasedOn']),"R") == 0) ? 'checked':''; }?> name="security_based" />
                                                    <label for="security_no" class="ripple">Rate per Sft</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Security Amount?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <input data-bsfshare="Security Amount" type="text" id="security_amt" name="security_amt" onchange="agreementBind('security_amount',$(this).val());" onkeypress="return isDecimal(event,this);" placeholder="Deposit Amount" value="<?php echo (isset($secureDeposit)) ? $secureDeposit['SDAmount'] : '';?>" class="inputSetup" autocomplete="off" />
                                            </div>
                                            <div class="col-lg-12 error_message"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Has any Payment Schedule available to Pay Security Deposit?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="1" id="payment_yes" <?php if(isset($secureDeposit)) { echo ($secureDeposit['IsPaymentSchedule']=="1") ? 'checked':''; } ?> name="payment_deposit" checked />
                                                    <label for="payment_yes" class="ripple">Yes</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="0" id="payment_no" <?php if(isset($secureDeposit)) { echo ($secureDeposit['IsPaymentSchedule']=="0") ? 'checked':''; } ?> name="payment_deposit" />
                                                    <label for="payment_no" class="ripple">No</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q4" class="paymentsch_hide" <?php if(isset($secureDeposit) && $secureDeposit['IsPaymentSchedule']==0) { echo "style='display:none;'"; }?>>
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" id="sDeposit_count" name="sDeposit_count" value="<?php echo (isset($secureDepositSchedule)) ? $sDepositCount : '0';?>" />
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Payment Schedule?</span>
                                        </div>
                                        <div class="onebyone_content sDeposit">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0 ) {
                                                $count=0; ?>
                                                <?php
                                                foreach($secureDepositSchedule as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-8 col-md-8 col-sm-8 padlr0">
                                                                <input type="hidden" class="inputSetup" name="sDeposit_transid_<?php echo $count; ?>" id="sDeposit_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>" />
                                                                <input type="text" class="inputSetup" name="sDeposit_name_<?php echo $count; ?>" id="sDeposit_name_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['ScheduleName'] : '';?>" placeholder="ScheduleName" autocomplete="off" onkeypress="addNewRow(this);" />
                                                            </div>
                                                            <div class="col-lg-4 col-md-4 col-sm-4 padlr0">
                                                                <input type="text" class="inputSetup" name="sDeposit_value_<?php echo $count; ?>" id="sDeposit_value_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['SchedulePer'] : '';?>" placeholder="%" autocomplete="off" onkeypress="addNewRow(this); return isDecimal(event,this);" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                        <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                    </div>
                                </li>
                                <li id="q5" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Can the agreement be renewed after expiration?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="Y" id="expire_yes" <?php if(isset($secureDeposit)) { echo (strcmp(trim($secureDeposit['RenewalType']),"Y") == 0) ? 'checked':''; }?> name="securitydeposit" checked />
                                                    <label for="expire_yes" class="ripple">Yes</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="N" id="expire_no" <?php if(isset($secureDeposit)) { echo (strcmp(trim($secureDeposit['RenewalType']),"N") == 0) ? 'checked':''; }?> name="securitydeposit" />
                                                    <label for="expire_no" class="ripple">No</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="D" id="expire_specify" <?php if(isset($secureDeposit)) { echo (strcmp(trim($secureDeposit['RenewalType']),"D") == 0) ? 'checked':''; }?> name="securitydeposit" />
                                                    <label for="expire_specify" class="ripple">Do not Specify</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('4');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Security&nbsp;Deposit&nbsp;Info" onclick="validateSecurityDeposit();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!--Rent Details-->
                <div id="rentalAgree_6" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Rent Details</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Rent?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-9 col-md-9 col-sm-9 padlr0"><input data-bsfshare="Rent Amount" type="text" id="rent_amt" name="rent_amt" onchange="agreementBind('rent_amount',$(this).val());" autocomplete="off" onkeypress="return isDecimal(event,this);" placeholder="Rent Amount" value="<?php echo (isset($RentDetail)) ? $RentDetail['RentAmount'] : '';?>" class="inputSetup" /></div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <select style="width:100%;" name="rent_type" id="rent_type" class="single_dropdown">
                                                            <option <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['RentPerPeriod']),"D") == 0) ? 'checked':''; }?> value="D">per day</option>
                                                            <option <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['RentPerPeriod']),"W") == 0) ? 'checked':''; }?> value="W">per week</option>
                                                            <option <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['RentPerPeriod']),"M") == 0) ? 'checked':''; }?> value="M">per month</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the due day of Rent?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <select style="width:100%;" name="due_rent" id="due_rent" onchange="agreementBind('rent_due_date',$(this).val());" class="single_dropdown">
                                                    <?php for($i=1;$i<=31;$i++) { ?>
                                                        <option <?php if(isset($RentDetail) && ($RentDetail['DueDay']) == $i ) echo 'selected' ; ?> value="<?php echo $i; ?>"><?php echo $i; ?></option>
                                                    <?php } ?>
                                                </select>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q3" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is Grace Period to Pay Rent?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-9 col-md-9 col-sm-9 padlr0"><input data-bsfshare="Grace Period" type="text" id="grace_period" onchange="agreementBind('rent_pay_grace_period',$(this).val());" name="grace_period" autocomplete="off" value="<?php echo (isset($RentDetail)) ? $RentDetail['GracePeriod'] : '';?>" onkeypress="return isDecimal(event,this);" placeholder="Duration" class="inputSetup" /></div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <select style="width:100%;" name="grace_days" id="grace_days" class="single_dropdown">
                                                            <option <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['GracePeriodType']),"D") == 0) ? 'checked':''; }?> value="D">Days</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q4" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">Late Fees based on What?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="radio_check">
                                                <p>
                                                    <input type="radio" value="L" id="lump_fees" <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['LateFeesBasedOn']),"L") == 0) ? 'checked':''; }?> name="latefees" checked />
                                                    <label for="lump_fees" class="ripple">Lump Sum Rate</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="R" id="rate_fees" <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['LateFeesBasedOn']),"R") == 0) ? 'checked':''; }?> name="latefees" />
                                                    <label for="rate_fees" class="ripple">Rate per Day</label>
                                                </p>
                                                <p>
                                                    <input type="radio" value="P" id="day_fees" <?php if(isset($RentDetail)) { echo (strcmp(trim($RentDetail['LateFeesBasedOn']),"P") == 0) ? 'checked':''; }?> name="latefees" />
                                                    <label for="day_fees" class="ripple">% per Day</label>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q5" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is Late Fees?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 padlr0"><input data-bsfshare="Late Fees Day" type="text" id="late_fees_day" onchange="agreementBind('late_fees',$(this).val());" name="late_fees_day" value="<?php echo (isset($RentDetail)) ? $RentDetail['LateFees'] : '';?>" autocomplete="off" onkeypress="return isDecimal(event,this);" placeholder="" class="inputSetup" /></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q6" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Maxmium Level of Late Fees?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <input data-bsfshare="Late Fees Amount" type="text" id="late_fees_amt" name="late_fees_amt" autocomplete="off" onchange="agreementBind('max_level_of_late_fees',$(this).val());" onkeypress="return isDecimal(event,this);" value="<?php echo (isset($RentDetail)) ? $RentDetail['MaximumLateFees'] : '';?>" placeholder="Late Fees Amount" class="inputSetup" />
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                                <li id="q7" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <div class="onebyone_question">
                                            <span class="span_b">What is the Escalation Rent Percentage?</span>
                                        </div>
                                        <div class="onebyone_content">
                                            <div class="input">
                                                <div class="col-lg-12 m_btm10 padlr0">
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <input data-bsfshare="Escalation Rent Percent" type="text" id="escalationper" name="escalationper" autocomplete="off" onkeypress="return isDecimal(event,this);" value="<?php echo (isset($RentDetail)) ? $RentDetail['EscalationRentPercent'] : '';?>" class="inputSetup" style="padding-right:25px !important;" />
                                                        <span class="escalationper"><i class="fa fa-percent" aria-hidden="true"></i></span>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <span class="for_every"><label for="escalationvalid" class="ripple">For Every</label></span>
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                    <input data-bsfshare="Escalation Rent Period" type="text" id="escalationvalid" name="escalationvalid" autocomplete="off" onkeypress="return isDecimal(event,this);" value="<?php echo (isset($RentDetail)) ? $RentDetail['EscalationRentPeriod'] : '';?>" class="inputSetup" maxlength="2" />
                                                    </div>
                                                    <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                        <select style="width:100%;" name="escalation_type" id="escalation_type" class="single_dropdown">
                                                            <option <?php if (isset($RentDetail) && strcmp(trim($RentDetail['EscalationRentPeriodType']),"M") == 0 ) echo 'selected' ; ?> value="M">per Month</option>
                                                            <option <?php if (isset($RentDetail) && strcmp(trim($RentDetail['EscalationRentPeriodType']),"Y") == 0 ) echo 'selected' ; ?> value="Y">per Year</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 error_message position_rel"><p>Required</p></div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('5');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Rent&nbsp;&&nbsp;Security&nbsp;Deposit&nbsp;Info" onclick="validateRentSecurityDeposit();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
                <!-- Other Charges -->
                <div id="rentalAgree_7" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Other Charges</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" name="charge_count" id="charge_count" value="<?php echo (isset($otherDetail)) ? $chargeCount : '0';?>" />
                                        <div class="onebyone_question">
                                            <span class="span_b">What are the Charges Other than Rent?</span>
                                        </div>
                                        <div class="onebyone_content charge">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0 ) {
                                                $count=0; ?>
                                                <?php
                                                foreach($otherDetail as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 padlr0">
                                                                <input type="text" class="inputSetup" name="charge_name_<?php echo $count; ?>" id="charge_name_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['ServiceName'] : '';?>" placeholder="Other Charge" autocomplete="off" onfocus="return checkOtherChargeService(this.id);" onkeypress="addNewRow(this);" />
                                                                <input type="hidden" class="inputSetup" name="charge_id_<?php echo $count; ?>" id="charge_id_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['ServiceId'] : '';?>" />
                                                                <input type="hidden" class="inputSetup" name="charge_transid_<?php echo $count; ?>" id="charge_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>"  />
                                                            </div>
                                                            <div class="col-lg-3 col-md-3 col-sm-3 padlr0"><input type="text" class="inputSetup" name="charge_value_<?php echo $count; ?>" id="charge_value_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['Amount'] : '';?>" placeholder="Amount" <?php if(isset($data) && strcmp(trim($data['TransType']),"R") == 0) { echo "style='display:none;'"; }?> autocomplete="off" onkeypress="return isDecimal(event,this);"/></div>
                                                            <div class="col-lg-3 col-md-3 col-sm-3 padlr0">
                                                                <select style="width:100%;" name="charge_type_<?php echo $count; ?>" id="charge_type_<?php echo $count; ?>" class="single_dropdown" onchange="getVal(this);">
                                                                    <option <?php if (isset($data) && strcmp(trim($data['TransType']),"M") == 0 ) echo 'selected' ; ?> value="M">per Month</option>
                                                                    <option <?php if (isset($data) && strcmp(trim($data['TransType']),"R") == 0 ) echo 'selected' ; ?> value="R">As Per Reading</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('6');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Other&nbsp;Charges" onclick="validateOtherAmount();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Facilities -->
                <div id="rentalAgree_8" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Facilities</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" name="household_count" id="household_count" value="<?php echo (isset($furnitureDetail)) ? $holdCount : '0';?>" />
                                        <div class="onebyone_question">
                                            <span class="span_b">What are House hold item in the property?</span>
                                        </div>
                                        <div class="onebyone_content household">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0 ) {
                                                $count=0; ?>
                                                <?php
                                                foreach($furnitureDetail as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 padlr0">
                                                                <input type="text" class="inputSetup" name="household_name_<?php echo $count; ?>" id="household_name_<?php echo $count; ?>" placeholder="Item" value="<?php echo (isset($data)) ? $data['FurnitureName'] : '';?>" autocomplete="off" onfocus="return checkOtherHousehold(this.id);" onkeypress="addNewRow(this);" />
                                                                <input type="hidden" class="inputSetup" name="household_id_<?php echo $count; ?>" id="household_id_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['FurnitureId'] : '';?>"  />
                                                                <input type="hidden" class="inputSetup" name="household_transid_<?php echo $count; ?>" id="household_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>"  />
                                                            </div>
                                                            <div class="col-lg-3 col-md-3 col-sm-3 padlr0"><input type="text" class="inputSetup" name="household_value_<?php echo $count; ?>" id="household_value_<?php echo $count; ?>" placeholder="Nos" autocomplete="off" value="<?php echo (isset($data)) ? $data['Qty'] : '';?>"  onkeypress="return isDecimal(event,this);" /></div>
                                                            <div class="col-lg-3 col-md-3 col-sm-3 padlr0"><input type="text" class="inputSetup" name="nos_<?php echo $count; ?>" id="nos_<?php echo $count; ?>"  placeholder="Nos" readonly /></div>
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" name="amenity_count" id="amenity_count" value="<?php echo (isset($amenityDetail)) ? $amenityCount : '0';?>" />
                                        <div class="onebyone_question">
                                            <span class="span_b">What are the Amenities allow to use?</span>
                                        </div>
                                        <div class="onebyone_content amenity">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0 ) {
                                                $count=0; ?>
                                                <?php
                                                foreach($amenityDetail as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 padlr0"><input type="text" class="inputSetup splcharc" name="amenity_name_<?php echo $count; ?>" id="amenity_name_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['AmenityName'] : '';?>" placeholder="Amenity" autocomplete="off" onfocus="return checkOtherAmenity(this.id);" onkeypress="addNewRow(this);" /></div>
                                                            <input type="hidden" class="inputSetup" name="amenity_id_<?php echo $count; ?>" id="amenity_id_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['AmenityId'] : '';?>"  />
                                                            <input type="hidden" class="inputSetup" name="amenity_transid_<?php echo $count; ?>" id="amenity_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>"  />
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('7');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Facilities" onclick="validateFacilities();">Continue</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Submittals and Documents -->
                <div id="rentalAgree_9" class="col-lg-6 padlr0 m_top10" style="display:none;">
                    <div class="signup_onebyone_content">
                        <div class="setup_form prop_mnmt_form">
                            <div class="flwup_rightcnt"><h2>Submittals and Documents</h2></div>
                            <ul class="onebyone_form">
                                <li id="q1" class="active focus">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" name="checklist_count" id="checklist_count"  value="<?php echo (isset($checklistDetail)) ? $checklistCount : '0';?>" />
                                        <div class="onebyone_question">
                                            <span class="span_b">What are checklist are checked before the agreements?</span>
                                        </div>
                                        <div class="onebyone_content checklist">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0) {
                                                $count=0; ?>
                                                <?php
                                                foreach($checklistDetail as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 padlr0">
                                                                <input type="text" class="inputSetup" name="checklist_name_<?php echo $count; ?>" id="checklist_name_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['CheckListName'] : '';?>" placeholder="Check List" autocomplete="off" onfocus="return checkOtherChecklist(this.id);" onkeypress="addNewRow(this);" />
                                                                <input type="hidden" class="inputSetup" name="checklist_id_<?php echo $count; ?>" id="checklist_id_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['ChecklistId'] : '';?>"  />
                                                                <input type="hidden" class="inputSetup" name="checklist_transid_<?php echo $count; ?>" id="checklist_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>"  />
                                                            </div>
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                    </div>
                                </li>
                                <li id="q2" class="">
                                    <div class="onebyone_wrapper">
                                        <div class="li_number">
                                            <span><i class="fa fa-flag-checkered" aria-hidden="true"></i></span>
                                            <div class="arrow">
                                                <span><i class="fa fa-arrow-right"></i></span>
                                            </div>
                                        </div>
                                        <input type="hidden" name="document_count" id="document_count" value="<?php echo (isset($documentDetail)) ? $documentCount : '0';?>" />

                                        <div class="onebyone_question">
                                            <span class="span_b">What are the Documents submitted?</span>
                                        </div>
                                        <div class="onebyone_content document">
                                            <?php
                                            if(isset($rentalRegisterId) && $rentalRegisterId!=0) {
                                                $count=0; ?>
                                                <?php
                                                foreach($documentDetail as $data):
                                                    $count++;?>
                                                    <div class="input">
                                                        <div class="col-lg-12 m_btm10 padlr0">
                                                            <div class="col-lg-8 col-md-8 col-sm-8 padlr0">
                                                                <input type="text" class="inputSetup" name="document_name_<?php echo $count; ?>" id="document_name_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['DocumentName'] : '';?>" autocomplete="off" placeholder="Document" onkeypress="addNewRow(this);" />
                                                                <input type="hidden" class="inputSetup" name="document_transid_<?php echo $count; ?>" id="document_transid_<?php echo $count; ?>" value="<?php echo (isset($data)) ? $data['TransId'] : '';?>"  />
                                                            </div>
                                                        </div>
                                                    </div>
                                                <?php
                                                endforeach;?>
                                            <?php
                                            }
                                            ?>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="col-lg-12 savebtn_area m_btm20 no_border clear">
                                <ul>
                                    <li class="save_btn float_l">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="right" title="back" onclick="return showHideDiv('8');">Back</a>
                                    </li>
                                    <li class="save_btn float_r">
                                        <a class="ripple" href="javascript:void(0);" data-toggle="tooltip" data-placement="left" title="to&nbsp;fill&nbsp;Submittals&nbsp;and&nbsp;Documents" onclick="validateDocument();">Submit</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>

                <!-- Agreement Part -->
                <div class="col-lg-6">
                    <div class="col-lg-6 col-lg-offset-6 col-md-6 col-md-offset-6 col-sm-6 col-sm-offset-6 col-xs-10 col-xs-offset-1 clrbg_select2dropdown padlr0 m_top10">
                        <select style="width:100%;" name="changeTemplate" class="single_dropdown changeTemplate">
                            <option value="0">Select Template</option>
                            <?php foreach($agreementTemplates as $template) { ?>
                                <option <?php if(isset($ownerDetail)) { if($ownerDetail['TemplateId']==$template['TemplateId']) { echo 'selected'; } } ?> value="<?php echo $template['TemplateId']; ?>"><?php echo $template['TemplateName']; ?></option>
                            <?php } ?>
                        </select>
                    </div>
                    <div class="clear"></div>
                    <div class="agreement_paper_area m_top10">
                        <img src="<?php echo $this->basePath(); ?>/images/agreement_duplicate.jpg" class="agrment_duplicate_img clear" alt="" title=""/>
                        <div id="templateContent"><?php echo (isset($ownerDetail['TemplateContent'])) ? html_entity_decode($ownerDetail['TemplateContent']) : ''; ?></div>
                        <input type="hidden" id="templateContentHide" name="templateContentHide"/>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<script>
$('#payment_schedule').on('change', function() {
    var opt = [];
    $("#payment_schedule :selected").each(function (i, sel) {
        opt.push($(sel).text());
    });
    opt = opt.join();
    agreementBind('rental_floor_offer',opt);
});
Date.isLeapYear = function (year) {
    return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));
};

Date.getDaysInMonth = function (year, month) {
    return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
};

Date.prototype.isLeapYear = function () {
    return Date.isLeapYear(this.getFullYear());
};

Date.prototype.getDaysInMonth = function () {
    return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
};

Date.prototype.addMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() + value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};

var merTags = <?php echo json_encode($mergeTags); ?>;
$(document).ready(function() {
    var sysHeight = $(window).height();
    $('.agreement_paper_area').css('min-height',sysHeight - 240);

    addNewRow($('<div id="charge_name__"></div>'));
    addNewRow($('<div id="household_name__"></div>'));
    addNewRow($('<div id="amenity_name__"></div>'));
    addNewRow($('<div id="checklist_name__"></div>'));
    addNewRow($('<div id="document_name__"></div>'));
    addNewRow($('<div id="sDeposit_name__"></div>'));

    var $unitName = $('#projectname'),
        $UnitId = $('#unitid'),
        $LeadId = $('#leadid'),
        $unitNo=$('#unitNo'),
        $leadName=$('#leadname'),
        $project=$('#project');
    var arr_Units = <?php echo (isset($unitList)) ? json_encode($unitList) : '[]';?>;
    $unitName.autocomplete({
        lookup: arr_Units,
        showNoSuggestionNotice: false,
        lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
            if (queryLowerCase == '*') {
                return suggestion.value;
            } else {
                var re = new RegExp($.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                return re.test(suggestion.value);
            }
        }, onSelect: function (suggestion) {
            if (suggestion) {
                $UnitId.val(suggestion.data);
                $LeadId.val(suggestion.LeadId);
                $unitNo.val(suggestion.UnitNo).trigger('change');
                $leadName.val(suggestion.LeadName).trigger('change');
                $project.val(suggestion.ProjectName).trigger('change');
                getLeadData(suggestion.LeadId,suggestion.data);
                $(this).removeClass('error');
            }
        }, onSearchStart: function (suggestion) {
            $UnitId.val(0);
        }, onSearchComplete: function (query, suggestions) {
            if (!suggestions.length) {
                $UnitId.val(0);
                $(this).addClass('error');
            } else $(this).removeClass('error');
        }
    });

    $(".single_dropdown").select2({
        placeholder: "",
        allowClear: true
    });


    $(".multiple_dropdown").select2({
        placeholder: ""
    });

	$(document).on('keypress','.splcharc', function(e) {
      var k = e.keyCode == 0 ? e.charCode : e.keyCode; 
     return ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8  || k==32 || (k >= 48 && k <= 57));
    });
	
	
	
    $(".changeTemplate").change(function() {
        $.post(getBaseURL()+'crm/property/get-template-content', { tempId: $(this).val() },
            function(data) {
                var chkCount = JSON.parse(data);
                if(chkCount.TemplateContent != '') {
                    $('#templateContent').html(chkCount.TemplateContent);
                    $.each( merTags, function( key, value ) {
                        var newVal = value.slice(2,-2);
                        var tempVal = newVal.toLowerCase();
                        $('#templateContent').html($('#templateContent').html().replace(value,'<span id="ra'+tempVal+'">________</span>'));
                    });
                }
            });
    });

    $("#terminateyes, #terminateno").change(function () {
        if ($("#terminateyes").is(":checked")) {
            $('.notice_hide').show();
        }
        else if ($("#terminateno").is(":checked")) {
            $('.notice_hide').hide();
            $('#noticeperiod').val('');
            $('#notice_type').val('');
        }
    });

    $("#powerattorneyyes, #powerattorneyno").change(function () {
        if ($("#powerattorneyyes").is(":checked")) {
            $('.attorney_hide').show();
        }
        else if ($("#powerattorneyno").is(":checked")) {
            $('.attorney_hide').hide();
            $('#attorney_name').val('');
            $('#attorney_address').val('');
        }
    });

    $("#payment_yes, #payment_no").change(function () {
        if ($("#payment_yes").is(":checked")) {
            $('.paymentsch_hide').show();
        }
        else if ($("#payment_no").is(":checked")) {
            $('.paymentsch_hide').hide();
        }
    });

});

$("li").hover(
    function () {
        $(this).addClass("active focus").parent().next().addClass("active focus");
    },
    function () {
        $(this).removeClass("active focus").parent().next().removeClass("active focus");
    }
);

$(".inputSetup").focus(function(){
    $('.focus').removeClass('active focus');
    $(this).closest('li').addClass('active focus');
    $('body,html').animate({
        scrollTop: scrollPoint
    }, 600);
});

function getLeadData(leadId,unitId) {
    $.ajax({
        url: getBaseURL() + "crm/property/rental-agreement",
        type: "POST",
        data: {'LeadId' : leadId,'UnitId' : unitId},
        success: function (data, textStatus, jqXHR) {
            var data = JSON.parse(data);
            $('#address').val('');
            $('#pan_no').val('');
            $('#attorney_address').val('');
            $('#attorney_name').val('');

            if (data.length != 0 && data.length != "false") {
                var perLeadDetails = data[0];
                var poaLeadDetails = data[1];
                var poaName = data[2];
                var buildUpArea = data[3];
                if (perLeadDetails != false) {
                    if (perLeadDetails.Address1 != "") {
                        $('#address').val(perLeadDetails.Address1);
                    }
                    if (perLeadDetails.PanNo != "") {
                        $('#pan_no').val(perLeadDetails.PanNo);
                    }

                }
                if (poaLeadDetails != false)  {
                    if (poaLeadDetails.Address1 != "") {
                        $('#attorney_address').val(poaLeadDetails.Address1);
                    }
                    if (poaLeadDetails.POAId != 0 || poaLeadDetails.POAId != '') {
                        $('#powerattorneyyes').attr('checked','checked');
                    } else {
                        $('#powerattorneyno').attr('checked','checked');
                    }
                }
                if (poaName!= false && poaName!="") {
                    if (poaName.ApplicantName != "") {
                        $('#attorney_name').val(poaName.ApplicantName);
                    }
                }
                if(buildUpArea != false) {
                    if (buildUpArea.UnitArea != "") {
                        var totArea = parseFloat(buildUpArea.UnitArea);
                        $('#rental_area').val(totArea.toFixed(2));
                    }
                }

            }
        }
    });
}

function getVal(ele) {
    var read = $(ele).val();
    var arrId = $(ele).attr('id');
    var dataId = arrId.split('_');
    if(read.trim() == "R")
    {
        $('#charge_value_'+dataId[2]).hide();
        $('#charge_value_'+dataId[2]).val('');
    }
    if(read.trim() == "M")
    {
        $('#charge_value_'+dataId[2]).show();
    }

}
function showHideDiv(divId)
{
    for(i = 1; i <= 9; i++) {
        if(i == divId) {
            $('#rentalAgree_'+i).show();
        } else {
            $('#rentalAgree_'+i).hide();
        }
    }
    window.scrollTo(0,0);
}

function validateOwner() {
    $projectName=$('#projectname');
    $address = $('#address');
    $panNo=$('#pan_no');
    $unitId=$('#unitid');
    $attorneyName=$('#attorney_name');
    $attorneyAddress=$('#attorney_address');
	
	var errorFlag = 0;
    var errorFlagCount = 0;
    if($projectName.val() == "" || $unitId.val() == "0"){
        removeErrorMsg($projectName);
        showErrorMsg($projectName, "Invalid");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $projectName.focus();
        }
    } else {
        removeErrorMsg($projectName);
    }
    if($address.val() == "" ){
        showErrorMsg($address, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $address.focus();
        }
    } else {
        removeErrorMsg($address);
    }
    if($panNo.val() == "" || !validatePanNumber($panNo.val())){
        showErrorMsg($panNo, "Invalid PAN No");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $panNo.focus();
        }
    } else {
        removeErrorMsg($panNo);
    }
    if($('.changeTemplate').val()=="" || $('.changeTemplate').val()==0) {
        alert(' Select a Agreement Template...');
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $('.changeTemplate').focus();
        }
    }
    if ($("#powerattorneyyes").is(":checked")) {

        if ($attorneyName.val() == "") {
            showErrorMsg($attorneyName, "Required");
            errorFlagCount = errorFlagCount + 1;
            errorFlag = 1;
            if (errorFlagCount == 1) {
                $attorneyName.focus();
            }
        } else {
            removeErrorMsg($attorneyName);
        }
        if ($attorneyAddress.val() == "") {
            showErrorMsg($attorneyAddress, "Required");
            errorFlagCount = errorFlagCount + 1;
            errorFlag = 1;
            if (errorFlagCount == 1) {
                $attorneyAddress.focus();
            }
        } else {
            removeErrorMsg($attorneyAddress);
        }
    }
    if(errorFlag == 0) {
        showHideDiv('2');
        agreementBind('unit',$('#unitNo').val());
        agreementBind('project',$('#project').val());
        agreementBind('owner',$('#leadname').val());
		agreementBind('owner_permanant_address',$('#address').val());
		agreementBind('owner_panno',$('#pan_no').val());
		agreementBind('poa_name',$('#attorney_name').val());
		agreementBind('address_of_poa',$('#attorney_address').val());

    }
}

function validateTenant() {
    $companyName = $('#companyname');
    $businessType = $('#businesstype');
    $typeFirm = $('#typefirm');
    $yearEstablish = $('#year_establish');
    $registerAddress = $('#register_address');
    $tenantPanNo = $('#tenant_panno');
    var errorFlag = 0;
    var errorFlagCount = 0;
    if($companyName.val() == "" ){
        showErrorMsg($companyName, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $companyName.focus();
        }
    } else {
        removeErrorMsg($companyName);
    }
    if($businessType.val() == "" ){
        showErrorMsg($businessType, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $businessType.focus();
        }
    } else {
        removeErrorMsg($businessType);
    }
    if($typeFirm.val() == "" ){
        showErrorMsg($typeFirm, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $typeFirm.focus();
        }
    } else {
        removeErrorMsg($typeFirm);
    }
    if($yearEstablish.val() == "" && $yearEstablish.val() == null){
        showErrorMsg($yearEstablish, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $yearEstablish.focus();
        }
    } else {
        removeErrorMsg($yearEstablish);
    }
    if($registerAddress.val() == "" ){
        showErrorMsg($registerAddress, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $registerAddress.focus();
        }
    } else {
        removeErrorMsg($registerAddress);
    }
    if($tenantPanNo.val() != "" && !validatePanNumber($tenantPanNo.val())){
        showErrorMsg($tenantPanNo, "Invalid Pan No");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $tenantPanNo.focus();
        }
    } else {
        removeErrorMsg($tenantPanNo);
    }
    if(errorFlag == 0) {
        showHideDiv('3');
		agreementBind('bussiness_name',$('#companyname').val());
		agreementBind('bussiness_type',$('#businesstype').val());
		agreementBind('type_of_firm',$('#typefirm').val());
		agreementBind('year_establish',$('#year_establish').val());
		agreementBind('reg_address',$('#register_address').val());
		agreementBind('company_pan',$('#tenant_panno').val());
    }
}

function validateProperty() {
    $rentalArea = $('#rental_area');
    $paymentSchedule = $('#payment_schedule');
    $properAddress = $('#proper_address');

    var errorFlag = 0;
    var errorFlagCount = 0;
    if($rentalArea.val() == "" ){
        showErrorMsgNew($rentalArea, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $rentalArea.focus();
        }
    } else {
        removeErrorMsgNew($rentalArea);
    }
    if($paymentSchedule.val() == "" || $paymentSchedule.val() == null){
        showErrorMsg($paymentSchedule, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $paymentSchedule.focus();
        }
    } else {
        removeErrorMsg($paymentSchedule);
    }
    if($properAddress.val() == "" ){
        showErrorMsg($properAddress, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $properAddress.focus();
        }
    } else {
        removeErrorMsg($properAddress);
    }
    if(errorFlag == 0) {
        showHideDiv('4');
		agreementBind('rental_area',$('#rental_area').val());
        var optent = [];
        $("#payment_schedule :selected").each(function (i, sel) {
            optent.push($(sel).text());
        });
        optent = optent.join();
        agreementBind('rental_floor_offer',optent)
        agreementBind('property_address',$('#proper_address').val());
    }
}

function validateAgreement() {
    $agreeDate = $('#agreedate');
    $leaseTerms = $('#lease_terms');
    $lockPeriod = $('#lock_period');
    $freePeriod = $('#free_period');
    $agreeStart = $('#agreestart');
    $noticePeriod = $('#noticeperiod');
    $yearTerms = $('#year_terms');
    $yearLock = $('#year_lock');
    $monthPeriod = $('#month_period');
    $monthNotice = $('#month_notice');


    var errorFlag = 0;
    var errorFlagCount = 0;
    if($agreeDate.val() == "" || !/\b\d{1,2}[\/-]\d{1,2}[\/-]\d{4}\b/.test($agreeDate.val())){
        showErrorMsgNew($agreeDate, "Invalid Date");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $agreeDate.focus();
        }
    } else {
        removeErrorMsgNew($agreeDate);
    }
    if($leaseTerms.val() == "" || $yearTerms.val() == "" || $yearTerms.val() == null){
        showErrorMsgNew($leaseTerms, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $leaseTerms.focus();
        }
    } else {
        removeErrorMsgNew($leaseTerms);
    }
    if($lockPeriod.val() == "" || $yearLock.val() == "" || $yearLock.val() == null){
        showErrorMsgNew($lockPeriod, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $lockPeriod.focus();
        }
    } else {
        removeErrorMsgNew($lockPeriod);
    }
    if($freePeriod.val() == "" || $monthPeriod.val() == "" || $monthPeriod.val() == null ){
        showErrorMsgNew($freePeriod, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $freePeriod.focus();
        }
    } else {
        removeErrorMsgNew($freePeriod);
    }
    if($agreeStart.val() == "" || !/\b\d{1,2}[\/-]\d{1,2}[\/-]\d{4}\b/.test($agreeStart.val())){
        showErrorMsgNew($agreeStart, "Invalid Date");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $agreeStart.focus();
        }
    } else {
        removeErrorMsgNew($agreeStart);
    }
    if ($("#terminateyes").is(":checked")) {
        if($noticePeriod.val() == "" || $monthNotice.val() == "" || $monthNotice.val() == null){
            showErrorMsgNew($noticePeriod, "Required");
            errorFlagCount = errorFlagCount + 1;
            errorFlag = 1;
            if(errorFlagCount == 1) {
                $noticePeriod.focus();
            }
        } else {
            removeErrorMsgNew($noticePeriod);
        }
    }

    if(errorFlag == 0) {
        showHideDiv('5');
		agreementBind('date_of_agreement_signed',$('#agreedate').val());
		agreementBind('terms_of_lease_agreement',$('#lease_terms').val());
		agreementBind('lock_in_period',$('#lock_period').val());
		agreementBind('rental_free_period',$('#free_period').val());
		agreementBind('agreement_start',$('#agreestart').val());
		agreementBind('notice_period',$('#noticeperiod').val());
    }
}

function validateRentSecurityDeposit() {
    $rentAmt= $('#rent_amt');
    $rentType = $('#rent_type');
    $dueDay = $('#due_rent');
    $gracePeriod = $('#grace_period');
    $graceType = $('#grace_days');
    $lateFeesAmt = $('#late_fees_day');
    $maxLateFees = $('#late_fees_amt');
    $escPer = $('#escalationper');
    $escValid = $('#escalationvalid');
    $escType = $('#escalation_type');
    var errorFlag = 0;
    var errorFlagCount = 0;
    if($rentAmt.val() == "" || $rentType.val() == null){
        showErrorMsgNew($rentAmt, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $rentAmt.focus();
        }
    } else {
        removeErrorMsgNew($rentAmt);
    }
    if($dueDay.val() == "" || $dueDay.val() == null){
        showErrorMsgNew($dueDay, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $dueDay.focus();
        }
    } else {
        removeErrorMsgNew($dueDay);
    }
    if($gracePeriod.val() == "" || $graceType.val() == null ){
        showErrorMsgNew($gracePeriod, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $gracePeriod.focus();
        }
    } else {
        removeErrorMsgNew($gracePeriod);
    }
    if($lateFeesAmt.val() == ""){
        showErrorMsgNew($lateFeesAmt, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $lateFeesAmt.focus();
        }
    } else {
        removeErrorMsgNew($lateFeesAmt);
    }
    if($maxLateFees.val() == ""){
        showErrorMsgNew($maxLateFees, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $maxLateFees.focus();
        }
    } else {
        removeErrorMsgNew($maxLateFees);
    }
    if($escPer.val() == "" || $escValid.val() == "" || $escType.val() == null){
        showErrorMsgNew($escPer, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if(errorFlagCount == 1) {
            $escPer.focus();
        }
    } else {
        removeErrorMsgNew($escPer);
    }
    if(errorFlag == 0) {
        showHideDiv('7');
		agreementBind('rent_due_date',$('#due_rent').val());
		agreementBind('rent_pay_grace_period',$('#grace_period').val());
		agreementBind('late_fees',$('#late_fees_day').val());
		agreementBind('max_level_of_late_fees',$('#late_fees_amt').val());
    }
}
function validateSecurityDeposit() {
    $securityAmount = $('#security_amt');
    var rowCountAmt = $('#sDeposit_count').val();
    var errorFlag = 0;
    var errorFlagCount = 0;
    var totalPer = 0;
    if ($securityAmount.val() == "") {
        showErrorMsg($securityAmount, "Required");
        errorFlagCount = errorFlagCount + 1;
        errorFlag = 1;
        if (errorFlagCount == 1) {
            $securityAmount.focus();
        }
    } else {
        removeErrorMsg($securityAmount);
    }
    if ($("#payment_yes").is(":checked")) {
        for (i = 1; i <= rowCountAmt; i++) {
            if ($('#sDeposit_name_' + i).val() != "" && $('#sDeposit_value_' + i).val() == "") {
                $('#sDeposit_value_'+i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#sDeposit_value_' + i).focus();
                }
            } else {
                $('#sDeposit_value_'+i).removeClass('red_bdr');
            }
            if ($('#sDeposit_name_' + i).val() == "" && $('#sDeposit_value_' + i).val() != "") {
                $('#sDeposit_name_' + i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#sDeposit_name_' + i).focus();
                }
            } else {
                $('#sDeposit_name_' + i).removeClass('red_bdr');
            }
            if(!isNaN(parseInt($('#sDeposit_value_' + i).val()))) {
                totalPer += parseInt($('#sDeposit_value_' + i).val());
            }
        }
    }
    if (errorFlag == 0 ) {
        if ($("#payment_yes").is(":checked")) {
            if (totalPer != 100) {
                showErrorMsgPer($('.sDeposit'), "sum of all Payments should be 100 !!!");
            } else {
				removeErrorMsgPer($('.sDeposit'));
				showHideDiv('6');
			}
        } else {
            removeErrorMsgPer($('.sDeposit'));
            showHideDiv('6');
			agreementBind('security_amount',$('#security_amt').val());
        }
    }
}

function showErrorMsg($tarIp, msg) {
    var $tarErrorMsg = $tarIp.closest('div').next('.error_message');
    $tarErrorMsg.find('p').text(msg);
    $tarErrorMsg.show();
}

function removeErrorMsg($tarIp) {
    var $tarErrorMsg = $tarIp.closest('div').next('.error_message');
    $tarErrorMsg.hide();
}

function showErrorMsgNew($tarIp, msg) {
    var $tarErrorMsg = $tarIp.closest('.input').next('.error_message');
    $tarErrorMsg.find('p').text(msg);
    $tarErrorMsg.show();
}

function removeErrorMsgNew($tarIp) {
    var $tarErrorMsg = $tarIp.closest('.input').next('.error_message');
    $tarErrorMsg.hide();
}

function showErrorMsgPer($tarIp, msg) {
    var $tarErrorMsg = $tarIp.next('.error_message');
    $tarErrorMsg.find('p').text(msg);
    $tarErrorMsg.show();
}

function removeErrorMsgPer($tarIp) {
    var $tarErrorMsg = $tarIp.next('.error_message');
    $tarErrorMsg.hide();
}

function addNewRow(x) {
    var strClass = $(x).attr('id');
    var arr = strClass.split('_');
    if($(x).val() != ""){
        $(x).closest('.empty-'+arr[0]).removeClass('empty-'+arr[0]);
    }

    if($('.onebyone_content.'+arr[0]).find('.empty-'+arr[0]).length > 0) {
        return;
    }

    var newCount = parseInt($('#'+arr[0]+'_count').val());
    //$('.deleteTr_' + count).show();
    var template = $('#'+arr[0]+'dummy-row').html();
    newCount++;
    template = template.replace(/__/g, '_' + newCount);
    $('.onebyone_content.'+arr[0]).append(template);
    $('#'+arr[0]+'_count').val(newCount);
    $(".single_dropdown").select2({
        placeholder: "",
        allowClear: true
    });
    bindServiceBaseAutoComplete();
    bindChecklistBaseAutoComplete();
    bindAmenityBaseAutoComplete();
    bindHouseholdBaseAutoComplete();
}

function validateOtherAmount() {
    var rowCountAmt= $('#charge_count').val();
    var errorFlag = 0;
    var errorFlagCount = 0;
    for(i=1;i<=rowCountAmt;i++) {
        if ($('#charge_type_' + i).val().trim() == "M") {

            if ($('#charge_name_' + i).val() != "" && $('#charge_value_' + i).val() == "") {
                $('#charge_value_' + i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#charge_value_' + i).focus();
                }
            } else {
                $('#charge_value_' + i).removeClass('red_bdr');
            }
            if ($('#charge_name_' + i).val() == "" && $('#charge_value_' + i).val() != "") {
                $('#charge_name_' + i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#charge_name_' + i).focus();
                }
            } else {
                $('#charge_name_' + i).removeClass('red_bdr');
            }
        }
    }
    if(errorFlag == 0) {
        showHideDiv('8');
    }
}

function validateFacilities() {
    var rowCountAmt= $('#household_count').val();
    var errorFlag = 0;
    var errorFlagCount = 0;
    for(i=1;i<=rowCountAmt;i++){
        if($('#household_name_'+i).val() != "" && $('#household_value_'+i).val() == "" ){
            $('#household_value_'+i).addClass('red_bdr');
            errorFlagCount = errorFlagCount + 1;
            errorFlag = 1;
            if(errorFlagCount == 1) {
                $('#household_value_'+i).focus();
            }
        } else {
            $('#household_value_'+i).removeClass('red_bdr');
        }
        if($('#household_name_'+i).val() == "" && $('#household_value_'+i).val() != "" ){
            $('#household_name_'+i).addClass('red_bdr');
            errorFlagCount = errorFlagCount + 1;
            errorFlag = 1;
            if(errorFlagCount == 1) {
                $('#household_name_'+i).focus();
            }
        } else {
            $('#household_name_'+i).removeClass('red_bdr');
        }

    }
    if(errorFlag == 0) {
        showHideDiv('9');
    }
}

var serviceList = <?php echo (isset($serviceList)) ? json_encode($serviceList) : '[]';?>;
var servicePrice = serviceList;
function bindServiceBaseAutoComplete() {
    var $otherChargeName = $('input[id^=charge_name_]');
    $otherChargeName.unbind('autocomplete');
    var addedMaterials = [];
    $.each($otherChargeName, function () {
        var $this = $(this),
            name = $this[0].id;
        var arrname = name.split('_');
        var key1 = arrname[2];
        checkOtherChargeService(name);
        $this.autocomplete({
            lookup: servicePrice,
            showNoSuggestionNotice:false,
            lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
                if (queryLowerCase == '*') {
                    return suggestion.value;
                } else {
                    var re = new RegExp($.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                    return re.test(suggestion.value);
                }
            }, onSelect: function(suggestion) {
                if(suggestion) {
                    var $el = $("#charge_id_" + key1);
                    $el.val(suggestion.data);
                    $('#charge_name_'+key1).removeClass('red_bdr');
                    addNewRow($(this));
                }
            }, onSearchStart: function(suggestion) {
                $("#charge_id_" + key1).val(0);
            }, onSearchComplete: function (query, suggestions) {
                if(!suggestions.length){
                    $('#charge_name_'+key1).addClass('red_bdr');
                    $("#charge_id_" + key1).val(0);
                } else {
                    $('#charge_name_'+key1).removeClass('red_bdr');
                }
            }
        });
    });
}

function checkOtherChargeService(x) {
    var arrname = x.split('_');
    var id = arrname[2];
    var reskeyid = $('input[id^=charge_id_]');
    servicePrice = serviceList;

    servicePrice = $.grep(serviceList, function (element, index) {
        var is_selected = true;
        $.each(reskeyid, function (i, obj) {
            var $this = $(this),
                name = $this[0].id;
            var arrname = name.split('_');
            var key1 = arrname[2];
            if (key1 != id) {
                if (element.data == $this.val()) {
                    is_selected = false;
                    return false;
                }
            }
        });
        return is_selected;
    });
}

var checkList = <?php echo (isset($checkList)) ? json_encode($checkList) : '[]';?>;
var checkPrice = checkList;
function bindChecklistBaseAutoComplete() {
    var $otherChecklistName = $('input[id^=checklist_name_]');
    $otherChecklistName.unbind('autocomplete');
    var addedMaterials = [];
    $.each($otherChecklistName, function () {
        var $this = $(this),
            name = $this[0].id;
        var arrname = name.split('_');
        var key1 = arrname[2];
        checkOtherChecklist(name);
        $this.autocomplete({
            lookup: checkPrice,
            showNoSuggestionNotice:false,
            lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
                if (queryLowerCase == '*') {
                    return suggestion.value;
                } else {
                    var re = new RegExp($.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                    return re.test(suggestion.value);
                }
            }, onSelect: function(suggestion) {
                if(suggestion) {
                    var $el = $("#checklist_id_" + key1);
                    $el.val(suggestion.data);
                    $('#checklist_name_'+key1).removeClass('red_bdr');
                    addNewRow($(this));
                }
            }, onSearchStart: function(suggestion) {
                $("#checklist_id_" + key1).val(0);
            }, onSearchComplete: function (query, suggestions) {
                if(!suggestions.length){
                    $('#checklist_name_'+key1).addClass('red_bdr');
                    $("#checklist_id_" + key1).val(0);
                } else {
                    $('#checklist_name_'+key1).removeClass('red_bdr');
                }
            }
        });
    });
}

function checkOtherChecklist(x) {
    var arrname = x.split('_');
    var id = arrname[2];
    var reskeyid = $('input[id^=checklist_id_]');
    checkPrice = checkList;

    checkPrice = $.grep(checkList, function (element, index) {
        var is_selected = true;
        $.each(reskeyid, function (i, obj) {
            var $this = $(this),
                name = $this[0].id;
            var arrname = name.split('_');
            var key1 = arrname[2];
            if (key1 != id) {
                if (element.data == $this.val()) {
                    is_selected = false;
                    return false;
                }
            }
        });
        return is_selected;
    });
}

var amenityList = <?php echo (isset($amenityList)) ? json_encode($amenityList) : '[]';?>;
var amenityPrice = amenityList;
function bindAmenityBaseAutoComplete() {
    var $otherAmenityName = $('input[id^=amenity_name_]');
    $otherAmenityName.unbind('autocomplete');
    var addedMaterials = [];
    $.each($otherAmenityName, function () {
        var $this = $(this),
            name = $this[0].id;
        var arrname = name.split('_');
        var key1 = arrname[2];
        checkOtherAmenity(name);
        $this.autocomplete({
            lookup: amenityPrice,
            showNoSuggestionNotice:false,
            lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
                if (queryLowerCase == '*') {
                    return suggestion.value;
                } else {
                    var re = new RegExp($.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                    return re.test(suggestion.value);
                }
            }, onSelect: function(suggestion) {
                if(suggestion) {
                    var $el = $("#amenity_id_" + key1);
                    $el.val(suggestion.data);
                    $('#amenity_name_'+key1).removeClass('red_bdr');
                    addNewRow($(this));
                }
            }, onSearchStart: function(suggestion) {
                $("#amenity_id_" + key1).val(0);
            }, onSearchComplete: function (query, suggestions) {
                if(!suggestions.length){
                    $('#amenity_name_'+key1).addClass('red_bdr');
                    $("#amenity_id_" + key1).val(0);
                } else {
                    $('#amenity_name_'+key1).removeClass('red_bdr');
                }
            }
        });
    });
}

function checkOtherAmenity(x) {
    var arrname = x.split('_');
    var id = arrname[2];
    var reskeyid = $('input[id^=amenity_id_]');
    amenityPrice = amenityList;

    amenityPrice = $.grep(amenityList, function (element, index) {
        var is_selected = true;
        $.each(reskeyid, function (i, obj) {
            var $this = $(this),
                name = $this[0].id;
            var arrname = name.split('_');
            var key1 = arrname[2];
            if (key1 != id) {
                if (element.data == $this.val()) {
                    is_selected = false;
                    return false;
                }
            }
        });
        return is_selected;
    });
}

var householdList = <?php echo (isset($householdList)) ? json_encode($householdList) : '[]';?>;
var householdPrice = householdList;
function bindHouseholdBaseAutoComplete() {
    var $otherHouseholdName = $('input[id^=household_name_]');
    $otherHouseholdName.unbind('autocomplete');
    var addedMaterials = [];
    $.each($otherHouseholdName, function () {
        var $this = $(this),
            name = $this[0].id;
        var arrname = name.split('_');
        var key1 = arrname[2];
        checkOtherHousehold(name);
        $this.autocomplete({
            lookup: householdPrice,
            showNoSuggestionNotice:false,
            lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
                if (queryLowerCase == '*') {
                    return suggestion.value;
                } else {
                    var re = new RegExp($.Autocomplete.utils.escapeRegExChars(queryLowerCase), 'gi');
                    return re.test(suggestion.value);
                }
            }, onSelect: function(suggestion) {
                if(suggestion) {
                    var $el = $("#household_id_" + key1);
                    $el.val(suggestion.data);
                    $('#household_name_'+key1).removeClass('red_bdr');
                    addNewRow($(this));
                }
            }, onSearchStart: function(suggestion) {
                $("#household_id_" + key1).val(0);
            }, onSearchComplete: function (query, suggestions) {
                if(!suggestions.length){
                    $('#household_name_'+key1).addClass('red_bdr');
                    $("#household_id_" + key1).val(0);
                } else {
                    $('#household_name_'+key1).removeClass('red_bdr');
                }
            }
        });
    });
}

function documentFile(file) {
    var id = ($(file).attr('id')).split('_');
    var arr = ($(file).val()).split('\\');
    var count = arr.length;
    count-=1;
    $('#filenameid_'+id[1]).html(arr[count]);
}


function checkOtherHousehold(x) {
    var arrname = x.split('_');
    var id = arrname[2];
    var reskeyid = $('input[id^=household_id_]');
    householdPrice = householdList;

    householdPrice = $.grep(householdList, function (element, index) {
        var is_selected = true;
        $.each(reskeyid, function (i, obj) {
            var $this = $(this),
                name = $this[0].id;
            var arrname = name.split('_');
            var key1 = arrname[2];
            if (key1 != id) {
                if (element.data == $this.val()) {
                    is_selected = false;
                    return false;
                }
            }
        });
        return is_selected;
    });
}

function validateDocument() {
    var rowCountAmt= $('#document_count').val();
    var errorFlag = 0;
    var errorFlagCount = 0;

    for(var i=1;i<=rowCountAmt;i++) {
        if($('#document_transid_' + i).val() == "") {
            if ($('#document_name_' + i).val() != "" && $('#document_' + i).val() == "") {
                showErrorMsgNew($('#document_' + i), "File Required");
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#document_' + i).focus();
                }
            } else {
                removeErrorMsgNew($('#document_' + i));
            }
            if ($('#document_name_' + i).val() == "" && $('#document_' + i).val() != "") {
                $('#document_name_' + i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#document_name_' + i).focus();
                }
            } else {
                $('#document_name_' + i).removeClass('red_bdr');
            }
        } else {
            if ($('#document_name_' + i).val() == "") {
                $('#document_name_' + i).addClass('red_bdr');
                errorFlagCount = errorFlagCount + 1;
                errorFlag = 1;
                if (errorFlagCount == 1) {
                    $('#document_name_' + i).focus();
                }
            } else {
                $('#document_name_' + i).removeClass('red_bdr');
            }
        }
    }
    if(errorFlag == 0) {
        schedulePayment();
		agreementBind('ref_no',$('#refno').val());
        agreementBind('ref_date',$('#refdate').val());
        if($('#templateContent').html()!="") {
            $('#templateContentHide').val($('#templateContent').html());
            $('#theform').submit();
        }
    }
}

function schedulePayment() {
    var lease = parseInt($('#lease_terms').val());
    var agreeDuration = lease*12;
    var agreeDate = $('#agreestart').val();
    var sDate = agreeDate.split('-');
    var firstDate = new Date((sDate[1])+'/'+sDate[0] +'/'+sDate[2]);
    firstDate = firstDate.addMonths(agreeDuration);
    var endDate = $.datepicker.formatDate('dd-mm-yy', firstDate);
    $('#enddatediv').append('<input type="hidden" id="enddate" name="enddate" value="'+endDate+'"/>');

}

$(document).on('keypress','.special', function(e) {
    var k = e.keyCode == 0 ? e.charCode : e.keyCode;
    return ((k > 64 && k < 91) || (k > 96 && k < 123) || k == 8   || (k >= 48 && k <= 57));
});

function isDecimal(evt, element) {
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if((charCode != 46 || $(element).val().indexOf('.') != -1) &&      // . CHECK DOT, AND ONLY ONE.
        (charCode < 48 || charCode > 57) && charCode!=39 && charCode!=8 && charCode!=9) {
        return false;
    }
    return true;
}
function agreementBind(tagName,tagVal) {
    $('#ra'+tagName).html(tagVal);
}
</script>