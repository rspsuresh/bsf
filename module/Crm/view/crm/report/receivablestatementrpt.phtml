<style type="text/css">
    #dataTable tbody tr.mainTr td{
        text-align: center;
    }
    #total_cost_chartdiv {
        width		: 100%;
        height		: 350px;
        font-size	: 11px;
    }

    /* Excel Floating Icon */
    .fixed-action-btn          	    {position:fixed;top:85px;right:5px;padding-top:15px;margin-bottom:0;z-index:998;}
    .fixed-action-btn:hover ul li a.btn-floating{transform: scaleY(1) scaleX(1) translateX(0px);opacity: 1;}
    .btn-floating.btn-large         {width:45px;height:45px;}
    .fixed-action-btn ul 			{left:-142px;right:0;text-align:center;position:absolute;margin:0;top:22px;}
    .fixed-action-btn ul li 		{margin-left:8px;list-style-type:none;float:left;}
    .fixed-action-btn ul li a.btn-floating {transform: scaleY(0.4) scaleX(0.4) translateX(40px);opacity: 0;}
    .fixed-action-btn ul a.btn-floating i  {font-size: 17px;line-height: 37px;}
    .btn-floating                   {display:inline-block;color:#fff;position:relative;overflow:hidden;z-index:1;width:37px;height:37px;line-height:37px;padding: 0;
        background-color: #26a69a;border-radius:50%;cursor:pointer;vertical-align: middle;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);text-decoration: none;transition: all .3s ease;
        -webkit-transition: all .3s ease; -moz-transition: all .3s ease; -o-transition: all .3s ease;}
    .btn-floating i                 {width: inherit;display: inline-block;text-align: center;color: #fff;font-size:20px;line-height: 45px; font-weight:normal; color:#fff;}
    .next-bt                        {text-align:center;}
    .next-bt a:hover                {border:1px solid #3580C4 !important; background:#fff !important; color:#3580C4 !important;}
    .next-bt a                      {background:#3580C4!important;border:1px solid #3580C4; border-radius: 4px;
        color:#fff!important; font-size:14px; padding: 5px 10px; text-align: center; transition: all 0.4s ease 0s;}

    /* Excel Floating Icon end*/
    /*--------------Jqx Grid jqx All-------------------*/
    #treeGrid									{min-height:200px !important;}
    #treeGrid .jqx-grid-header 					{height:60px !important;}
    .jqx-widget .jqx-grid-column-header			{border:1px solid #c7c7c7 !important;}
    .jqx-widget .jqx-grid-columngroup-header	{border-top:0px !important;}
    .jqx-widget .jqx-grid-columngroup-header > div	{ margin-top:7px !important;}
    .jqx-dropdownlist-state-normal  			{margin:2px 4px !important;}
    .jqx-grid-pager .jqx-dropdownlist-state-normal  			{margin-top: 0 !important;}
    .jqx-widget-header							{border-bottom: 1px solid #5d9bb6 !important;border-top: 1px solid #ddd !important;}
    .jqx-grid-pager-input						{margin-top:2px !important; padding: 2px;text-align: center !important; width: 35px;}
    .jqx-dropdownlist-state-normal				{display: block;  float: right;height: 16px;margin-right: 7px;margin-top: 0;  padding-bottom: 2px;padding-top: 2px; width: 40px;}
    .jqx-button									{cursor: pointer;float: right;margin-right: 3px !important;margin-top: 0 !important;padding: 0 !important;width: 20px !important;}
    .jqx-button > .jqx-icon-arrow-left,
    .jqx-button >.jqx-icon-arrow-right			{height: 21px !important;margin-left: 0 !important;width: 20px !important;}
    .jqx-listitem-element						{height: 25px !important;}
    .proname_btn .select2-container{ background-color:#efefef;color:#244996;}
    .proname_btn .select2-container .select2-selection--single .select2-selection__rendered{padding-top:0px; padding-bottom:5px;}
    .proname_btn .select2-container--default .select2-selection--single{font-size:26px; line-height:28px;}
</style>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/amcharts.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/pie.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/serial.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/funnel.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/themes/light.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/themes/dark.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqx-all.js"></script>

<div class="content_wrapper  padlr0">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12 padlr0">
                    <h1 class="col-lg-6 col-md-6 col-sm-6 padlr0">
                        <div class="btn-group proname_btn">
                            <select name="project_filter"  id="project_filter"  class="form-control single_dropdown" onchange="reportSearch($(this).val());" style="width:auto; min-width:300px !important;max-width:360px !important;">
                                <option <?php if(isset($reportId) && $reportId==1) { echo 'selected'; } ?> value="1">Project Wise Sales</option>
                                <option <?php if(isset($reportId) && $reportId==2) { echo 'selected'; } ?> value="2">Stage Wise Receivable Statement</option>
                                <option <?php if(isset($reportId) && $reportId==3) { echo 'selected'; } ?> value="3">Executive Analysis</option>
                                <option <?php if(isset($reportId) && $reportId==4) { echo 'selected'; } ?> value="4">Rent Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==5) { echo 'selected'; } ?> value="5">Unit Transfer History</option>
                                <option <?php if(isset($reportId) && $reportId==6) { echo 'selected'; } ?> value="6">Receivable Statement</option>
                                <option <?php if(isset($reportId) && $reportId==7) { echo 'selected'; } ?> value="7">Ageing Report</option>
                                <option <?php if(isset($reportId) && $reportId==8) { echo 'selected'; } ?> value="8">Marketing Analysis</option>
                                <option <?php if(isset($reportId) && $reportId==9) { echo 'selected'; } ?> value="9">Maintenance Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==10) { echo 'selected'; } ?> value="10">Unit Cancel History</option>
                                <option <?php if(isset($reportId) && $reportId==11) { echo 'selected'; } ?> value="11">Project Wise Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==12) { echo 'selected'; } ?> value="12">Buyer Wise Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==13) { echo 'selected'; } ?> value="13">Customer Info Report</option>
                                <option <?php if(isset($reportId) && $reportId==14) { echo 'selected'; } ?> value="14">Payable to Broker</option>
                                <option <?php if(isset($reportId) && $reportId==15) { echo 'selected'; } ?> value="15">Unit Block History</option>
                                <option <?php if(isset($reportId) && $reportId==16) { echo 'selected'; } ?> value="16">Project Status</option>
                                <option <?php if(isset($reportId) && $reportId==17) { echo 'selected'; } ?> value="17">Sales Team Performance</option>
                                <option <?php if(isset($reportId) && $reportId==18) { echo 'selected'; } ?> value="18">Customer Classification Report</option>
                                <option <?php if(isset($reportId) && $reportId==19) { echo 'selected'; } ?> value="19">Campaign Budget vs Expense</option>
                                <option <?php if(isset($reportId) && $reportId==20) { echo 'selected'; } ?> value="20">Unit PreBook History</option>
                                <option <?php if(isset($reportId) && $reportId==21) { echo 'selected'; } ?> value="21">Executive Wise Next Followup Analysis</option>
								<option <?php if(isset($reportId) && $reportId==22) { echo 'selected'; } ?> value="22">Cost Impact</option>
                            </select>
                        </div>
                    </h1>
                    <div class="col-lg-5 col-md-8 col-sm-8 col-xs-12 pull-right padlr0 m_btm10">
                        <label class="col-lg-3 col-lg-offset-3 col-md-3 col-md-offset-3 col-sm-4 col-sm-offset-2 control-label text-right">Filter</label>
                        <div class="col-lg-6 col-md-6 col-sm-6 m_btm10">
                            <select name="reportFilter" id="reportFilter" class="form-control single_dropdown lbl_move" style="width:100%;" onchange="executiveFilter(this);" title="Report Filter">
                                <option value="0" <?php if(isset($filterWise) && $filterWise==0) { echo 'selected'; } ?> >default</option>
                                <option value="1" <?php if(isset($filterWise) && $filterWise==1) { echo 'selected'; } ?> >Last 3 Days</option>
                                <option value="2" <?php if(isset($filterWise) && $filterWise==2) { echo 'selected'; } ?> >Last Week</option>
                                <option value="3" <?php if(isset($filterWise) && $filterWise==3) { echo 'selected'; } ?> >Last Month</option>
                                <option value="4" <?php if(isset($filterWise) && $filterWise==4) { echo 'selected'; } ?> >Last 3 Months</option>
                                <option value="5" <?php if(isset($filterWise) && $filterWise==5) { echo 'selected'; } ?> >Last 6 Months</option>
                                <option value="6" <?php if(isset($filterWise) && $filterWise==6) { echo 'selected'; } ?> >Last Year</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="fixed-action-btn active">
                            <a class="btn-floating btn-large">
                                <i class="fa fa-print"></i>
                            </a>
                            <ul>
                                <li>
                                    <a class="btn-floating hide-input-file" id="print" href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Print Report">
                                        <i class="fa fa-print"></i>

                                    </a>
                                </li>
                                <li>
                                    <a class="btn-floating" id="excelExport" href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Download Excel">
                                        <i class="fa fa-download"></i>
                                    </a>
                                </li>
                                <li>
                                    <a class="btn-floating" id="csvExport" href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Export CSV">
                                        <i class="fa fa-file-archive-o"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--<div class="col-lg-6 col-lg-offset-6 commargin_ttop_20 commargin_bottom">
                    <div class="col-lg-6 commargin_top"></div>
                    <div class="col-lg-6 commargin_top"></div>
                </div>-->
                <div class="col-lg-6 col-lg-offset-6 col-md-8 col-md-offset-4 col-sm-10 col-sm-offset-2 clear padtop20 commargin_ttop_20 commargin_bottom">
                    <div class="form-group col-lg-6 col-md-6 col-sm-6 commargin_top">
                        <span class="date_icon"><i class="fa fa-calendar"></i></span>
                        <input type="text" name="fromDate" id="fromDate" class="form-control date_picker lbl_move" readonly="readonly" onchange="PopulateToData()" label="From Date"  value="<?php echo (isset($fromdat) && $fromdat != "") ? $fromdat : Date('d-m-Y'); ?>" />
                    </div>
                    <div class="form-group col-lg-6 col-md-6 col-sm-6 commargin_top">
                        <span class="date_icon"><i class="fa fa-calendar"></i></span>
                        <input type="text" name="toDate" id="toDate" class="form-control date_picker_end lbl_move" readonly="readonly" label="To Date" onchange="PopulateToData();"  value="<?php echo (isset($todat) && $todat != "") ? $todat : Date('d-m-Y'); ?>" />
                    </div>
                </div>
            </div>
            <div class="col-lg-12 clear">
                <div class="table-responsive clear">
                    <div id="treeGrid"></div>
                </div>
            </div>
            <div class="col-lg-12 clear m_tb40">
                <section class="pnnal">
                    <header class="pnnal-heading"><i class="fa fa-bar-chart"></i><span id="charttitle"> Receivable Statement</span></header>
                    <div class="pnnal-body">
                        <div id="total_cost_chartdiv"></div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
<!--<div class="col-lg-12 savebtn_area">
    <ul>
        <li class="float_r"><a href="#" class="ripple crmcmnbtn crmcmnbtn1 "  id="print"><i class="fa fa-print"></i> Print</a></li>
        <li class="float_r"><a href="#" class="crmcmnbtn crmcmnbtn2  ripple" id="excelExport">Export to Excel</a></li>
        <li class="float_r"><a href="#" class="crmcmnbtn crmcmnbtn3 ripple" id="csvExport">Export to CSV</a></li>
		<li class="float_r"><a href="#" class="crmcmnbtn crmcmnbtn4  ripple" id="htmlExport">Export to HTML</a></li>
    </ul>
</div>-->
<?php
echo $this->inlineScript()->appendFile($this->basePath('/js/warehouse.js'));
?>
<script type="text/javascript">


    $(document).ready(function() {
        var fdate= '<?php echo (isset($fromdat) && $fromdat != "") ? $fromdat : Date('d-m-Y'); ?>';

        var sDate = fdate.split('-');
        var aDate = new Date((sDate[1])+'/'+ sDate[0] +'/'+sDate[2]);

        $('.date_picker_end').datepicker({
            format: "dd-mm-yyyy",
            startDate: aDate,
            orientation: "top auto",
            autoclose: true
        });
    });


    function executiveFilter(id) {
        var val = parseInt($(id).val());

        window.location.replace(getBaseURL() + "crm/report/receivablestatementrpt/" + $('#fromDate').val() + "/" + $('#toDate').val() + "/" + val);

    }
    var chart = null;
    var arr_Lists = <?php echo (isset($arrUnitLists)) ? json_encode($arrUnitLists) : '[]';?>;
    console.log(arr_Lists)
    // prepare the data
    function reportSearch(rId) {

        switch (parseInt($.trim(rId))) {
            case 1:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectwisesalesrpt");
                break;
            case 2:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/stagewisereceivablerpt/0/0");
                break;

            case 3:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/executiveanalysisrpt");
                break;
            case 4:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/rentreceivablerpt");
                break;
            case 5:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/unittransferhistory");
                break;
            case 6:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/receivablestatementrpt");
                break;
            case 7:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/ageingrpt");
                break;
            case 8:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/marketinganalysisrpt");
                break;
            case 9:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/maintenancereceivablerpt");
                break;
            case 10:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/unitcancelhistory");
                break;
            case 11:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectwisereceivablerpt");
                break;
            case 12:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/buyerwisereceivablerpt");
                break;
            case 13:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/customerinforpt");
                break;
            case 14:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/payabletobrokerrpt");
                break;
            case 15:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/block-history");
                break;
            case 16:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectstatus");
                break;
            case 17:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/salesteamperformancerpt");
                break;
            case 18:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/customerclasificationrpt");
                break;
            case 19:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/campaignbudgetvsexpenserpt");
                break;
            case 20:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/prebook-history");
                break;
            case 21:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/executive-next-followup");
                break;
            default :
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/reportlist");
                break;
        }

    }
    var source =
    {
        dataType: "json",  //"json",
        dataFields: [
            { name: "Id", type: "number" },
            { name: "Description", type: "string" },
            { name: "ParentId", type: "number" },
            <?php foreach($datedet as $datedets) { ?>
            { name: "RecvAmount_<?php echo $datedets['Month'].$datedets['Year']; ?>", type: "number" },
            { name: "RecdAmount_<?php echo $datedets['Month'].$datedets['Year']; ?>", type: "number" },
            { name: "Amount_<?php echo $datedets['Month'].$datedets['Year']; ?>", type: "number" },
            <?php } ?>
            { name: "RecvAmount", type: "number" },
            { name: "RecdAmount", type: "number" },
            { name: "Amount", type: "number" },
            { name: "ReceivedPer", type:"number"},
            { name: "ReceivablePer", type:"number"},
            { name: "ProjectId", type:"number"},
            { name: "BlockId", type:"number"},
            { name: "expanded", type: "bool" }
        ],
        hierarchy:
        {
            keyDataField: { name: 'Id' },
            parentDataField: { name: 'ParentId' }
        },
        id: 'Id',
        localData: arr_Lists
    };
    var dataAdapter = new $.jqx.dataAdapter(source, {
        loadComplete: function () {
            // data is loaded.
        }
    });

    $("#treeGrid").jqxTreeGrid({
        width: "100%",
        source: dataAdapter,
        pageable: true,
        pagerMode: 'advanced',
        pagerHeight: 40,
        filterable: true,
		columnsResize: true,
        editable: false,
        altRows: true,
        ready: function()
        {
            $("#treeGrid").jqxTreeGrid('hideColumn', 'Id');
            $("#treeGrid").jqxTreeGrid('hideColumn', 'ParentId');
        },
        toolbarHeight: 35,
        columns: [
            { text: 'Description', dataField: "Description", align: 'center', width: '25%',pinned:true },
            { text: 'Id', dataField: "Id", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', hidden:true, filterable: false },
            <?php foreach($datedet as $datedets) { ?>
            { text: 'Billed/Advance', columnGroup: '<?php echo $datedets['MonthDesc']."-".$datedets['Year']; ?>', dataField: "RecvAmount_<?php echo $datedets['Month'].$datedets['Year']; ?>", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Received', columnGroup: '<?php echo $datedets['MonthDesc']."-".$datedets['Year']; ?>', dataField: "RecdAmount_<?php echo $datedets['Month'].$datedets['Year']; ?>", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Receivable', columnGroup: '<?php echo $datedets['MonthDesc']."-".$datedets['Year']; ?>', dataField: "Amount_<?php echo $datedets['Month'].$datedets['Year']; ?>", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            <?php } ?>
            { text: 'Billed/Advance', columnGroup: 'OB', dataField: "RecvAmount", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Received', columnGroup: 'OB', dataField: "RecdAmount", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Receivable', columnGroup: 'OB', dataField: "Amount", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Received%', columnGroup: 'OB', dataField: "ReceivedPer", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'Receivable%', columnGroup: 'OB', dataField: "ReceivablePer", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%' },
            { text: 'ProjectId', dataField: "ProjectId", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', hidden:true, filterable: false },
            { text: 'BlockId', dataField: "BlockId", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', hidden:true, filterable: false },
            { text: 'ParentId', dataField: "ParentId", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', hidden:true, filterable: false }

        ],
        columnGroups: [
            <?php foreach($datedet as $datedets) { ?>
            { text: '<?php echo $datedets['MonthDesc']."-".$datedets['Year']; ?>', align: 'center', name: '<?php echo $datedets['MonthDesc']."-".$datedets['Year']; ?>' },
            <?php } ?>
            { text: 'Total', align: 'center', name: 'OB' }
        ]
    });

    //Print option
    $("#excelExport").click(function () {
        $("#treeGrid").jqxTreeGrid('exportData', 'xls');
    });
    $("#csvExport").click(function () {
        $("#treeGrid").jqxTreeGrid('exportData', 'csv');
    });
    $("#htmlExport").click(function () {
        $("#treeGrid").jqxTreeGrid('exportData', 'html');
    });

    $("#print").click(function () {
        $("#treeGrid").jqxTreeGrid('exportData', 'html');
    });

    $('#treeGrid').on('rowClick', function (event) {
        // event args.
        var args = event.args;
        // row data.
        var row = args.row;
        // row key.
        var key = args.key;
        // data field
        var dataField = args.dataField;
        // original click event.
        var clickEvent = args.originalEvent;

        var Id=row.Id;
        var levelId=row.level;
        var value1 =$("#fromDate").val();
        var value2 =$("#toDate").val();
        var projectId=row.ProjectId;
        var blockId=row.BlockId;
        var description=row.Description;

        //console.log(projectId + " --" + blockId + " --" + floorId + " --" + unittypeId + " --" + unitId + "--"+ levelId);
        bindLoadGraph(value1, value2, projectId, blockId, levelId, description);

    });

    function bindLoadGraph(date1, date2, projectId, blockId, level, description) {
        var rtype1="";
        var headerText="";
        if(level == 0){
            rtype1="getBlock";
            headerText ="Block detail in - " + description;
        }

        $.ajax({
            url: getBaseURL() + "crm/report/receivablestatementrpt",
            data: {rtype: rtype1, date1: date1, date2: date2, projectId: projectId, blockId: blockId, csrf: "<?php echo (isset($csrf)) ? $csrf : '' ?>"},
            async: false,
            type: 'post',
            success: function(data,status, xhr) {
                data = JSON.parse(data);
                if(chart != null) {
                    chart.dataProvider = data;
                    chart.validateData();
                    console.log(headerText);
                    $("#charttitle").text(headerText);
                }
            }
        });
    }

    chart = AmCharts.makeChart("total_cost_chartdiv", {
        "theme": "light",
        "type": "serial",
        "startDuration": 1,
        "dataProvider": <?php echo (isset($arrUnitLists1)) ? json_encode($arrUnitLists1) : '[]';?>,
        "valueAxes": [{
            "position": "left",
            "title": "Amount"
        }],
        "graphs": [{
            "balloonText": "Billed/Advance [[category]]: <b>[[value]]</b>",
            "fillColorsField": "color",
            "fillAlphas": 1,
            "lineAlpha": 0.1,
            "type": "column",
            "valueField": "Billed"
        },{
            "balloonText": "Received [[category]]: <b>[[value]]</b>",
            "fillColorsField": "color",
            "fillAlphas": 1,
            "lineAlpha": 0.1,
            "type": "column",
            "valueField": "Received"
        }],
        "plotAreaFillAlphas": 0.1,
        "depth3D": 60,
        "angle": 30,
        "chartCursor": {
            "categoryBalloonEnabled": false,
            "cursorAlpha": 0,
            "zoomable": true
        },
        "categoryField": "Description",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 90
        },
        "export": {
            "enabled": true
        },
        "mouseWheelZoomEnabled": true

    });

    //bindJqxGridAutoResize();

    /*function PopulateData(value) {
     console.log(value);
     bindLoadGrid(value);
     }

     function bindLoadGrid(value) {
     $.ajax({
     url: getBaseURL() + "crm/report/projectwisesalesrpt",
     data: {rtype:'getLoad', data: value, csrf: "<?php echo isset($csrf)?$csrf:''; ?>"},
     async: false,
     type: 'post',
     success: function(data,status, xhr) {
     var source =
     {
     dataType: "json",
     dataFields: [
     { name: "Id", type: "number" },
     { name: "Description", type: "string" },
     { name: "ParentId", type: "number" },
     { name: "NoofFlat", type: "number" },
     { name: "SoldFlat", type: "number" },
     { name: "UnsoldFlat", type: "number" },
     { name: "BlockFlat", type: "number" },
     { name: "SoldArea", type: "number" },
     { name: "UnsoldArea", type: "number" },
     { name: "TotalArea", type: "number" },
     { name: "SoldAmt", type: "number" },
     { name: "UnsoldAmt", type: "number" },
     { name: "TotalNetAmt", type: "number" },
     { name: "AvgRate", type: "number" },
     { name: "expanded", type: "bool" }
     ],
     hierarchy:
     {
     keyDataField: { name: 'Id' },
     parentDataField: { name: 'ParentId' }
     },
     id: 'Id',
     localData: data
     };

     var dataAdapter = new $.jqx.dataAdapter(source, {
     loadComplete: function () {
     // data is loaded.
     }
     });

     $("#treeGrid").jqxTreeGrid({
     width: 1100,
     source: dataAdapter,
     pageable: true,
     editable: false,
     altRows: true,
     ready: function()
     {
     // called when the DatatreeGrid is loaded.
     $("#treeGrid").jqxTreeGrid('hideColumn', 'Id');
     $("#treeGrid").jqxTreeGrid('hideColumn', 'ParentId');
     },
     pagerButtonsCount: 8,
     toolbarHeight: 35,
     columns: [
     { text: 'Description', dataField: "Description", align: 'center', width: '50%' },
     { text: 'Id', dataField: "Id", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', hidden:true },
     { text: 'ParentId', dataField: "ParentId", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', hidden:true },
     { text: 'NoofFlat', dataField: "NoofFlat", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', width: '7%' },
     { text: 'Sold Flat', dataField: "SoldFlat", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', width: '7%' },
     { text: 'Unsold Flat', dataField: "UnsoldFlat", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', width: '7%' },
     { text: 'Block Flat', dataField: "BlockFlat", align: 'right', cellsAlign: 'right' , cellsFormat: 'd', width: '7%' },
     { text: 'Sold Area', dataField: "SoldArea", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Unsold Area', dataField: "UnsoldArea", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Total Area', dataField: "TotalArea", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Sold Amt', dataField: "SoldAmt", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Unsold Amt', dataField: "UnsoldAmt", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Total NetAmt', dataField: "TotalNetAmt", align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '7%' },
     { text: 'Avg Rate', dataField: "AvgRate", align: 'right', cellsAlign: 'right' , cellsFormat: 'd3', width: '7%' }
     ]
     });
     }
     });
     }
     */


    function PopulateToData(value) {
        //console.log(value);
        var fromDate = $('#fromDate').val();
        var toDate = $('#toDate').val();
        if(toDate !=  '' && fromDate!="") {
            window.location.replace(getBaseURL() + "crm/report/receivablestatementrpt/" + fromDate + "/" + toDate);
        } /*else{
         window.location.replace(getBaseURL() + "crm/report/executiveanalysisrpt");
         }*/
    }

</script>