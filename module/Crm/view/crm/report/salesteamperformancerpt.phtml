<style>
    .pagination-lg > li > a, .pagination-lg > li > span {
        font-size:15px !important;
        padding:5px 15px !important;
    }
	#total_cost_chartdiv {
        width		: 100%;
        height		: 350px;
        font-size	: 11px;
    }
/*--------------Jqx Grid jqx All-------------------*/
#jqxgrid									{min-height:200px !important;}
#jqxgrid .jqx-grid-header 					{height:90px !important;}
.jqx-widget .jqx-grid-column-header			{border:1px solid #c7c7c7 !important;}
.jqx-widget .jqx-grid-columngroup-header	{border-top:0px !important;}
.jqx-widget .jqx-grid-columngroup-header > div	{ margin-top:7px !important;}
.jqx-dropdownlist-state-normal  			{margin:2px 4px !important;}
.jqx-grid-pager .jqx-dropdownlist-state-normal  			{margin-top: 0 !important;}
.jqx-widget-header							{border-bottom: 1px solid #5d9bb6 !important;border-top: 1px solid #ddd !important;}
.jqx-grid-pager-input						{padding: 2px;text-align: center !important; width: 35px;}
.jqx-dropdownlist-state-normal				{display: block;  float: right;height: 16px;margin-right: 7px;margin-top: 0;  padding-bottom: 2px;padding-top: 2px; width: 40px;}
.jqx-button									{cursor: pointer;float: right;margin-right: 3px !important;margin-top: 0 !important;padding: 0 !important;width: 20px !important;}
.jqx-button > .jqx-icon-arrow-left,
.jqx-button >.jqx-icon-arrow-right			{height: 21px !important;margin-left: 0 !important;width: 20px !important;}
.jqx-listitem-element						{height: 25px !important;}
.jqx-input									{height: 25px !important; margin:2px 4px !important;}
.jqx-grid-pager .jqx-grid-pager-input		{height:20px !important; margin:0px 4px !important;}
#jqxgrid .jqx-grid-cell-right-align 		{text-align:right !important; padding-right:8px;}
#jqxgrid .jqx-grid-cell-left-align 			{padding-left:8px;}
.jqx-grid-column-menubutton::after			{left:4px;top:10px;}
    .proname_btn .select2-container{ background-color:#efefef;color:#244996;}
    .proname_btn .select2-container .select2-selection--single .select2-selection__rendered{padding-top:0px; padding-bottom:5px;}
    .proname_btn .select2-container--default .select2-selection--single{font-size:26px; line-height:28px;}
</style>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/amcharts.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/pie.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/serial.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/funnel.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/themes/light.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/themes/dark.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqxgrid.grouping.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqxgrid.aggregates.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqx-all.js"></script>
<div class="content_wrapper  padlr0">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
            	<div class="col-lg-12 padlr0">
					<h1 class="col-lg-6 col-md-6 col-sm-6 padlr0"><div class="btn-group proname_btn">
                            <select name="project_filter"  id="project_filter"  class="form-control single_dropdown" onchange="reportSearch($(this).val());" style="width:auto; min-width:340px !important;max-width:360px !important;">
                                <option <?php if(isset($reportId) && $reportId==1) { echo 'selected'; } ?> value="1">Project Wise Sales</option>
                                <option <?php if(isset($reportId) && $reportId==2) { echo 'selected'; } ?> value="2">Stage Wise Receivable Statement</option>
                                <option <?php if(isset($reportId) && $reportId==3) { echo 'selected'; } ?> value="3">Executive Analysis</option>
                                <option <?php if(isset($reportId) && $reportId==4) { echo 'selected'; } ?> value="4">Rent Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==5) { echo 'selected'; } ?> value="5">Unit Transfer History</option>
                                <option <?php if(isset($reportId) && $reportId==6) { echo 'selected'; } ?> value="6">Receivable Statement</option>
                                <option <?php if(isset($reportId) && $reportId==7) { echo 'selected'; } ?> value="7">Ageing Report</option>
                                <option <?php if(isset($reportId) && $reportId==8) { echo 'selected'; } ?> value="8">Marketing Analysis</option>
                                <option <?php if(isset($reportId) && $reportId==9) { echo 'selected'; } ?> value="9">Maintenance Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==10) { echo 'selected'; } ?> value="10">Unit Cancel History</option>
                                <option <?php if(isset($reportId) && $reportId==11) { echo 'selected'; } ?> value="11">Project Wise Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==12) { echo 'selected'; } ?> value="12">Buyer Wise Receivable</option>
                                <option <?php if(isset($reportId) && $reportId==13) { echo 'selected'; } ?> value="13">Customer Info Report</option>
                                <option <?php if(isset($reportId) && $reportId==14) { echo 'selected'; } ?> value="14">Payable to Broker</option>
                                <option <?php if(isset($reportId) && $reportId==15) { echo 'selected'; } ?> value="15">Unit Block History</option>
                                <option <?php if(isset($reportId) && $reportId==16) { echo 'selected'; } ?> value="16">Project Status</option>
                                <option <?php if(isset($reportId) && $reportId==17) { echo 'selected'; } ?> value="17">Sales Team Performance</option>
                                <option <?php if(isset($reportId) && $reportId==18) { echo 'selected'; } ?> value="18">Customer Classification Report</option>
                                <option <?php if(isset($reportId) && $reportId==19) { echo 'selected'; } ?> value="19">Campaign Budget vs Expense</option>
                                <option <?php if(isset($reportId) && $reportId==20) { echo 'selected'; } ?> value="20">Unit PreBook History</option>
                                <option <?php if(isset($reportId) && $reportId==21) { echo 'selected'; } ?> value="21">Executive Wise Next Followup Analysis</option>
								<option <?php if(isset($reportId) && $reportId==22) { echo 'selected'; } ?> value="22">Cost Impact</option>
                            </select>
                        </div></h1>
					<div class="col-lg-6 col-md-6 col-sm-6">
						<ul>
							<li class="float_r" style="padding: 0px 5px;"><a href="javascript:void(0);" class="ripple"  id="print" data-original-title="ExportPrint" data-placement="left" data-toggle="tooltip"><img src="<?php echo $this->basePath(); ?>/images/icons-394.png" /></a></li>
							<li class="float_r" style="padding: 0px 5px;"><a href="javascript:void(0);" class="ripple" id="excelExport" data-original-title="ExportExcel" data-placement="left" data-toggle="tooltip"><img src="<?php echo $this->basePath(); ?>/images/icons-393.png" /></a></li>
							<li class="float_r" style="padding: 0px 5px;"><a href="javascript:void(0);" class="ripple" id="csvExport" data-original-title="ExportCSV" data-placement="left" data-toggle="tooltip"><img src="<?php echo $this->basePath(); ?>/images/icons-392.png" /></a></li>
							<!--<li class="float_r"><a href="#" class="crmcmnbtn crmcmnbtn4  ripple" id="htmlExport">Export to HTML</a></li>-->
						</ul>
					</div>
                </div>
				<div class="col-lg-12 padtop20 clear commargin_ttop_20 commargin_bottom">
                    <div class="form-group col-lg-4 col-md-4 col-sm-4 commargin_top">
                        <select name="exeUnit" id="exeUnit" class="single_dropdown lbl_move" style="width:100%;" label="Select Type..." >
                            <option value="Amount" <?php if($mode== 'Amount' ) { echo 'selected';} ?> >Amount</option>
                            <option value="Unit" <?php if($mode=='Unit' ) { echo 'selected';} ?> >Unit</option>
                        </select>
                    </div>

                    <div class="form-group col-lg-4 col-md-4 col-sm-4 commargin_top">
                        <select name="fiscalYearId" id="fiscalYearId" class="single_dropdown lbl_move" style="width:100%;" label="Select Year..." >
                            <option value="">Select Year</option>
                            <option value="2015" <?php if($year==2015 ) { echo 'selected';} ?> >2015 - 2016</option>
                            <option value="2016" <?php if($year==2016 ) { echo 'selected';} ?> >2016 - 2017</option>
                            <option value="2017" <?php if($year==2017 ) { echo 'selected';} ?> >2017 - 2018</option>
                            <option value="2018" <?php if($year==2018 ) { echo 'selected';} ?> >2018 - 2019</option>
                            <option value="2019" <?php if($year==2019 ) { echo 'selected';} ?> >2019 - 2020</option>
                            <option value="2020" <?php if($year==2020 ) { echo 'selected';} ?> >2020 - 2021</option>
                        </select>
                    </div>
					<div class="form-group col-lg-4 col-md-4 col-sm-4 commargin_top">
                        <select name="periodTypeId" id="periodTypeId" class="single_dropdown lbl_move" style="width:100%;" label="Select Period..." >
                            <option value="">Select Period</option>
                            <option value="1" <?php if($periodTypeId==1 ) { echo 'selected';} ?> >Monthly</option>
                            <option value="2" <?php if($periodTypeId==2 ) { echo 'selected';} ?> >BiMonthly</option>
                            <option value="3" <?php if($periodTypeId==3 ) { echo 'selected';} ?> >Quarterly</option>
                            <option value="4" <?php if($periodTypeId==4 ) { echo 'selected';} ?> >HalfYearly</option>
                            <option value="5" <?php if($periodTypeId==5 ) { echo 'selected';} ?> >Yearly</option>
                        </select>
                    </div>
				</div>
			</div>
            <div class="col-lg-12 clear">
                <div class="table-responsive clear">
					<div style='margin-top: 10px;' id="jqxgrid"></div>
				</div>
			</div>
			<div class="col-lg-12 clear m_tb40">
                <section class="pnnal">
                    <header class="pnnal-heading"><i class="fa fa-bar-chart"></i><span id="charttitle"> Sales Team Performance</span></header>
                    <div class="pnnal-body">
                        <div id="total_cost_chartdiv"></div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    function reportSearch(rId) {

        switch (parseInt($.trim(rId))) {
            case 1:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectwisesalesrpt");
                break;
            case 2:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/stagewisereceivablerpt/0/0");
                break;

            case 3:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/executiveanalysisrpt");
                break;
            case 4:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/rentreceivablerpt");
                break;
            case 5:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/unittransferhistory");
                break;
            case 6:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/receivablestatementrpt");
                break;
            case 7:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/ageingrpt");
                break;
            case 8:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/marketinganalysisrpt");
                break;
            case 9:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/maintenancereceivablerpt");
                break;
            case 10:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/unitcancelhistory");
                break;
            case 11:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectwisereceivablerpt");
                break;
            case 12:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/buyerwisereceivablerpt");
                break;
            case 13:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/customerinforpt");
                break;
            case 14:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/payabletobrokerrpt");
                break;
            case 15:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/block-history");
                break;
            case 16:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/projectstatus");
                break;
            case 17:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/salesteamperformancerpt");
                break;
            case 18:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/customerclasificationrpt");
                break;
            case 19:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/campaignbudgetvsexpenserpt");
                break;
            case 20:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/prebook-history");
                break;
            case 21:
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/executive-next-followup");
                break;
            default :
                $(location).attr('href',"<?php echo $this->basePath(); ?>/crm/report/reportlist");
                break;
        }

    }
var arr_Lists = <?php echo (isset($arrUnitLists)) ? json_encode($arrUnitLists) : '[]';?>;

var mode = <?php echo (isset($mode)) ? json_encode($mode) : '[]';?>;
var chart = null;
$('#fiscalYearId').on('change', function(){
	var fiscalYearId = $(this).val();
	var typeId = $('#periodTypeId').val();
    var first = $('#exeUnit').val();
	window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
   /* if(first == 'Unit' && fiscalYearId !=  '' ){
        window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
    }
	else if(fiscalYearId !=  '' && first=='' ) {
		window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId);
	} else{
		window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/2015");
	}*/
});

$('#periodTypeId').on('change', function(){
	var typeId = $(this).val();
	var fiscalYearId = $('#fiscalYearId').val();
    var first = $('#exeUnit').val();
	window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
    /*if(first == 'Unit'&& fiscalYearId !=  '' ){
        window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
    }
	else if(fiscalYearId !=  '' && first=='' ) {
		window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId);
	} else{
		window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/2015");
	}*/
});

$('#exeUnit').on('change',function(){
    var first = $(this).val();
    var fiscalYearId = $('#fiscalYearId').val();
	var typeId = $('#periodTypeId').val();
	window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
    /*if(first == 'Unit' && fiscalYearId !=  '' ){
        window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt/" + fiscalYearId + "/" + first + "/" + typeId);
    } else{
        window.location.replace(getBaseURL() + "crm/report/salesteamperformancerpt");
    }*/

});

chart = AmCharts.makeChart("total_cost_chartdiv", {
	"theme": "light",
	"type": "serial",
	"startDuration": 1,
	"dataProvider": <?php echo (isset($arrUnitLists1)) ? json_encode($arrUnitLists1) : '[]';?>,
	"valueAxes": [{
		"position": "left",
		"title": "<?php echo $mode; ?>"
	}],
	"graphs": [{
		"balloonText": "Target<?php echo $mode; ?> [[category]]: <b>[[value]]</b>",
		"fillColorsField": "color",
		"fillAlphas": 1,
		"lineAlpha": 0.1,
		"type": "column",
		"valueField": "Target"
	},{
		"balloonText": "Actual<?php echo $mode; ?> [[category]]: <b>[[value]]</b>",
		"fillColorsField": "color",
		"fillAlphas": 1,
		"lineAlpha": 0.1,
		"type": "column",
		"valueField": "Actual"
	}],
	"plotAreaFillAlphas": 0.1,
	"depth3D": 60,
	"angle": 30,
	"chartCursor": {
		"categoryBalloonEnabled": false,
		"cursorAlpha": 0,
		"zoomable": true
	},
	"categoryField": "Description",
	"categoryAxis": {
		"gridPosition": "start",
		"labelRotation": 90
	},
	"export": {
		"enabled": true
	},
	"mouseWheelZoomEnabled": true

});

$(document).ready(function () {
	$(".single_dropdown").select2({
		placeholder: "",
		allowClear: true
	});

	// Load Grid
	var source = {
		localdata: arr_Lists,
		datatype: "json",
		pagesize: 15,
		datafields:
		[
			{ name: "UserId", type: "number" },
			{ name: "ExecutiveName", type: "string" },
			<?php foreach($arrMonthLists as $arrMonthList) { ?>
			{ name: "TargetAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", type: "number" },
			{ name: "ActualAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", type: "number" },
			{ name: "VarianceAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", type: "number" },
            <?php } ?>
			{ name: "TargetAmount", type: "number" },
			{ name: "ActualAmount", type: "number" },
            { name: "Variance", type: "number" }


		]
	};

	var dataAdapter = new $.jqx.dataAdapter(source);
	$("#jqxgrid").jqxGrid(
	{
		width: "100%",
		source: dataAdapter,
		pageable: true,
		pagerMode: 'advanced',
		pagerHeight: 40,
		rowsheight:40,
		columnsresize: true,
		autoheight: true,
		sortable: true,
		altrows: true,
		enabletooltips: true,
		showfilterrow: true,
		filterable: true,
		//groupable: true,
		showstatusbar: true,
		statusbarheight: 35,
		showaggregates: true,
		autorowheight: true,
		columns: [
			{ text: 'UserId', dataField: 'UserId', align: 'center' , pinned: true, hidden:true },
			{ text: 'ExecutiveName', dataField: 'ExecutiveName', align: 'center', pinned: true ,width:"25%" },		 
		<?php foreach($arrMonthLists as $arrMonthList) { ?>
			{ text: 'Target <?php echo $mode; ?>', columnGroup: '<?php echo $arrMonthList['MonthDesc']; ?>', dataField: "TargetAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", align: 'right', cellsAlign: 'right', <?php if($mode=='Unit') { ?> cellsFormat: 'n' <?php } else { ?>  cellsFormat: 'd2' <?php } ?>, width: '15%', aggregates: ['sum'],
                      aggregatesrenderer: function (aggregates, column, element, summaryData) {
                          var renderstring = "<div style='margin:8px;'>";
                          $.each(aggregates, function (key, value) {
                              var name = key == 'price';
                              renderstring += '<div><strong>' + value + '</div></strong>';
                          });
                          renderstring += "</div>";
                          return renderstring;
                      }

			},
			{ text: 'Actual <?php echo $mode; ?>', columnGroup: '<?php echo $arrMonthList['MonthDesc']; ?>', dataField: "ActualAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", align: 'right', cellsAlign: 'right' ,<?php if($mode=='Unit') { ?> cellsFormat: 'n' <?php } else { ?>  cellsFormat: 'd2' <?php } ?>, width: '15%', aggregates: ['sum'],
                      aggregatesrenderer: function (aggregates, column, element, summaryData) {
                          var renderstring = "<div style='margin:8px;'>";
                          $.each(aggregates, function (key, value) {
                              var name = key == 'price';
                              renderstring += '<div><strong>' + value + '</div></strong>';
                          });
                          renderstring += "</div>";
                          return renderstring;
                      }
			},
			{ text: 'Variance % or Variance<?php echo $mode; ?>', columnGroup: '<?php echo $arrMonthList['MonthDesc']; ?>', dataField: "VarianceAmount_<?php echo $arrMonthList['Month'].$arrMonthList['Year']; ?>", align: 'right', cellsAlign: 'right' , <?php if($mode=='Unit') { ?> cellsFormat: 'n' <?php } else { ?>  cellsFormat: 'd2' <?php } ?>, width: '15%' , aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                var renderstring = "<div style='margin:8px;'>";
                        $.each(aggregates, function (key, value) {
                            var name = key == 'price';
                            renderstring += '<div><strong>' + value + '</div></strong>';
                        });
                        renderstring += "</div>";
                        return renderstring;
}},
		<?php } ?>
			{ text: 'Total Target <?php echo $mode; ?>', columngroup: 'OB', dataField: 'TargetAmount', align: 'right', cellsalign: 'right',width:"10%", cellsformat: "d2", aggregates: ['sum'],
                      aggregatesrenderer: function (aggregates, column, element, summaryData) {
                          var renderstring = "<div style='margin:8px;'>";
                          $.each(aggregates, function (key, value) {
                              var name = key == 'price';
                              renderstring += '<div><strong>' + value + '</div></strong>';
                          });
                          renderstring += "</div>";
                          return renderstring;
                      }
			},
			{ text: 'Total Actual <?php echo $mode; ?>', columngroup: 'OB', dataField: 'ActualAmount', align: 'right', cellsalign: 'right',width:"10%",  <?php if($mode=='Unit') { ?> cellsFormat: 'n' <?php } else { ?>  cellsFormat: 'd2' <?php } ?>, aggregates: ['sum'],
                      aggregatesrenderer: function (aggregates, column, element, summaryData) {
                          var renderstring = "<div style='margin:8px;'>";
                          $.each(aggregates, function (key, value) {
                              var name = key == 'price';
                              renderstring += '<div><strong>' + value + '</div></strong>';
                          });
                          renderstring += "</div>";
                          return renderstring;
                      }
			},
            { text: 'Total Variance', columnGroup: 'OB', dataField: 'Variance', align: 'right', cellsAlign: 'right' , cellsFormat: 'd2', width: '15%'}
		],
		columngroups: [
			<?php foreach($arrMonthLists as $arrMonthList) { ?>
			{ text: '<?php echo $arrMonthList['MonthDesc']; ?>', align: 'center', name: '<?php echo $arrMonthList['MonthDesc']; ?>' },
			<?php } ?>
			{ text: 'Total', align: 'center', name: 'OB' }
		]
	});
			
	//Print option
	$("#excelExport").click(function () {
		$("#jqxgrid").jqxGrid('exportdata', 'xls', 'jqxGrid');
	});
	$("#csvExport").click(function () {
		$("#jqxgrid").jqxGrid('exportdata', 'csv', 'jqxGrid');
	});
	$("#htmlExport").click(function () {
		$("#jqxgrid").jqxGrid('exportdata', 'html', 'jqxGrid');
	});

	$("#print").click(function () {
		var gridContent = $("#jqxgrid").jqxGrid('exportdata', 'html');
		//console.log(gridContent);
		var newWindow = window.open('', '', 'width=800, height=500'),
		document = newWindow.document.open(),
		pageContent =
			'<!DOCTYPE html>\n' +
			'<html>\n' +
			'<head>\n' +
			'<meta charset="utf-8" />\n' +
			'<title>Sales Team Performance</title>\n' +				
			'<h1>Sales Team Performance</h1>\n' +
			'</head>\n' +
			'<body>\n' + gridContent + '\n</body>\n</html>';
		document.write(pageContent);
		document.close();
		newWindow.print();
	});
	//bindJqxGridAutoResize();
});
</script>