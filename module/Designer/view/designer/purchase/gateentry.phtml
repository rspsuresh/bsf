<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/project.css'; ?>" />
<style>

.float_l		{float:left;}
.plus			{font-size:20px; color:#06F; display:inline-block; margin-top:5px;}
.float_r		{float:right;}
.mar_btm		{margin-bottom:30px;}
.mar_tp			{margin-top:10px;}
.mtrl_txt:focus,.mtrl_txt:hover,.mtrl_txt.active {border: 1px solid #39F;}
.mtrl_txt{border:1px solid #CCC;padding:8px 4px;font-size:14px!important;font-weight:normal !important;width:100%;-webkit-transition: border-color 1s ease;-moz-transition:border-color 1s ease; -o-transition: border-color 1s ease;-ms-transition: border-color 1s ease;transition: border-color 1s ease;background:#fff;}
.tx_ara 		{border: 1px dashed #afbecc; font-size: 15px;height:100px;width:100%;resize:none;padding:8px 0px 8px 8px;margin-bottom:20px;}
.rmx_ara 		{border: 1px dashed #afbecc; font-size: 15px;height:80px;width:100%;resize:none;padding:8px 0px 8px 8px;margin-bottom:20px;}
.ipt_time		{border:1px solid #afbecc; padding:6px 30px;color:#666; margin: 0.5em; vertical-align: middle;outline: 0;border-radius: 4px;}
.vle_clr		{font-size:15px; font-weight:500;color:#06C; text-align:vertical;  text-align:right;}
.rad_txt		{font-size: 16px; color: #2559AA; float:left;  padding-right:15px; margin-top:8px;}

.tr_hot 							{background:#f9eaea;}
.tr_warm 							{background:#f8f1e4;}
.pagination-lg > li > a, .pagination-lg > li > span {font-size:15px !important; padding:5px 15px !important;}
#jqxGrid .jqx-grid-header 			{height:75px !important;}
.jqx_margn							{margin-top:20px; margin-bottom:20px;}

</style>

<form class="" method="post" enctype="">
    <div class="content_wrapper padlr0">
        <div class="container-fluid">
            <div class="form-group">
                <h1 class="padbtm0">Gatepass Entry</h1> 
            </div>
            <!--<step-1>-->
            <div class="visible showdiv" id="gateentry1">
            	<div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
                    <div class="form-group col-lg-12">
                    <label for="" class="rad_txt">Type</label> 
                        <div class="radio_check">
                            <p class="rad_lbl"> 
                                <input type="radio" value="1" id="In" name="In"/>
                                <label for="In" class="ripple">In</label>
                            </p>
                            <p class="rad_lbl">
                                <input type="radio" value="0" id="Out" name="In"/>
                                <label for="Out" class="ripple"d>Out</label>
                            </p>
                        </div>
                    </div>
                    <div class="form-group col-lg-12">
                        <select name="" id="" class=" lbl_move single_dropdown select2-hidden-accessible" data-size="5" 
                        title="" style="width:100%;" label="Project" tabindex="-1" aria-hidden="true" >
                            <option value=""></option>
                            <?php ?>
                            <option <?php  ?> value="<?php ?>" data-measure="<?php ?>"  data-value="<?php  ?>" ><?php ?></option>
                            <?php ?>
                        </select>
                    </div>
                    <div class="form-group col-lg-12">
                        <select name="" id="" class=" lbl_move single_dropdown select2-hidden-accessible" data-size="5" 
                        title="" style="width:100%;" label="Suppliers Name" tabindex="-1" aria-hidden="true" >
                            <option value=""></option>
                            <?php ?>
                            <option <?php  ?> value="<?php ?>" data-measure="<?php ?>"  data-value="<?php  ?>" ><?php ?></option>
                            <?php ?>
                        </select>
                    </div>
             	</div>   							
                <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"> 
                    <div class="form-group col-lg-12" style="position:relative;">
                        <select name="" id="" class=" lbl_move single_dropdown select2-hidden-accessible" data-size="5" 
                        title="" style="width:100%;" label="Vehicle Reg.No" tabindex="-1" aria-hidden="true" >
                            <option value="">Reg.No</option>
                            <?php ?>
                            <option <?php  ?> value="<?php ?>" data-measure="<?php ?>"  data-value="<?php  ?>" ><?php ?></option>
                            <?php ?>
                        </select>
                        <div class="error_message">
                            <p>Please select the Reg.No...</p>
                        </div>
                    </div>
                   <div class="plus float_r" style="position:absolute;">
                        <a href="javascript:void(0);" class="">
                        <i class="fa fa-plus"></i></a>
                    </div>
                    <div class="form-group col-lg-12">
                        <select name="" id="" class=" lbl_move single_dropdown select2-hidden-accessible" data-size="5" 
                        title="" style="width:100%;" label="Gate Name" tabindex="-1" aria-hidden="true" >
                            <option value="">Reg.No</option>
                            <?php ?>
                            <option <?php  ?> value="<?php ?>" data-measure="<?php ?>"  data-value="<?php  ?>" ><?php ?></option>
                            <?php ?>
                        </select>
                        <div class="error_message">
                            <p>Please select the Gate Name...</p>
                        </div>
                    </div>
                    <div class="form-group col-lg-12">
                        <input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder="Security Name" onkeypress="" value="">
                    </div>  
                    <div class="form-group col-lg-12">
                        <input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder="Cgate Entry No" onkeypress="" value="">
                    </div>
                    <div class="form-group col-lg-12 mar_tp" id="pkTime Vi">
                        <input type="text" name="pickUp Vi Time" id="PickUp Vi Time" style="width:100%;" class="form-control lbl_move time_picker" data-bsfshare="" readonly label="Vehicle Time In" />
                    	<div class="error_message"><p>please enter pickup time...</p></div>
                    </div>
                    <div class="form-group col-lg-12 mar_tp" id="pkTime Vo">
                        <input type="text" name="pickUp Vo Time" id="PickUp Vo Time" style="width:100%;" class="form-control lbl_move time_picker" data-bsfshare=""  readonly label="Vehicle Time Out" />
                    	<div class="error_message"><p>please enter pickup time...</p></div>
                    </div>
                </div>
            </div>
            <!--step-2-->
            <div class="visible showdiv" id="gateentry2">
            	<div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"> 																	  					<div class="form-group req_flds col-lg-12">
                    	<span class="date_icon"><i class="fa fa-calendar"></i></span>
                    	<input type="text" name="project_date" id="project_date" class="form-control lbl_move datepickerinput" label="Request date" value='<?php echo Date('d-m-Y'); ?>' />									
                    	<div class="error_message"><p>Please enter Request date...</p></div> 
                	</div>  
                    <div class="form-group col-lg-12">
                        <input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder="CCgate Entry No" onkeypress="" value="">
                    </div>
                    <div class="form-group col-lg-12">
                        <select name="" id="" class=" lbl_move single_dropdown select2-hidden-accessible" data-size="5" 
                        title="" style="width:100%;" label="PO.No" tabindex="-1" aria-hidden="true" >
                            <option value="">Tn-21 1244</option>
                            <?php ?>
                            <option <?php  ?> value="<?php ?>" data-measure="<?php ?>"  data-value="<?php  ?>" ><?php ?></option>
                            <?php ?>
                        </select>
                    </div>																															 								 					<div class="form-group col-lg-12">
                    	<input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder="Vehicle type" onkeypress="" value="">
                    </div>
                	<div class="txt-ara">
                        <textarea rows="3" id="adrs" class="tx_ara" name="adrs" placeholder="Address"></textarea>
                        <textarea rows="3" id="adrs" class="rmx_ara" name="rmrks" placeholder="Remarks"></textarea>
                    </div>
                    <div class="form-group col-lg-12">
                        <input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder=" Contact No" onkeypress="" value="">
                    </div>
                    <div class="form-group col-lg-12">
                        <input type="text" name="" id="" onchange = "" class="mtrl_txt" placeholder="Driver Name" onkeypress="" value="">
                    </div>
                </div>
         	</div>
            <!-- step 3-->
            <div class="visible showdiv" id="gateentry3">
                <div class="col-lg-12 commargin_top clear">
                    <div class="row">
                        <div class="table-responsive clear">
                            <div id="jqxGrid" class="jqx_margn">
                            </div>
                        </div>
                    </div>
                </div>
        	</div>
 		</div>
   	</div>
    <div class="col-lg-12 savebtn_area">
        <ul>
            <li id="cancel button" class="cancel_btn cancel_btn_bluecolor float_l">
                 <a onclick="backsample(this)" data-rid="show1" id="backRid"  style="cursor:pointer"class="ripple">Back</a>
            </li>
            <li id="Continue" class="dropdown save_btn  float_r">
                <a onclick="sample(this)" data-rid="show1" id="continueRid" class="ripple">continue</a>
            </li>
        </ul>      
    </div>
</form>
<script type="text/javascript">
    var data = [{"Resource":"Cement","Qty":"50000","Unit":"1000P"},{"Resource":"Cement OPC 43 Grade","Qty":"20000","Unit":"1000P"}],
        $jqxGrid = $("#jqxGrid");
    $(function () {
        var source = {
            localdata: data,
            dataType: "json",
            dataFields: [

				{name: 'Resource', type: 'string'},
                {name: 'Qty', type: 'int'},
                {name: 'Unit', type: 'string'},
            ],
            id: 'TargetId'
        };

        var dataAdapter = new $.jqx.dataAdapter(source);
        $jqxGrid.jqxGrid({
            width: "100%",
            source: dataAdapter,
            sortable: true,
            pagerButtonsCount: 6,
            filterable: true,
            pageable: true,
            rowDetails: true,
            autoheight: true,
			showfilterrow: true,
            editable: false,
            altrows: true,
            enabletooltips: true,				
			columns: 
			[
				  { text: '',columntype: 'checkbox',filterable: false,align:'left',width:'10%'},
				  { text: 'Resource', editable: false,datafield:'Resource', width:'41%'},
				  { text: 'Qty', editable: false,datafield: 'Qty', width:'19%'},
				  { text: 'Unit', editable: false,datafield: 'Unit', width:'19%'},
				  {	text: 'Action', sortable: false, filterable: false, align: 'left', width: '11%',
						cellsrenderer: function (row) {
                        var TargetId = $jqxGrid.jqxGrid('getCellValue', row, 'TargetId'),
                            editLink = '<a title="Edit" href="'+ getBaseURL() + '/  /   /'+TargetId+'" style="padding-left: 15px; margin-top:8px;"><i class="fa fa-pencil-square-o reg-icon"></i></a>';
                        return editLink + "&nbsp;&nbsp;" + '<a title="Delete" onclick="executiveDelete(' + row + ');return false;"><i class="fa fa-trash-o reg-icon"></i></a>';
                    }
				  } 
			]
        });
    });
	
	   // request check and uncheck
    $('#requestWrapper').on('click','.request-box', function () {
        $(this).toggleClass('selected');
        renderSelectedResources();
    });
	
	
	function executiveDelete(row) {
        var rowData = $jqxGrid.jqxGrid('getrowdata', row);
        var val = confirm("Do you want to delete this Target ?");
        if(val==true) {
            $.ajax({
                url: getBaseURL() + ' / /',
                type: 'POST',
                data: {"TargetId": rowData.TargetId},
                success:function(data, textStatus, jqXHR){
                    if (jqXHR.status == 200)
                        $jqxGrid.jqxGrid("deleterow", rowData.TargetId);
                    else
                        alert('Failed to delete the Executive Entry !');
                },
                error:function(jqXHR, textStatus, errorThrown){
                    alert('Failed to delete the Executive Entry !');
                }
            });

        }
    }
	$('.datepickerinput').datepicker({
		format: "dd-mm-yyyy",
		startDate: new Date(),
		todayBtn: true,
		orientation: "top auto",
		autoclose: true
	}).on("changeDate", function(e){
		$("#dateSpan").text($(this).val());
	});	
	$('.date_icon').click(function() {
		var input = $(this).parent().find('input').datepicker('show');
	});	
function sample(x){
	var dt = $(x).data('rid');
	if(dt == "show1"){
		$('#gateentry1').hide();
		$('#continueRid').data('rid','show2');
		$('#gateentry2').show();
	} else if(dt == "show2"){
		$('#gateentry2').hide();
		$('#gateentry3').show();
	}
}
function backsample(x){
	var dt = $(x).data('rid');
	if(dt == "show1"){
		$('#gateentry3').hide();
		$('#backRid').data('rid','show2');
		$('#gateentry2').show();
	} else if(dt == "show2"){
		$('#gateentry2').hide();
		$('#gateentry1').show();
	}
}
$( document ).ready(function() {
	$('#gateentry1').show();
	$('#gateentry2').hide();
	$('#gateentry3').hide();

});
</script>
				