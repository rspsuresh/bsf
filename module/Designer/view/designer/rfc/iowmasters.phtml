<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/project.css';?>"/>
<script type="text/javascript">
        $(document).ready(function () {
            var employees = [{ "serialno": 0.1, "workgroupname": "Earth Work", "spec": "Excavation","action":"delet"},
			                 { "serialno": 0.2, "workgroupname": "PCC Work", "spec": "Test","action":"delet" },
			 			     { "serialno": 0.3, "workgroupname": "Earth Work", "spec": "Excavation","action":"delet" },
							  { "serialno": 0.3, "workgroupname": "Earth Work", "spec": "Excavation","action":"delet" },
						 	
			  ];
            //// prepare the data
            var source =
            {
                dataType: "json",
                dataFields: [
                    { name: 'serialno', type: 'number' },
                    { name: 'workgroupname', type: 'number' },
                    { name: 'spec', type: 'string' },
					{ name: 'action', type: 'string' },
                    
                ],
                id: 'EmployeeID',
                localData: employees
            };
           var dataAdapter = new $.jqx.dataAdapter(source);
            // create Tree Grid
            var initrowdetails = function (index, parentElement, gridElement, datarecord) {
				 var tabsdiv = $($(parentElement).children()[0]);
				var container = "<div class='col-lg-12'>"+
        "<form class='form-horizontal'>"+
          "<div class='col-lg-12 details_master'>"+
            "<div class='table-responsive'>"+
              "<table class='table' style=' margin-bottom:0px;'>"+
                "<tbody>"+
                 " <tr>"+
                    "<td colspan='9' style='padding:0px !important; border:none;'><div class='subDiv'>"+
                        "<div class='col-lg-12' style=' margin-top:10px;'>"+
                          "<ul class='nav nav-tabs navs-tabs'>"+
                            "<li class='active'><a data-toggle='tab' href='#general'>General</a></li>"+
                            "<li><a data-toggle='tab' href='#analysis'>Rate analysis</a></li>"+
                            //"<li><a data-toggle='tab' href='#measurement'>Measurement</a></li>"+
                            //"<li><a data-toggle='tab' href='#iowresource'>IOW resource</a></li>"+
                        "  </ul>"+
                        "</div>"+
                        "<div class='tab-content'> "+
                          "<div id='general' class='tab-pane fade in active'>"+
                            "<div class='col-lg-12 tag_tit'>"+
                              "<div class='form-group col-lg-1'>"+
                                "<label class='lbss'>S-no</label>"+
                                "<input type='text' class='ptexts col-lg-4'>"+
                              "</div>"+
                              "<div class='form-group col-lg-1'>"+
                                "<label class='lbss'>Ref-no</label>"+
                               "<input type='text' class='ptexts col-lg-4'>"+
                              "</div>"+
                              "<div class='form-group col-lg-4'>"+
                                "<label class='lbss'>Specification</label>"+
                                "<textarea id='spec_1' class='lbsst col-lg-4' name='spec_1'></textarea>"+
                             " </div>"+
                              "<div class='form-group col-lg-4'>"+
                                "<label class='lbss'>Short Spec</label>"+
                                "<textarea id='spec_1' class='lbsst col-lg-4' name='spec_1'></textarea>"+
                             "</div>"+
                              "<div class='form-group col-lg-1'>"+
                                "<label class='lbss'>Unit</label>"+
                                "<input type='text' class='ptexts col-lg-4'>"+
                              "</div>"+
                              "<div class='form-group col-lg-1'>"+
                                "<label class='lbss'>Rate</label>"+
                                "<input type='text' class='ptexts col-lg-4'>"+
                             " </div>"+
                            "</div>"+
                          "</div>"+
                          "<div id='analysis' class='tab-pane fade'>"+
                            "<div class='col-lg-12'>"+
                              "<div class='table-responsive topsp'>"+
                               " <table class='table tableWithFloatingHeader' style=' margin-bottom:0px;'>"+
                                  "<thead>"+
                                    "<tr>"+
                                      "<th class='bg_clo'>Ref no</th>"+
                                      "<th class='bg_clo'>Resource</th>"+
                                      "<th class='bg_clo'>Coefficient</th>"+
                                      "<th class='bg_clo'>Unit</th>"+
                                      "<th class='bg_clo'>Rate</th>"+
                                      "<th class='bg_clo'>Amount</th>"+
                                    "</tr>"+
                                  "</thead>"+
                                  "<tbody>"+
                                    "<tr>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='15%'><input class='parent_text'/></td>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='5%' align='center'><input type='text'  class='parent_text' data-toggle='modal' data-target='#myModal'/></td>"+
                                      "<td width='5%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='8%'><input class='parent_text' type='text' /></td>"+
                                   " </tr>"+
                                   " <tr style='border-bottom:none;'>"+
                                    "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none; border-top:1px solid hsl(0, 0%, 86%)'>Rate for</td>"+
                                      "<td style='border-right:none;'><input class='parent_text' type='text' placeholder='00.0'/></td>"+
                                      "<td style='border-right:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                    "<tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Rate per</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                    "<tr style='border-bottom:none;'>"+
                                     "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Net rate</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                  "</tbody>"+
                                "</table>"+
                              "</div>"+
                           " </div>"+
                          "</div>"+
                          "<div id='measurement' class='tab-pane fade'>"+
                            "<div class='col-lg-12'>"+
                              "<div class='table-responsive topsp'>"+
                               " <table class='table tableWithFloatingHeader' style=' margin-bottom:0px;'>"+
                                  "<thead>"+
                                    "<tr>"+
                                      "<th class='bg_clo'>Ref no</th>"+
                                      "<th class='bg_clo'>Resource</th>"+
                                      "<th class='bg_clo'>Coefficient</th>"+
                                      "<th class='bg_clo'>Unit</th>"+
                                      "<th class='bg_clo'>Rate</th>"+
                                      "<th class='bg_clo'>Amount</th>"+
                                    "</tr>"+
                                 " </thead>"+
                                  "<tbody>"+
                                    "<tr>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='15%'><input class='parent_text'/></td>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='5%' align='center'><input type='text'  class='parent_text' data-toggle='modal' data-target='#myModal'/></td>"+
                                      "<td width='5%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='8%'><input class='parent_text' type='text' /></td>"+
                                    "</tr>"+
                                   "<tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none; border-top:1px solid hsl(0, 0%, 86%)'>Rate for</td>"+
                                      "<td style='border-right:none;'><input class='parent_text' type='text' placeholder='00.0'/></td>"+
                                      "<td style='border-right:none;'>&nbsp;</td>"+
                                   " </tr>"+
                                   " <tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Rate per</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                    "<tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Net rate</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                  "</tbody>"+
                                "</table>"+
                              "</div>"+
                            "</div>"+
                          "</div>"+
                           "<div id='iowresource' class='tab-pane fade'>"+
                            "<div class='col-lg-12'>"+
                              "<div class='table-responsive topsp'>"+
                                "<table class='table tableWithFloatingHeader' style=' margin-bottom:0px;'>"+
                                  "<thead>"+
                                    "<tr>"+
                                      "<th class='bg_clo'>Ref no</th>"+
                                      "<th class='bg_clo'>Resource</th>"+
                                      "<th class='bg_clo'>Coefficient</th>"+
                                      "<th class='bg_clo'>Unit</th>"+
                                      "<th class='bg_clo'>Rate</th>"+
                                      "<th class='bg_clo'>Amount</th>"+
                                     "</tr>"+
                                  "</thead>"+
                                  "<tbody>"+
                                    "<tr>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='15%'><input class='parent_text'/></td>"+
                                      "<td width='3%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='5%' align='center'><input type='text'  class='parent_text' data-toggle='modal' data-target='#myModal'/></td>"+
                                      "<td width='5%'><input class='parent_text' type='text' /></td>"+
                                      "<td width='8%'><input class='parent_text' type='text' /></td>"+
                                     "</tr>"+
                                    "<tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td style='border-right:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none; border-top:1px solid hsl(0, 0%, 86%)'>Rate for</td>"+
                                      "<td style='border-right:none;'><input class='parent_text' type='text' placeholder='00.0'/></td>"+
                                      "<td style='border-right:none;'>&nbsp;</td>"+
                                    "</tr>"+
                                   " <tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Rate per</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                   " </tr>"+
                                    "<tr style='border-bottom:none;'>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td style='border-right:none;border-top:none;'></td>"+
                                      "<td align='right' class='rate_pri' style='border-right:none;border-top:none;'>Net rate</td>"+
                                      "<td style='border-right:none;border-top:none;'><input class='parent_text' type='text' placeholder='00.0' /></td>"+
                                      "<td style='border-right:none;border-top:none;'>&nbsp;</td>"+
                                   "</tr>"+
                                  "</tbody>"+
                                "</table>"+
                              "</div>"+
                            "</div>"+
                          "</div>"+
                          
                       " </div>"+
                        
                      "</div></td>"+
                  "</tr>"+
                  
                  
                  
                "</tbody>"+
              "</table>"+
            "</div>"+
         "</div>"+
       " </form>"+
      "</div>";
		tabsdiv.append(container);
	
            }          
			
            $("#treeGrid").jqxGrid(
            {
                width: '100%',
                //height: 'auto',
				autoheight:true,
                source: dataAdapter,
                rowdetails: true,
				pageable:true,
                rowdetailstemplate: { rowdetails: "<div style='height:300px;overflow:auto;'></div>", rowdetailsheight:400},
                ready: function () {
                   /*  $("#treeGrid").jqxGrid('showrowdetails', 0);
                    $("#treeGrid").jqxGrid('showrowdetails', 1); */
                },
                initrowdetails: initrowdetails,
                columns: [
                  { text: 'Serial No', dataField: 'serialno',},
                  { text: 'WorkGroupName', dataField: 'workgroupname',},
                  { text: 'Specification', dataField: 'spec',},
				  { text: 'Action', cellsrenderer: function (row) {return '<a href="#" title="Edit"><i class="fa fa-pencil-square-o iow-editdele"></i></a> &nbsp; <a href="#" title="Delete"><i class="fa fa-trash-o iow-editdeles"></i></a>';}
				  },
                
                ]
            });			
        });
    </script>

<div class="content_wrapper padlr0">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h1>IOW Library</h1>
      </div>
      <div class="col-lg-12 tmss">
        <div class="col-lg-5">
          <div id="custom-search-input">
            <div class="input-group col-md-12"> <span class="input-group-btn">
              <button class="btn btn-primary ripple has-ripple" type="button"> <i class="fa fa-search"></i> </button>
              </span>
              <input type="text" class="parent_search" placeholder="Search" />
            </div>
          </div>
        </div>
        <div class="col-lg-5" > <a href="#" class="btn btn-success btn-small active ripple has-ripple"><i class="fa fa-plus"></i> Add IOW</a> </div>
      </div>
      
      <!--table Jq Gride start-->
      <div class="col-lg-12 col-lg-offset-0 tmss">
        <div class="table-responsive clear">
          <div id="treeGrid"> </div>
        </div>
      </div>
      <!--table Jq Gride end--> 
      
    </div>
  </div>
</div>

<!--table expand start--> 

