<?php
$url = $this->serverUrl(true);
$url = array_pop(explode("/", $url));
?>
<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/project.css'; ?>" />
<style type="text/css">
    .prjt							{margin-bottom:30px;}
    .prfon                          {font-size: 15px;font-weight: bold;color:#b92c28;!important;}
    .tr_hot 						{background:#f9eaea;}
    .tr_warm 						{background:#f8f1e4;}
    .mar_15							{margin-top:15px;}
    .pagination-lg > li > a, .pagination-lg > li > span {font-size:15px !important; padding:5px 15px !important;}
    #jqxGrid .jqx-grid-header 		{height:75px !important;}
    .jqx_margn						{margin-top:30px;margin-bottom:20px;}
    .nx-btn                        {margin-top:15px !important; margin-bottom:15px!important;margin-right:15px !important;}
    .nx-btn a:hover                {border:1px solid #23bfee !important; background:#fff !important; color:#23bfee !important;}
    .nx-btn a                      {background:#23bfee!important;border:1px solid #23bfee !important; font-weight:600;color:#fff!important; font-size:14px; padding: 5px 10px; text-align: center; transition: all 0.4s ease 0s;}
    .table-responsive table.table tr td {padding: 5px 5px !important;}
    .subDiv {background-color: #e7e9ec;border: 1px solid #ddd;float: left;margin-left: 2%;margin-top: 2px;position: relative;width: 98%;}
    #allResource .jqx-grid-header 	{height:75px !important;}
    #allResourceList .jqx-grid-header 	{height:75px !important;}
    .jqx-grid-column-header .jqx-checkbox-default{ display:none;}
    #sequentialView tr th{ width:auto !important;}
    .input-group-addon{ background-color:#fff !important;border:none !important;}
    .error{ border-color:red;background-color:red !important;}
    .nav-list{padding-right:15px;padding-left:15px;margin-bottom:0;}
    .nav-list-main{padding-left:0px;padding-right:0px;margin-bottom:0;}
    span.nav-toggle-icon{font-size:7px !important;top:-2px !important;color:#888 !important;}
    .sub_tbl1 {color:#424141;font-weight: 600; background:#edefe2 !important;border-bottom: 2px solid #9c793b !important;border-top: 1px solid #ddd !important;white-space: nowrap;}
    .sub_tbl2{color: #424141;font-weight: 600; background: #efe2e2 !important;border-bottom: 2px solid #5d9bb6 !important;border-top: 1px solid #ddd !important;white-space: nowrap;}
    .sub_tbl3{color: #424141;font-weight: 600; background: #ceefe5 !important;border-bottom: 2px solid #18abc4 !important;border-top: 1px solid #ddd !important;white-space: nowrap;}
    .table-responsive {box-shadow: 0 0px 0 rgba(0, 0, 0, 0.12), 0 0px 0 rgba(0, 0, 0, 0.24)!important;
    .tform {transform: rotate(180deg);transition: all 0.5s ease 0s;}
    .top-30{margin-top: 30px;}

</style>

<div class="content_wrapper padlr0">
    <div class="container-fluid padlr0">
        <!--        <form method="post" id="formWrapper" action="--><?php //echo $this->basePath(); ?><!--/mms/master/opening-stock/--><?php //echo $project; ?><!--">-->
        <div class="col-lg-12">
            <h1 class="prjt"><strong>Project Setup</strong>
                <div class="btn-group prfon">
                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"><?php if(isset($project)) { echo $CostCenter['CostCentreName'];  } else{ echo "";} ?><span class="edit_symbols" data-placement="right" data-toggle="tooltip" data-original-title="Cost&nbsp;Centre&nbsp"><i class="fa fa-caret-down "></i></span></a>
                    <div class="dropdown-menu toolbar_ddown proname_ddown arrow" role="menu">
                        <ul>
                            <?php foreach($arr_costcenter as $costcentre){?>
                                <li><a href="javascript:void(0);" class="projId" data-index="<?php echo $costcentre['CostCentreId'];?>"><?php echo ucfirst($costcentre['CostCentreName']);?></a></li>
                            <?php }	?>
                            <!--						<li><a href="--><?php //echo $this->basePath(); ?><!--/mms/master/--><?php //echo $this->currentRequest()->get('action'); ?><!--">All</a></li>-->
                        </ul>
                    </div>
                </div>
            </h1>
        </div>
        <div class="col-lg-12 clear">
            <ul class="breadcrumb_area ripple">
                <li><a href="#" class="active">Opening Stock</a></li>
                <?php if(isset($project) && intval($project)>0) { ?>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/resource-register/<?php echo $url; ?>">Resource Required</a></li>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/priority/<?php echo $url; ?>" class="">Resource Priority</a></li>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/gate-list/<?php echo $url; ?>">Gate List</a></li>
                <?php } else { ?>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/resource-register">Resource Required</a></li>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/priority" class="">Resource Priority</a></li>
                    <li><a href="<?php echo $this->basePath(); ?>/mms/master/gate-list">Gate List</a></li>
                <?php } ?>
            </ul>
        </div>
        <div class="fixed-action-btn active mar_15">
            <a class="btn-floating btn-large">
                <i class="fa fa-paperclip"></i>
            </a>
            <ul>
                <li>
                    <a class="btn-floating hide-input-file" data-toggle="tooltip" data-placement="top" data-original-title="Import From Excel">
                        <i class="fa fa-file-excel-o"></i>
                        <input type="file" name="myfile" id="myfile" class="input-large" accept=".xls,.xlsx,application/vnd.  openxmlformats-officedocument.  		 	  				spreadsheetml.sheet, application/vnd.ms-excel" onchange="fileupload(this)" />
                    </a>
                </li>
                <li>
                    <a class="btn-floating" href="#" download data-toggle="tooltip" data-placement="top" data-original-title="Download Sample">
                        <i class="fa fa-download"></i>
                    </a>
                </li>
            </ul>
        </div>
        <!--        <div class="col-lg-12 commargin_top clear">-->
        <!--            <div class="table-responsive clear">-->
        <!--               <div id="jqxGrid" style="margin-top:30px;margin-bottom:20px;"></div>-->
        <!--			</div>-->
        <!--		</div>-->
        <div class="col-lg-12" id="setterData" >
            <div class="table-responsive top-30">
                <table id="stockTable" class="table table-bordered table-striped" style=" margin-bottom:20px;">
                    <thead>
                    <tr>
                        <th tabindex="0" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >Code</th>
                        <th tabindex="1" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >Resource name</th>
                        <th tabindex="2" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >Unit</th>
                        <th tabindex="3" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >Rate</th>
                        <th tabindex="4" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >OpeningStock</th>
                        <th tabindex="5" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >MinStock</th>
                        <th tabindex="6" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >MaxStock</th>
                        <th tabindex="6" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >ReOrder</th>
                        <th tabindex="6" aria-controls="sequentialView" rowspan="1" colspan="1" style="width: 200px;" >LeadTime</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody class="main"></tbody>
                    <tbody class="total"></tbody>
                </table>
                <input type="hidden" name="rowid" id="rowid" value="0"/>
            </div>
        </div>
        <!--        </form>-->
    </div>
</div>
<div class="col-lg-12 savebtn_area">
    <ul>
        <?php if(isset($project) && intval($project)>0) { ?>

            <!--		    <li class="nx-btn float_r"><a onClick="submitForm()" href="--><?php //echo $this->basePath(); ?><!--/mms/master/resource-register/--><?php //echo $url; ?><!--">Next<i class="fa fa-chevron-circle-right" style="padding-left:6px;"></i></a></li>-->
            <li class="nx-btn float_r"><a href="<?php echo $this->basePath(); ?>/mms/master/resource-register/<?php echo $project; ?>">Next<i class="fa fa-chevron-circle-right" style="padding-left:6px;"></i></a></li>

        <?php } else { ?>
            <li class="nx-btn float_r"><a href="<?php echo $this->basePath(); ?>/mms/master/resource-register">Next<i class="fa fa-chevron-circle-right" style="padding-left:6px;"></i></a></li>
        <?php } ?>
    </ul>
</div>
<script id="stock-template"  type="text/template">

    <tr class="count-tr" >
            <td width="2%">
                <input type="hidden" name="resourceId__" id="resourceId__"/>
                <input type="hidden" name="unitId__" id="unitId__"/>
                <input type="hidden" name="stockId__" id="stockId__"/>
                <input type="text"  name="code__" id="code__" readonly/>
            </td>
            <td width="10%">
                <input type="text" name="resourcename__" id="resourcename__" readonly/>
            </td>
            <td width="5%">
                <input  type="text" name="unit__" id="unit__" readonly/>
            </td>
            <td width="15%">
                <input type="text" class="parent_txts" name="rate__" id="rate__" onchange="changeRate(this);" onkeypress="return isDecimal(event,this);"/>
            </td>
            <td width="15%">
                <input type="text" class="parent_txts" name="openingstock__" id="openingstock__" onkeypress="return isDecimal(event,this);" />
            </td>
            <td width="15%">
                <input type="text" class="parent_txts" name="minstock__" id="minstock__" onkeypress="return isDecimal(event,this);"/>
            </td>
            <td width="15%">
                <input type="text" class="parent_txts" name="maxstock__" id="maxstock__" onkeypress="return isDecimal(event,this);"/>
            </td>
            <td width="15%">
                <input type="text" class="parent_txts" name="reorder__" id="reorder__" onkeypress="return isDecimal(event,this);" />
            </td>
            <td width="10%">
                <input type="text"  class="parent_txts" name="leadtime__" id="leadtime__" onkeypress="return isDecimal(event,this);"/>
            </td>
            <td width="3%" align="center" class="action_btns_td border-none iow___requestfields">
                <ul class="action_btns">
                    <li class="hast1"  style="display:none;"> <a href="#" class="mainTr"> <i class="fa fa-chevron-circle-down" data-toggle="tooltip" data-placement="left" data-original-title="Add lines" ></i></a> </li>
                    <li class="hast2"  style="display:none;"> <a href="javascript:void(0);" id="save1__" onclick="saveChange(this);"><i class="fa fa-chevron-circle-right"></i></a></li>
                </ul>
            </td>
    </tr>

    <tr class="subTr count-tr subtable" id="subTable_rowid" style="display: none;">
            <td colspan="9" style="padding-inline-start:0px !important;">
                <form method="post" id="formContent__">
                <div class="subDiv">
                    <div class="col-lg-12">
                        <div class="tab-content">
                            <div class="table-responsive">
                                <table class="table subtb" style="margin-bottom:10px; margin-top:10px;" id="wareTable__" bgcolor="#00FF00" >
                                    <thead>
                                    <tr>
                                        <th class="worktype-activity sub_tbl2">WareHouseName</th>
                                        <th class="worktype-activity sub_tbl2">Description</th>
                                        <th class="worktype-activity sub_tbl2">Opening Stock</th>
                                    </thead>
                                    <tbody class="main"></tbody>
                                    <tbody class="total"></tbody>
                                    <input type="hidden" name="iow___rowid" id="iow___rowid" value="0"/>
                                </table>
                            </div>
                            <div class="cont_bt col-lg-5 col-lg-offset-7 col-md-9 col-md-offset-3 col-sm-7 col-sm-offset-5 col-xs-7 col-xs-offset-5 top-5 saves" id="save">
                                <ul>
                                    <li><a href="javascript:void(0);" id="save__" onclick="saveChange(this);">Save &nbsp;<i class="fa fa-chevron-circle-right"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                </form>
            </td>
    </tr>
</script>
<script id="warehouse-template"  type="text/template" class="hide">
    <tr class="dont-hide">
        <td width="15%">
            <input  type="hidden" name="iow___WareHouseId_0" id="iow___WareHouseId_0"/>
            <input  name="iow___WareHouseName_0" id="iow___WareHouseName_0"/>
        </td>
        <td width="15%">
            <input name="iow___Description_0" id="iow___Description_0"/>
        </td>
        <td width="15%">
            <input class="parent_txts quantityVal" type="text" name="iow___OpeningStock_0" id="iow___OpeningStock_0" onkeypress="return isNumberKey(event);" onchange="changePage(this);" />
        </td>
    </tr>
</script>

<script>
    $("#stockTable tbody").html("");
    var stckdtl = <?php echo (isset($openingstock)) ? json_encode($openingstock) : ''?>;
    var waredtl = <?php echo (isset($warhousdtl)) ? json_encode($warhousdtl) : ''?>;

    function saveChange(x){
        var $x = $(x);
        var ids = $x[0].id.split('_');
        var rowid = ids[1];

        var rId = $('#resourceId_' + rowid).val();
        var uId = $('#unitId_' + rowid).val();
        var sId = $('#stockId_' + rowid).val();
        var code1 = $('#code_' + rowid).val();
        var rName = $('#resourcename_' + rowid).val();
        var unit1 = $('#unit_' + rowid).val();
        var rate1 = $('#rate_' + rowid).val();
        var ostock = $('#openingstock_' + rowid).val();
        var minstock = $('#minstock_' + rowid).val();
        var maxstock = $('#maxstock_' + rowid).val();
        var reorder = $('#reorder_' + rowid).val();
        var leadtime = $('#leadtime_' + rowid).val();

        var resArr= $('#formContent_'+rowid).serialize()+'&'+$.param({ 'RowId': rowid,'ResourceId':rId,'UnitId': uId ,'StockId': sId ,'Code': code1,'Resource': rName,'Unit':  unit1, 'Rate': rate1 ,'ostock': ostock ,
                'minstock':  minstock,'maxstock': maxstock, 'reorder':  reorder, 'LeadTime': leadtime });
        $.ajax({
            url: getBaseURL() + 'mms/Master/opening-stock',
            type: "post",
            data: resArr,
            async: false,
            success: function (data, textStatus, jqXHR) {
                if (jqXHR.status == 200) {
                    alert("Success");
                }
            }, error: function (jqXHR, textStatus, errorThrown) {
                alert("You entry is failed");
            }
        });
    }

    $(function () {
        var $rowid = $('#rowid');
        var stckTemplate = $('#stock-template').html();
        var wareTemplate = $('#warehouse-template').html();
        var rowid = 0;
        var $tbody = $('#stockTable').find('> tbody.main');
        if (stckdtl.length != 0) {
            $.each(stckdtl, function (i, o) {
                rowid += 1;
                $tbody.append(stckTemplate.replace(/__/g, '_' + rowid));
                $('#resourceId_' + rowid).val(o.ResourceId);
                $('#unitId_' + rowid).val(o.UnitId);
                $('#stockId_' + rowid).val(o.StockId);
                $('#code_' + rowid).val(o.Code);
                $('#resourcename_' + rowid).val(o.Resource);
                $('#unit_' + rowid).val(o.Unit);
                $('#rate_' + rowid).val(o.Rate);
                $('#openingstock_' + rowid).val(o.OpeningStock);
                $('#minstock_' + rowid).val(o.MinStock);
                $('#maxstock_' + rowid).val(o.MaxStock);
                $('#reorder_' + rowid).val(o.ReOrder);
                $('#leadtime_' + rowid).val(o.LeadTime);
                $('#rowid').val(rowid);
                $('#formWrapper_' + rowid).attr('action','<?php echo $this->basePath(); ?>/mms/master/opening-stock/<?php echo $project; ?>');

                //warehouse
                if (waredtl.length != 0) {
                    $.each(waredtl, function (k, l) {
                        var iowrowid = parseInt($('#iow_' + rowid + '_rowid').val()) + 1;
                        $('.hast1').show();
                        $('#wareTable_' + rowid).find('tbody.main').append(wareTemplate.replace(/__/g, '_' + rowid).replace(/_0/g, '_' + iowrowid));
                        $('#iow_' + rowid + '_rowid').val(iowrowid);
                        $('#iow_' + rowid + '_WareHouseId_' + iowrowid).val(l.WareHouseId);
                        $('#iow_' + rowid + '_WareHouseName_' + iowrowid).val(l.WareHouseName).addClass('').prop('disabled', true);
                        $('#iow_' + rowid + '_Description_' + iowrowid).val(l.Description).addClass('').prop('disabled', true);
                        $('#iow_' + rowid + '_OpeningStock_' + iowrowid).val(l.OpeningStock);
                        $('#formContent_' + rowid).attr('action','<?php echo $this->basePath(); ?>/mms/master/opening-stock/<?php echo $project; ?>');

                        $.each($('input[id^=rate_' + rowid), function (j,k) {
                            var rate2 = parseFloatVal($(this).val());
                            if(rate2 == 0) {
                                $('#openingstock_' + rowid).attr('readonly', true);
                                $('#iow_' + rowid + '_OpeningStock_' + iowrowid).attr('readonly', true);
                            } else {
                                $('#iow_' + rowid + '_OpeningStock_' + iowrowid).attr("readonly", false);
                            }
                        });
                    });
                } else {
                  //  $('.iow_' + rowid +'_requestfields').removeClass("mainTr");
                    $(".hast1").hide();
                    $(".hast2").show();
                }
            });
        }

        $('.projId').on('click',function(){
            var urlId = $(this).attr('data-index');
            location.replace("<?php echo $this->basePath(); ?>/mms/master/opening-stock/"+urlId);
        });
    });


    function changeRate(s) {
        var $s = $(s);
        var ids = $s[0].id.split('_');
        var rowid = ids[1];
        var newRate = $('#rate_' + rowid).val();
        if(newRate > 0){
            $('input[id^=iow_' + rowid + '_OpeningStock_').each(function (i, o) {
                $(this).attr('readonly',false);
            });
        }
    }
    $('.content_wrapper').on('click', '.mainTr', function (e) {
        e.preventDefault();
        var warecount = <?php echo (isset($warhousdtl)) ? json_encode($warhousdtl) : ''?>;
        if (!$(this).closest("tr").next(".subTr").is(":visible")) {
            $(this).closest("tr").prevAll(".subTr").find(".subDiv").slideUp("slow");
            $(this).closest("tr").prevAll(".subTr").slideUp("slow");
            $(this).closest("tr").nextAll(".subTr").find(".subDiv").slideUp("slow");
            $(this).closest("tr").nextAll(".subTr").slideUp("slow");
            $(this).find("i").removeClass("tform");

            $(this).closest("tr").next(".subTr").show();
            $(this).closest("tr").next(".subTr").find(".subDiv").slideDown("slow");
            $(this).find("i").addClass("tform");
        }
        else {
            $(this).closest("tr").next(".subTr").find(".subDiv").slideUp("slow");
            $(this).closest("tr").next(".subTr").slideUp("slow");
            $(this).find("i").removeClass("tform");
        }
    });

    function changePage(s) {
        var $s = $(s);
        var ids = $s[0].id.split('_');
        var rowid = ids[1];
        var iowrowid = ids[3];
        var opsqty = 0;
        $.each($('input[id^=iow_' + rowid + '_OpeningStock_'), function (j, k) {
            var openingqty = parseFloatVal($(this).val());
            if (isNaN(openingqty))
                openingqty = 0;
            opsqty += openingqty;
        });
        $('#openingstock_' + rowid).val(parseFloatVal(opsqty.toFixed(3)));
    }

</script>



<script type="text/javascript">

    //$(document).ready(function () {
    //   var data = <?php //echo (isset($openingstock)) ? json_encode($openingstock) : ''?>//;
    //    console.log(data);
    //        $jqxGrid = $("#jqxGrid");
    //
    //        var source = {
    //            localdata: data,
    //            dataType: "json",
    //            dataFields: [
    //                {name: 'ResourceId', type: 'int'},
    //                {name: 'Code', type: 'string'},
    //                {name: 'UnitId', type: 'int'},
    //                {name: 'Resource', type: 'string'},
    //                {name: 'Unit', type: 'string'},
    //                {name: 'Rate', type: 'float'},
    //				{name: 'OpeningStock', type: 'float'},
    //				{name: 'MinStock', type: 'float'},
    //				{name: 'MaxStock', type: 'float'},
    //				{name: 'ReOrder', type: 'float'},
    //				{name: 'LeadTime', type: 'int'}
    //
    //            ],
    ////            id: 'ResourceId'
    //        };
    //
    //        var dataAdapter = new $.jqx.dataAdapter(source);
    //        $jqxGrid.jqxGrid({
    //            width: "100%",
    //            source: dataAdapter,
    //            sortable: true,
    //            pagerButtonsCount: 6,
    //            filterable: true,
    //            pageable: true,
    //            rowDetails: true,
    //            autoheight: true,
    //			showfilterrow: true,
    //            editable: true,
    //            altrows: true,
    //            enabletooltips: true,
    //            columns: [
    //                {text: 'ResourceId', datafield: 'ResourceId',hidden: true, width:100,editable: false},
    //                {text: 'unitId', datafield: 'UnitId', hidden: true},
    //                {text: 'Code', datafield: 'Code', width:100,editable: false},
    //                {text: 'ResourceName', datafield: 'Resource', editable: false},
    //                {text: 'Unit', datafield: 'Unit' ,editable: false},
    //                {text: 'Rate', datafield: 'Rate',cellsalign: 'right'},
    //                {text: 'OpeningStock', dataField: 'OpeningStock',cellsalign: 'right',
    //							cellbeginedit: function (row, datafield, columntype) {
    //							var rowdata = $("#jqxGrid").jqxGrid('getrowdata', row);
    //							var Rate = rowdata.Rate;
    //							if(Rate==undefined || Rate==0)
    //							{
    //							return false;
    //							}
    //							else
    //							{
    //							return true;
    //							}
    //							}
    //				},
    //				{text: 'MinStock', dataField: 'MinStock',cellsalign: 'right',
    //							cellbeginedit: function (row, datafield, columntype) {
    //							var rowdata = $("#jqxGrid").jqxGrid('getrowdata', row);
    //							var OpeningStock = rowdata.OpeningStock;
    //							if(OpeningStock==undefined || OpeningStock==0)
    //							{
    //							return false;
    //							}
    //							else
    //							{
    //							return true;
    //							}
    //							}
    //				},
    //				{text: 'MaxStock', dataField: 'MaxStock',cellsalign: 'right',
    //							cellbeginedit: function (row, datafield, columntype) {
    //							var rowdata = $("#jqxGrid").jqxGrid('getrowdata', row);
    //							var MinStock = rowdata.MinStock;
    //							if(MinStock==undefined || MinStock==0)
    //							{
    //							return false;
    //							}
    //							else
    //							{
    //							return true;
    //							}
    //							}
    //				},
    //				{text: 'ReOrder', dataField: 'ReOrder',cellsalign: 'right',
    //							cellbeginedit: function (row, datafield, columntype) {
    //							var rowdata = $("#jqxGrid").jqxGrid('getrowdata', row);
    //							var MaxStock = rowdata.MaxStock;
    //							if(MaxStock==undefined || MaxStock==0)
    //							{
    //							return false;
    //							}
    //							else
    //							{
    //							return true;
    //							}
    //							}
    //				},
    //				{text: 'LeadTime', dataField: 'LeadTime',cellsalign: 'right',editable: false},
    //            ]
    //        });
    //
    //		$("#jqxGrid").on('cellendedit', function (event)
    //{
    //				// event arguments.
    //				var args = event.args;
    //				// column data field.
    //				var dataField = event.args.datafield;
    //				// row's bound index.
    //				var rowBoundIndex = event.args.rowindex;
    //				// cell value
    //				var value = args.value;
    //				// row's data.
    //				var rowData = args.row;
    //				//console.log(rowData);
    //				var data = $("#jqxGrid").jqxGrid("getrowdata", rowBoundIndex);
    //				//console.log(data.Rate);
    //				var id=data.ResourceId;
    //
    //				if(dataField=='Rate'){
    //					var dt="id="+data.ResourceId+"&Rate="+value+"&MaxStock="+data.MaxStock+"&MinStock="+data.MinStock+"&ReOrder="+data.ReOrder+"&UnitId="+data.UnitId+"&LeadTime="+data.LeadTime+"&Resource="+data.Resource+"&Code="+data.Code+"&OpeningStock="+data.OpeningStock;
    //				}
    //				else if(dataField=='MaxStock'){
    //					var dt="id="+data.ResourceId+"&Rate="+data.Rate+"&MaxStock="+value+"&MinStock="+data.MinStock+"&ReOrder="+data.ReOrder+"&UnitId="+data.UnitId+"&LeadTime="+data.LeadTime+"&Resource="+data.Resource+"&Code="+data.Code+"&OpeningStock="+data.OpeningStock;
    //				}
    //				else if(dataField=='MinStock'){var dt="id="+data.ResourceId+"&Rate="+data.Rate+"&MaxStock="+data.MaxStock+"&MinStock="+value+"&ReOrder="+data.ReOrder+"&UnitId="+data.UnitId+"&LeadTime="+data.LeadTime+"&Resource="+data.Resource+"&Code="+data.Code+"&OpeningStock="+data.OpeningStock;}
    //
    //				else if(dataField=='ReOrder'){var dt="id="+data.ResourceId+"&Rate="+data.Rate+"&MaxStock="+data.MaxStock+"&MinStock="+data.MinStock+"&ReOrder="+value+"&UnitId="+data.UnitId+"&LeadTime="+data.LeadTime+"&Resource="+data.Resource+"&Code="+data.Code+"&OpeningStock="+data.OpeningStock;}
    //
    //				else if(dataField=='OpeningStock'){var dt="id="+data.ResourceId+"&Rate="+data.Rate+"&MaxStock="+data.MaxStock+"&MinStock="+data.MinStock+"&ReOrder="+data.ReOrder+"&UnitId="+data.UnitId+"&LeadTime="+data.LeadTime+"&Resource="+data.Resource+"&Code="+data.Code+"&OpeningStock="+value;}
    //
    //				$.ajax({
    //					url:"<?php //echo $this->basePath(); ?>///mms/master/opening-stock",
    //							type:"post",
    //							data:dt,
    //							success:function(data, textStatus, jqXHR){
    //							}
    //
    //					});
    //
    //			});
    //    });
    //
    //$('.projId').on('click',function(){
    //var urlId = $(this).attr('data-index');
    //location.replace("<?php //echo $this->basePath(); ?>///mms/master/opening-stock/"+urlId);
    //});
</script>
