<style>
    .pagination-lg > li > a, .pagination-lg > li > span {
        font-size:15px !important;
        padding:5px 15px !important;
    }

    /* Excel Floating Icon */
    .fixed-action-btn          	    {position:fixed;top:85px;right:5px;padding-top:15px;margin-bottom:0;z-index:998;}
    .fixed-action-btn:hover ul li a.btn-floating{transform: scaleY(1) scaleX(1) translateX(0px);opacity: 1;}
    .btn-floating.btn-large         {width:45px;height:45px;}
    .fixed-action-btn ul 			{left:-142px;right:0;text-align:center;position:absolute;margin:0;top:22px;}
    .fixed-action-btn ul li 		{margin-left:8px;list-style-type:none;float:left;}
    .fixed-action-btn ul li a.btn-floating {transform: scaleY(0.4) scaleX(0.4) translateX(40px);opacity: 0;}
    .fixed-action-btn ul a.btn-floating i  {font-size: 17px;line-height: 37px;}
    .btn-floating                   {display:inline-block;color:#fff;position:relative;overflow:hidden;z-index:1;width:37px;height:37px;line-height:37px;padding: 0;
        background-color: #26a69a;border-radius:50%;cursor:pointer;vertical-align: middle;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);text-decoration: none;transition: all .3s ease;
        -webkit-transition: all .3s ease; -moz-transition: all .3s ease; -o-transition: all .3s ease;}
    .btn-floating i                 {width: inherit;display: inline-block;text-align: center;color: #fff;font-size:20px;line-height: 45px; font-weight:normal; color:#fff;}
    .next-bt                        {text-align:center;}
    .next-bt a:hover                {border:1px solid #3580C4 !important; background:#fff !important; color:#3580C4 !important;}
    .next-bt a                      {background:#3580C4!important;border:1px solid #3580C4; border-radius: 4px;
        color:#fff!important; font-size:14px; padding: 5px 10px; text-align: center; transition: all 0.4s ease 0s;}

    /* Excel Floating Icon end*/
    /*--------------Jqx Grid jqx All-------------------*/
    #treeGrid									{min-height:200px !important;}
    #treeGrid .jqx-grid-header 					{height:120px !important;}
    .jqx-grid-header 							{height:120px !important;}
    .jqx-widget .jqx-grid-column-header			{border:1px solid #c7c7c7 !important; text-align:center!important;}
    .jqx-widget .jqx-grid-columngroup-header	{border-top:0px !important;}
    .jqx-widget .jqx-grid-columngroup-header > div	{ margin-top:7px !important;}
    .jqx-widget                                 {font-size: 12px; }
    .jqx-dropdownlist-state-normal  			{margin:2px 4px !important;}
    .jqx-grid-pager .jqx-dropdownlist-state-normal  			{margin-top: 0 !important;}
    .jqx-widget-header							{border-bottom: 1px solid #5d9bb6 !important;border-top: 1px solid #ddd !important;}
    .jqx-grid-pager-input						{margin-top:2px !important; padding: 2px;text-align: center !important; width: 35px;}
    .jqx-dropdownlist-state-normal				{display: block;  float: right;height: 16px;margin-right: 7px;margin-top: 0;  padding-bottom: 2px;padding-top: 2px; width: 40px;}
    .jqx-button									{cursor: pointer;float: right;margin-right: 3px !important;margin-top: 0 !important;padding: 0 !important;width: 20px !important;}
    .jqx-button > .jqx-icon-arrow-left,
    .jqx-button >.jqx-icon-arrow-right			{height: 21px !important;margin-left: 0 !important;width: 20px !important;}
    .jqx-listitem-element						{height: 25px !important;}

    .quick_link_btn										{display:inline-block;padding:6px 10px; float:right;color: #fff; border: 1px solid #4285f4; font-weight: bold; background: #4285f4;
        background: -webkit-linear-gradient(top,#4387fd,#4683ea); background: linear-gradient(top,#4387fd,#4683ea);}
    .quick_link_btn span								{ display:inline-block;padding-right:5px;}
    .quick_link_btn:hover,.quick_link_btn:visited,
    .quick_link_btn:active								{color: #fff;background: #2964c6; background: -webkit-linear-gradient(top,#2964c6,#2358af); background: linear-gradient(top,#2964c6,#2358af);}
    .quick_link .toolbar_ddown							{width:260px !important;right:10px;}
    .quick_link .toolbar_ddown::before,
    .quick_link .toolbar_ddown::after					{right:5px;}
</style>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqxgrid.grouping.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqxgrid.aggregates.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/jqwidgets/jqx-all.js"></script>
<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/project.css'; ?>" />
<div class="content_wrapper  padlr0">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12 padlr0">
                    <h1 class="col-lg-7 col-sm-8">Register - Project Bill Of Quantity</h1>
                    <div class="col-lg-5 quick_link">
                        <a href="javascript:void(0);" class="dropdown-toggle quick_link_btn" data-toggle="dropdown" style="float:right;" >
                            <label><span><i class="fa fa-link" aria-hidden="true"></i></span> Quick Links</label>
                        </a>
                        <div class="dropdown-menu toolbar_ddown proname_ddown arrow" role="menu">
                            <ul>
                                <li>
                                    <a href="<?php echo $this->basePath() . '/project/main/projectworkgroup/' . $projectId;?>">Project WorkGroup</a>
                                </li>
                                <li>
                                    <form class="form-horizontal" action="<?php echo $this->basePath() . '/project/rfc/resourcerateview';?>" method="post" id="frmresource">
                                        <input type="hidden" name="submitType" value="new"/>
                                        <input type="hidden" name="project_idNew" value="<?php echo $projectId; ?>"/>
                                        <input type="hidden" name="type_nameNew" value="B"/>
                                        <a href="#" onclick="showResourceRate()" >Project Resource</a>
                                    </form>
                                </li>
                                <li>
                                    <a href="<?php echo $this->basePath() . '/project/main/projectiowsortorder/' .$projectId;?>">BOQ Sort Order</a>
                                </li>
                            </ul>
                        </div>
                        <form class="form-horizontal" action="<?php echo $this->basePath() . '/project/rfc/rfciowplan'; ?>" method="post" id="frm-project">
                            <a  href="javascript:submitNewIOW();" style="float:right; margin:0 10px 0 0"class="fancy-button"><i class="fa fa-plus" style="margin-right:5px"></i>Add New Plan</a>
                            <input type="hidden" name="project_id" id="ocproject_id" value="">
                            <input type="hidden" name="type_name" id="octype_name" value="">
                            <input type="hidden" name="revrequired" id="ocrevrequired" value="Y">
                            <input type="hidden" name="frm_what" value="true"/>
                        </form>
                    </div>
                </div>
                <div class="col-lg-6 padlr0">
                    <div class="fixed-action-btn active rf-fixed">
                        <a class="btn-floating btn-large">
                            <i class="fa fa-print"></i>
                        </a>
                        <ul>
                            <li>
                                <a class="btn-floating hide-input-file" id="print" href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Print Report">
                                    <i class="fa fa-print"></i>

                                </a>
                            </li>
                            <li>
                                <a class="btn-floating" id="excelExport" href="javascript:void(0);" data-toggle="tooltip" data-placement="top" data-original-title="Download Excel">
                                    <i class="fa fa-download"></i>
                                </a>
                            </li>
                            <li>
                                <a class="btn-floating" id="csvExport" href="javascript:void(0);" download data-toggle="tooltip" data-placement="top" data-original-title="Export CSV">
                                    <i class="fa fa-file-archive-o"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-12 col-lg-offset-0 commargin_ttop_20 commargin_bottom" style="margin-bottom:0">
                    <div class="col-lg-4 col-sm-4">
                        <select  name="projectid" id="projectid" class="form-control single_dropdown lbl_move" label="Project" style="width:100%;">
                            <option value="0">Select Project</option>
                            <?php foreach($projectlists as $project) { ?>
                                <option value="<?php echo $project['ProjectId']; ?>" <?php if($project['ProjectId']==$projectId) { ?>selected<?php } ?>><?php echo $project[ 'ProjectName' ]; ?></option>
                            <?php } ?>
                        </select>
                    </div>
                    <div class="col-lg-2 col-sm-4">
                        <select name="typename" id="typename" class="form-control single_dropdown lbl_move" label="Type" style="width:100%;">
                            <option value=""></option>
                            <option value="B">Budget</option>
                            <option value="P" selected>Plan</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-lg-12 clear">
                <div class="table-responsive clear">
                    <div style='margin-top: 10px;' id="jqxgrid"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var arr_projboq = <?php echo (isset($projboq)) ? json_encode($projboq) : '[]';?>;
    var datafields = [
        { name: "ProjectIOWId", type: "number" },
        { name: "PWorkGroupId", type: "number" },
        { name: "WorkGroupName", type: "string" },
        { name: "SerialNo", type: "string" },
        { name: "RefSerialNo", type: "string" },
        { name: "Specification", type: "string" },
        { name: "UnitName", type: "string" },
        { name: "Qty", type: "number" },
        { name: "Rate", type: "number" },
        { name: "Amount", type: "number" },
        { name: "CurQty", type: "number" },
        { name: "CurRate", type: "number" },
        { name: "CurAmount", type: "number" },
        { name: "PrevQty", type: "number" },
        { name: "PrevRate", type: "number" },
        { name: "PrevAmount", type: "number" },
        { name: "CumQty", type: "number" },
        { name: "CumRate", type: "number" },
        { name: "CumAmount", type: "number" }
    ];
    var source = {
        localdata: arr_projboq,
        datatype: "json",
        pagesize: 15,
        datafields: datafields
    };

    var dataAdapter = new $.jqx.dataAdapter(source);
    var $jqxgrid = $('#jqxgrid');
    var jqxGridProp = {
        width: "100%",
        source: dataAdapter,
        pageable: true,
        pagerMode: 'advanced',
        pagerHeight: 40,
        columnsresize: true,
        autoheight: true,
        rowsheight:40,
        sortable: true,
        altrows: true,
        enabletooltips: true,
        showfilterrow: true,
        filterable: true,
        groupable: true,
        showstatusbar: true,
        statusbarheight: 35,
        showAggregates: true,
        autorowheight: true,
        columns: [
            { text: 'Serial No.', datafield: 'RefSerialNo', pinned: true ,width:"10%" },
            { text: 'Specification', datafield: 'Specification', align: 'center', pinned: true ,width:"20%" },
            { text: 'Unit', datafield: 'UnitName', align: 'center',pinned: true ,width:"5%" },
//            { text: 'WorkGroup', datafield: 'WorkGroupName', align: 'center', pinned: true ,width:"8%" },
            { text: 'Qty', datafield: 'Qty', columnGroup: 'Budget', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'Qty'),3) + '</div>';
            }},
            { text: 'Rate', datafield: 'Rate', columnGroup: 'Budget', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'Rate'),2,true) + '</div>';
            }},
            { text: 'Amount', datafield: 'Amount', columnGroup: 'Budget', width: "12%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'Amount'),2,true) + '</div>';
            }, aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + sanitizeNumber(value,2,true) + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'CumQty', columnGroup: 'Cumulative', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CumQty'),3) + '</div>';
            }},
            { text: 'Rate', datafield: 'CumRate', columnGroup: 'Cumulative', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CumRate'),2,true) + '</div>';
            }},
            { text: 'Amount', datafield: 'CumAmount', columnGroup: 'Cumulative', width: "12%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CumAmount'),2,true) + '</div>';
            }, aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + sanitizeNumber(value,2,true) + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'PrevQty', columnGroup: 'Previous', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'PrevQty'),3) + '</div>';
            }},
            { text: 'Rate', datafield: 'PrevRate', columnGroup: 'Previous', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'PrevRate'),2,true) + '</div>';
            }},
            { text: 'Amount', datafield: 'PrevAmount', columnGroup: 'Previous', width: "12%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'PrevAmount'),2,true) + '</div>';
            }, aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + sanitizeNumber(value,2,true) + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'CurQty', columnGroup: 'Current', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CurQty'),3) + '</div>';
            }},
            { text: 'Rate', datafield: 'CurRate', columnGroup: 'Current', width: "10%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CurRate'),2,true) + '</div>';
            }},
            { text: 'Amount', datafield: 'CurAmount', columnGroup: 'Current', width: "12%", align: 'right', cellsalign: 'right', cellsrenderer: function (row) {
                return '<div class="text-right" style="overflow: hidden; text-overflow: ellipsis; margin-right: 2px; margin-left: 10px; margin-top: 9.5px;">' + sanitizeNumber($jqxgrid.jqxGrid('getCellValue', row, 'CurAmount'),2,true) + '</div>';
            }, aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + sanitizeNumber(value,2,true) + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            }
        ],
        groups: ['WorkGroupName'],
        groupsrenderer: function (defaultText, group, state, params) {
            return "<div style='margin: 5px;font-weight: bold;'>" + group +  "</div>";
        },
        columngroups: [
            {text: 'Budget', align: 'center', name: 'Budget'},
            {text: 'Cumulative', align: 'center', name: 'Cumulative'},
            {text: 'Previous', align: 'center', name: 'Previous'},
            {text: 'Current', align: 'center', name: 'Current'}
        ]
    };

    $(document).ready(function () {
        $(".single_dropdown").select2({
            placeholder: "",
            allowClear: true
        });

        $jqxgrid.jqxGrid(jqxGridProp);

        //Print option
        $("#excelExport").click(function () {
            $("#jqxgrid").jqxGrid('exportdata', 'xls', 'jqxGrid');
        });
        $("#csvExport").click(function () {
            $("#jqxgrid").jqxGrid('exportdata', 'csv', 'jqxGrid');
        });
        $("#htmlExport").click(function () {
            $("#jqxgrid").jqxGrid('exportdata', 'html', 'jqxGrid');
        });

        $("#print").click(function () {
            var gridContent = $("#jqxgrid").jqxGrid('exportdata', 'html');
            var newWindow = window.open('', '', 'width=800, height=500'),
                document = newWindow.document.open(),
                pageContent =
                    '<!DOCTYPE html>\n' +
                    '<html>\n' +
                    '<head>\n' +
                    '<meta charset="utf-8" />\n' +
                    '<title>Quotation Report</title>\n' +
                    '<h1>Quotation Report</h1>\n' +
                    '</head>\n' +
                    '<body>\n' + gridContent + '\n</body>\n</html>';
            document.write(pageContent);
            document.close();
            newWindow.print();
        });

        $('#projectid').on('change', function(){
            var ProjectId = isNullCheck($(this).val(), 'number');
            if(ProjectId ==  '' || ProjectId == 0)
                return;

            $('.loading_area').show();
            $.ajax({
                url: getBaseURL() + 'project/rfc/projboqplan/' + ProjectId,
                type: 'POST',
                success: function(data, status, xhr) {
                    if(xhr.status == 200)
                        bindGridData(JSON.parse(data));
                    else
                        bindGridData(null);

                    $('.loading_area').hide();
                },
                error: function (xhr, status, error) {
                    bindGridData(null);
                    $('.loading_area').hide();
                }
            });
        });

        $('#typename').on('change', function () {
            var projectId = isNullCheck($('#projectid').val(), 'number');
            window.location.href = getBaseURL() + 'project/rfc/projboq/'+projectId+'/B';
        });
    });

    function bindGridData(data) {
        source.datafields = datafields;
        source.localdata = data;
        jqxGridProp.columns = [
            { text: 'Serial No.', datafield: 'SerialNo', pinned: true ,width:"6%" },
            { text: 'Specification', datafield: 'Specification', align: 'center', pinned: true ,width:"12%" },
            { text: 'Unit Name', datafield: 'UnitName', align: 'center', pinned: true ,width:"8%" },
            { text: 'WorkGroup', datafield: 'WorkGroupName', align: 'center', pinned: true ,width:"8%" },
            { text: 'Qty', datafield: 'Qty', columnGroup: 'Budget', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Rate', datafield: 'Rate', columnGroup: 'Budget', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Amount', datafield: 'Amount', columnGroup: 'Budget', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2', aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + value + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'CumQty', columnGroup: 'Cumulative', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Rate', datafield: 'CumRate', columnGroup: 'Cumulative', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Amount', datafield: 'CumAmount', columnGroup: 'Cumulative', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2', aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + value + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'PrevQty', columnGroup: 'Previous', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Rate', datafield: 'PrevRate', columnGroup: 'Previous', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Amount', datafield: 'PrevAmount', columnGroup: 'Previous', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2', aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + value + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            },
            { text: 'Qty', datafield: 'CurQty', columnGroup: 'Current', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Rate', datafield: 'CurRate', columnGroup: 'Current', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2'},
            { text: 'Amount', datafield: 'CurAmount', columnGroup: 'Current', width: "8%", align: 'right', cellsalign: 'right', cellsformat: 'd2', aggregates: ['sum'],
                aggregatesrenderer: function (aggregates, column, element, summaryData) {
                    var renderstring = "<div style='margin:8px;'>";
                    $.each(aggregates, function (key, value) {
                        var name = key == 'price';
                        renderstring += '<div><strong>' + value + '</div></strong>';
                    });
                    renderstring += "</div>";
                    return renderstring;
                }
            }
        ];
        jqxGridProp.columngroups = [
            {text: 'Budget', align: 'center', name: 'Budget'},
            {text: 'Cumulative', align: 'center', name: 'Cumulative'},
            {text: 'Previous', align: 'center', name: 'Previous'},
            {text: 'Current', align: 'center', name: 'Current'}
        ];
        jqxGridProp.source = new $.jqx.dataAdapter(source);
        $jqxgrid.jqxGrid(jqxGridProp);
    }
    function submitNewIOW() {
        var iProjectId = $('#projectid').val(),
            sType = $('#typename').val();
        $('#ocproject_id').val(iProjectId);
        $('#octype_name').val(sType);
        $('#frm-project').submit();
    }

</script>