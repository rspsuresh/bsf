<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/mms.css';?>"/>
<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/uploader.css';?>"/>
<style type="text/css">
    .cal_icon{color: #b2b3b4;cursor: pointer;display: inline-block;font-size: 14px;font-weight: normal;line-height: 9px;position: absolute;right: 20px;top: 11px;z-index: 1;}
    .vendor_button 		  {height: 38px !important;}
    .vendor_button select {height: 35px !important;}
    .table-responsive {overflow-x: inherit !important;}
</style>
<?php
echo $this->headLink(array('rel' => 'shortcut icon', 'type' => 'image/vnd.microsoft.icon', 'href' => $this->basePath() . '/images/favicon.ico'))
    ->appendStylesheet($this->basePath() . '/library/fileupload/css/demo.css')
    ->appendStylesheet($this->basePath() . '/library/fileupload/css/uploader.css')
    ->appendStylesheet($this->basePath() . '/css/select2.min.css');
?>

<?php $this->bsf = new \BuildsuperfastClass(); ?>
<div class="content_wrapper  padlr0">
<div class="container-fluid">
<!--        --><?php //include("menu.phtml"); ?>
<!--        <div class="col-lg-12">-->
<!--            <h1 class="padbtm0">Experience Details</h1>-->
<!--        </div>-->
<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1">
    <div class="col-lg-12">
        <div class="row">
            <div class="step_by_liner animated slideInDown"></div>
            <ul class="step_by stepby_mb60">
                <li class="opacity_08">
                    <div  class="step_by_sep  animated slideInRight"><p>6</p></div>
                    <p class="stepli_p3">Branch Details</p>
                </li>
                <li>
                    <div class="step_by_sep stepsep_active animated_1_5s  slideInRight"><p>7</p></div>
                    <p class="stepli_p2"> Experience Details</p>
                </li>
                <li class="opacity_08">
                    <div class="step_by_sep  animated slideInRight"><p>8</p></div>
                    <p class="stepli_p3">Terms & Conditions</p>
                </li>
            </ul>
        </div>
    </div>
</div>
<form action="" method="post" enctype="multipart/form-data" autocomplete = "off">
<div class="row">
<!--<div class="col-lg-12">
    <h1 class="padbtm0">Experience Detail</h1>
</div>-->
<div class="col-lg-12 clear commargin_top">
<div class="table-responsive clear">
<input type='hidden' name='vendorId' id='vendorId' value='<?php echo $this->bsf->encode($vendorId); ?>'/>
    <input type="hidden" name="VendorId" id="VendorId" value="<?php echo $this->bsf->encode($vendorId); ?>"/>
    <input type="hidden" name="saveExit" id="saveExit" value="1">
    <table class="table table-hover clear" id="contactTable">
<thead>
<tr>
    <th>Name of Work</th>
    <th>Name of Client</th>
    <th>Value</th>
    <th>From Date</th>
    <th>To Date</th>
    <th>Period</th>
    <th>Type</th>
    <th></th>
</tr>
</thead>
<tbody>
<?php
$count=0;
foreach($experienceResult as $resu){
    $count=$count+1;
    ?>
    <tr>
        <td width="13%"> <input type="text" class="parent_txts delFirst newRow deleteFun" maxlength="30" name="Name_of_Work_<?php echo $count;?>" id="Name_of_Work_<?php echo $count;?>" tagname="Name_of_Work" value="<?php echo $resu['WorkDescription'];?>" onkeypress="return alphaNumeric(event)" /></td>
        <td width="13%"> <input type="text" class="parent_txts delFirst" name="Name_of_Client_<?php echo $count;?>" maxlength="30" id="Name_of_Client_<?php echo $count;?>" tagname="Name_of_Client" value="<?php echo $resu['ClientName'];?>" onkeypress="return alphaNumeric(event)" /></td>
        <td width="13%"> <input type="text" class="parent_txts delFirst" name="Value_<?php echo $count;?>" id="Value_<?php echo $count;?>" tagname="Value" value="<?php echo $resu['Value'];?>" onblur="return FormatNum(this, 2)" maxlength="10" onkeypress="return isDecimal(event,this)" ondrop="return false;" onpaste="return false;"/></td>
        <td width="13%">
            <div class="col-lg-12">
                <input type="text" name="Fromdate_<?php echo $count;?>" id="Fromdate_<?php echo $count;?>" value="<?php if(date( 'd-m-Y', strtotime( $resu[ 'FromDate' ] ) )=='01-01-1970'){
                    echo '-';
                } else{
                    echo date( 'd-m-Y', strtotime( $resu[ 'FromDate' ] ) );
                } ?>" class="parent_txts mon" tagname="Fromdate" />
                <span class="date_icon delFirst"><i class="fa fa-calendar"></i></span>
            </div>
        </td>
        <td width="13%">
            <div class="col-lg-12">
                <input type="text" tagname="Todate" name="Todate_<?php echo $count;?>" id="Todate_<?php echo $count;?>"  value="<?php if(date( 'd-m-Y', strtotime( $resu[ 'ToDate' ] ) )=='01-01-1970'){
                    echo '-';
                } else{
                    echo date( 'd-m-Y', strtotime( $resu[ 'ToDate' ] ) );
                } ?>"  class="parent_txts mon"   />
                <span class="date_icon delFirst"><i class="fa fa-calendar"></i></span>
            </div>
        </td>
        <td width="13%"> <input type="text" class="parent_txts delFirst" name="Period_<?php echo $count;?>" id="Period_<?php echo $count;?>" tagname="Period" readonly value="<?php echo $resu['Period'];?>" /></td>
        <td width="13%">
            <select class="parent_txts delFirst" name="Type_<?php echo $count;?>" id="Type_<?php echo $count;?>" tagname="Type" value="<?php echo $resu['Type'];?>">
                <?php
                $city = array('1'=>'Supplier', '2'=>'Contractor', '3'=>'Service Provider');
                foreach($city as $key=>$value){
                    ?>
                    <option value="<?php echo $key;?>" <?php echo (($key==$resu['Type'])?'selected':'');?>><?php echo $value;?></option>
                <?php
                }
                ?>
            </select>
        </td>
        <td class="del"><a href="#" class="remove vendar_styles"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
    </tr>
<!--    <tr>-->
<!--        <td colspan="8">-->
<!--            <div class="col-lg-12">-->
<!--                <div class="table-responsive">-->
<!--                    <div class="row demo-columns">-->
<!--                        <div class="col-lg-6">-->
<!--                            <input type="hidden" name="fileList" id="fileList">-->
<!--                            <div id="drag-and-drop-zone" class="uploader">-->
<!--                                <div>Drag &amp; Drop Images Here</div>-->
<!--                                <div class="or">-or-</div>-->
<!--                                <div class="browser">-->
<!--                                    <label>-->
<!--                                        <span>Click to upload Images</span>-->
<!--                                        <input type="file" name="files[]"  multiple="multiple" title='Click to add Images'>-->
<!--                                    </label>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="col-lg-6">-->
<!--                            <div class="panel panel-default">-->
<!--                                <div class="panel-heading">-->
<!--                                    <h3 class="panel-title">Images</h3>-->
<!--                                </div>-->
<!--                                --><?php //if (isset($dcid) > 0){?>
<!--                                    --><?php
//                                    $dir = 'public/uploads/mms/'.$dcid;
//                                    $files = glob($dir.'/*'); // get all file names
//                                    ?>
<!--                                    <div class="panel-body demo-panel-files" id='demo-files' file-counter="--><?php //echo count($files); ?><!--">-->
<!--                                        --><?php
//                                        function filesize_formatted($path){
//                                            $size = filesize($path);
//                                            $units = array( 'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB');
//                                            $power = $size > 0 ? floor(log($size, 1024)) : 0;
//                                            return number_format($size / pow(1024, $power), 2, '.', ',') . ' ' . $units[$power];
//                                        }
//                                        if(count($files) > 0){
//                                            foreach($files as $file){ // iterate files
//                                                if(is_file($file)){
//                                                    ?>
<!--                                                    <div class="file_content" style="background-color:#f5f5f5; border-color:1px solid #dcdcdc !important; padding:12px 16px 12px 16px;margin-top:10px;">-->
<!--                                                        <a download="--><?php //echo basename($file); ?><!--" href="--><?php //echo $this->basePath().'/uploads/mms/'.$dcid.'/'.basename($file); ?><!--">--><?php //echo basename($file); ?><!--</a>-->
<!--                                                        <span class="demo-file-size">(--><?php //echo filesize_formatted($file); ?><!--)</span>-->
<!--                                                        <div id=":197" role="button" class="vq" tabindex="-1" fname="--><?php //echo basename($file); ?><!--"></div>-->
<!--                                                        <div class="progress progress-striped active" style="width:200px;float:right;display:none;">-->
<!--                                                            <div class="progress-bar" role="progressbar" style="width: 0%;">-->
<!--                                                            </div>-->
<!--                                                        </div>-->
<!--                                                    </div>-->
<!--                                                --><?php
//                                                }
//                                            }
//                                        }
//                                        else{
//                                            echo '<span class="demo-note">No Files have been selected/droped yet...</span>';
//                                        }
//                                        ?>
<!--                                    </div>-->
<!--                                --><?php //} else { ?>
<!--                                    <div class="panel-body demo-panel-files" id='demo-files' file-counter="0">-->
<!--                                        <span class="demo-note">No Files have been selected/droped yet...</span>-->
<!--                                    </div>-->
<!--                                --><?php //} ?>
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </td>-->
<!--        </tr>-->
<?php
}
if($count==0){
    ?>
    <tr class="newFirst">
        <td width="13%"><input type="text" class="parent_txts delFirst newRow deleteFun" name="Name_of_Work_1" id="Name_of_Work_1" tagname="Name_of_Work" /></td>
        <td width="13%"><input type="text" class="parent_txts delFirst sum" name="Name_of_Client_1" id="Name_of_Client_1" maxlength="20" tagname="Name_of_Client" disabled /></td>
        <td width="13%"><input type="text" class="parent_txts delFirst sum" name="Value_1" id="Value_1" tagname="Value" onblur="return FormatNum(this, 2)" maxlength="10" onkeypress="return isDecimal(event,this)" ondrop="return false;" onpaste="return false;" disabled /></td>
        <td width="13%">
            <div class="col-lg-12">
                <input type="text" name="Fromdate_1" id="Fromdate_1" tagname="Fromdate" class="parent_txts delFirst mon" disabled />
                <span class="date_icon sum" disabled><i class="fa fa-calendar"></i></span>
            </div>
        </td>

        <td width="13%">
            <div class="col-lg-12">
                <input type="text" name="Todate_1" id="Todate_1" tagname="Todate" class="parent_txts delFirst mon" disabled/>
                <span class="date_icon" disabled><i class="fa fa-calendar"></i></span>
            </div>
        </td>

        <td width="13%"><input type="text" class="parent_txts delFirst sum" name="Period_1" id="Period_1" tagname="Period" readonly value="" disabled/></td>
        <td width="13%">

            <select class="parent_txts" name="Type_<?php echo $count;?>" id="Type_<?php echo $count;?>" tagname="Type" value="">
                <?php
                $city = array('1'=>'Supplier', '2'=>'Contractor', '3'=>'Service Provider');
                foreach($city as $key=>$value){
                    ?>
                    <option value="<?php echo $key;?>"><?php echo $value;?></option>
                <?php
                }
                ?>
            </select>
        </td>
        <td class="del" style="display:none;"><a href="#" class="remove vendar_styles"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
    </tr>
<!--    <tr>-->
<!--        <td colspan="8">-->
<!--            <div class="col-lg-12">-->
<!--                <div class="table-responsive">-->
<!--                    <div class="row demo-columns">-->
<!--                <div class="col-lg-6">-->
<!--                    <input type="hidden" name="fileList" id="fileList">-->
<!--                    <div id="drag-and-drop-zone" class="uploader">-->
<!--                        <div>Drag &amp; Drop Images Here</div>-->
<!--                        <div class="or">-or-</div>-->
<!--                        <div class="browser">-->
<!--                            <label>-->
<!--                                <span>Click to upload Images</span>-->
<!--                                <input type="file" name="files[]"  multiple="multiple" title='Click to add Images'>-->
<!--                            </label>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-6">-->
<!--                    <div class="panel panel-default">-->
<!--                        <div class="panel-heading">-->
<!--                            <h3 class="panel-title">Images</h3>-->
<!--                        </div>-->
<!--                        --><?php //if (isset($dcid) > 0){?>
<!--                            --><?php
//                            $dir = 'public/uploads/mms/'.$dcid;
//                            $files = glob($dir.'/*'); // get all file names
//                            ?>
<!--                            <div class="panel-body demo-panel-files" id='demo-files' file-counter="--><?php //echo count($files); ?><!--">-->
<!--                                --><?php
//                                function filesize_formatted($path){
//                                    $size = filesize($path);
//                                    $units = array( 'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB');
//                                    $power = $size > 0 ? floor(log($size, 1024)) : 0;
//                                    return number_format($size / pow(1024, $power), 2, '.', ',') . ' ' . $units[$power];
//                                }
//                                if(count($files) > 0){
//                                    foreach($files as $file){ // iterate files
//                                        if(is_file($file)){
//                                            ?>
<!--                                            <div class="file_content" style="background-color:#f5f5f5; border-color:1px solid #dcdcdc !important; padding:12px 16px 12px 16px;margin-top:10px;">-->
<!--                                                <a download="--><?php //echo basename($file); ?><!--" href="--><?php //echo $this->basePath().'/uploads/mms/'.$dcid.'/'.basename($file); ?><!--">--><?php //echo basename($file); ?><!--</a>-->
<!--                                                <span class="demo-file-size">(--><?php //echo filesize_formatted($file); ?><!--)</span>-->
<!--                                                <div id=":197" role="button" class="vq" tabindex="-1" fname="--><?php //echo basename($file); ?><!--"></div>-->
<!--                                                <div class="progress progress-striped active" style="width:200px;float:right;display:none;">-->
<!--                                                    <div class="progress-bar" role="progressbar" style="width: 0%;">-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        --><?php
//                                        }
//                                    }
//                                }
//                                else{
//                                    echo '<span class="demo-note">No Files have been selected/droped yet...</span>';
//                                }
//                                ?>
<!--                            </div>-->
<!--                        --><?php //} else { ?>
<!--                            <div class="panel-body demo-panel-files" id='demo-files' file-counter="0">-->
<!--                                <span class="demo-note">No Files have been selected/droped yet...</span>-->
<!--                            </div>-->
<!--                        --><?php //} ?>
<!--                    </div>-->
<!--                </div>-->
<!--                </div>-->
<!--</div>-->
<!--            </div>-->
<!--        </td>-->
<!--    </tr>-->
<?php
}
else{
    $count=$count+1;
    ?>
    <tr>
        <td width="13%"> <input type="text" class="parent_txts delFirst newRow irow deleteFun" name="Name_of_Work_<?php echo $count;?>" id="Name_of_Work_<?php echo $count;?>" tagname="Name_of_Work" /></td>
        <td width="13%"> <input type="text" class="parent_txts delFirst sub" name="Name_of_Client_<?php echo $count;?>" id="Name_of_Client_<?php echo $count;?>" maxlength="20" tagname="Name_of_Client" disabled /></td>
        <td width="13%"> <input type="text" class="parent_txts delFirst sub" name="Value_<?php echo $count;?>" id="Value_<?php echo $count;?>" tagname="Value" maxlength="10" onblur="return FormatNum(this, 2)" onkeypress="return isDecimal(event,this)" ondrop="return false;" onpaste="return false;" disabled/></td>
        <td width="13%">
            <div class="col-lg-12 ">
                <input type="text" name="Fromdate_<?php echo $count;?>" id="Fromdate_<?php echo $count;?>"  class="parent_txts delFirst mon"  tagname="Fromdate" disabled  />
                <span class="date_icon sub" disabled><i class="fa fa-calendar"></i></span>
            </div>
        </td>
        <td width="13%">
            <div class="col-lg-12">
                <input type="text" name="Todate_<?php echo $count;?>" id="Todate_<?php echo $count;?>"  class="parent_txts delFirst mon" tagname="Todate" disabled  />
                <span class="date_icon sub" disabled><i class="fa fa-calendar"></i></span>
            </div>
        </td>

        <td width="13%"> <input type="text" tagname="Period" class="parent_txts delFirst sub" name="Period_<?php echo $count;?>" id="Period_<?php echo $count;?>" readonly value="" disabled/></td>
        <td width="13%">
            <select class="parent_txts delFirst" name="Type_<?php echo $count;?>" id="Type_<?php echo $count;?>" tagname="Type" value="">
                <?php
                $city = array('1'=>'Supplier', '2'=>'Contractor', '3'=>'Service Provider');
                foreach($city as $key=>$value){
                    ?>
                    <option value="<?php echo $key;?>"><?php echo $value;?></option>
                <?php
                }
                ?>
            </select>

            </td>
        <td class="del" style="display:none;"><a href="#" class="remove vendar_styles"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
    </tr>
<!--    <tr>-->
<!--        <td colspan="8">-->
<!--            <div class="col-lg-12">-->
<!--                <div class="table-responsive">-->
<!--                    <div class="row demo-columns">-->
<!--                <div class="col-lg-6">-->
<!--                    <input type="hidden" name="fileList" id="fileList">-->
<!--                    <div id="drag-and-drop-zone" class="uploader">-->
<!--                        <div>Drag &amp; Drop Images Here</div>-->
<!--                        <div class="or">-or-</div>-->
<!--                        <div class="browser">-->
<!--                            <label>-->
<!--                                <span>Click to upload Images</span>-->
<!--                                <input type="file" name="files[]"  multiple="multiple" title='Click to add Images'>-->
<!--                            </label>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-lg-6">-->
<!--                    <div class="panel panel-default">-->
<!--                        <div class="panel-heading">-->
<!--                            <h3 class="panel-title">Images</h3>-->
<!--                        </div>-->
<!--                        --><?php //if (isset($dcid) > 0){?>
<!--                            --><?php
//                            $dir = 'public/uploads/mms/'.$dcid;
//                            $files = glob($dir.'/*'); // get all file names
//                            ?>
<!--                            <div class="panel-body demo-panel-files" id='demo-files' file-counter="--><?php //echo count($files); ?><!--">-->
<!--                                --><?php
//                                function filesize_formatted($path){
//                                    $size = filesize($path);
//                                    $units = array( 'B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB');
//                                    $power = $size > 0 ? floor(log($size, 1024)) : 0;
//                                    return number_format($size / pow(1024, $power), 2, '.', ',') . ' ' . $units[$power];
//                                }
//                                if(count($files) > 0){
//                                    foreach($files as $file){ // iterate files
//                                        if(is_file($file)){
//                                            ?>
<!--                                            <div class="file_content" style="background-color:#f5f5f5; border-color:1px solid #dcdcdc !important; padding:12px 16px 12px 16px;margin-top:10px;">-->
<!--                                                <a download="--><?php //echo basename($file); ?><!--" href="--><?php //echo $this->basePath().'/uploads/mms/'.$dcid.'/'.basename($file); ?><!--">--><?php //echo basename($file); ?><!--</a>-->
<!--                                                <span class="demo-file-size">(--><?php //echo filesize_formatted($file); ?><!--)</span>-->
<!--                                                <div id=":197" role="button" class="vq" tabindex="-1" fname="--><?php //echo basename($file); ?><!--"></div>-->
<!--                                                <div class="progress progress-striped active" style="width:200px;float:right;display:none;">-->
<!--                                                    <div class="progress-bar" role="progressbar" style="width: 0%;">-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        --><?php
//                                        }
//                                    }
//                                }
//                                else{
//                                    echo '<span class="demo-note">No Files have been selected/droped yet...</span>';
//                                }?>
<!--                            </div>-->
<!--                        --><?php //} else { ?>
<!--                            <div class="panel-body demo-panel-files" id='demo-files' file-counter="0">-->
<!--                                <span class="demo-note">No Files have been selected/droped yet...</span>-->
<!--                            </div>-->
<!--                        --><?php //} ?>
<!--                    </div>-->
<!--                </div>-->
<!--                </div>-->
<!--</div>-->
<!--            </div>-->
<!--        </td>-->
<!--    </tr>-->
<?php
}
?>
</tbody>
</table>
<input type="hidden" class="parent_txts" name="RowCount" id="RowCount" value="0" />
</div>
</div>
</div>
</form>
</div>
</div>
<div class="col-lg-12 savebtn_area">
    <ul>
        <li id="sData" class="save_btn float_r">
            <a href="javascript:void(0);" data-attr="1" class="ripple">Save &amp; Exit </a>
        </li>
        <li id="submitdata" class="dropdown save_btn float_r">
            <a href="javascript:void(0);" class="ripple" >Save &amp; Next</a>
        </li>
        <li class="goto">
            <label for="go_to" class="float_l">Go to</label>
            <select id="dropdown" name="dropdown" class="dropdown float_l goto_select" title="Choose Page to go....">
                <option value="1">Basic Details</option>
                <option value="2">Contact Details</option>
                <option value="3">Statutory Details</option>
                <option value="4">Bank Details</option>
                <option value="5">Branch Details</option>
                <option value="6" selected="selected" style="background-color:gray;color:white;">Experience Details</option>
                <option value="7">Terms</option>
                <option value="8">Assessment</option>
                <option value="9">Registration</option>
                <option value="10">Resource</option>
                <option value="11">Financial</option>
                <option value="12">Supply</option>
                <option value="13">Work Group</option>
                <option value="14">Service</option>
                <option value="15">Other Details</option>
                <option value="16">Manufacture</option>
                <option value="17">Dealer</option>
                <option value="18">Distributor</option>
                <option value="19">Vehicle Details</option>
                <option value="20">Vendor Renewal</option>
                <option value="21">Vendor Profile</option>
            </select>
        </li>
        <li id="back" class="cancel_btn float_r" ><a href="<?php echo $this->basePath();?>/vendor/index/branch/<?php echo $this->bsf->encode($vendorId); ?>" class="ripple">back</a></li>
    </ul>
</div>
<?php
echo $this->InlineScript()
    ->appendFile($this->basePath() . '/library/fileupload/js/demo-preview.min.js')
    ->appendFile($this->basePath() . '/library/fileupload/js/dmuploader.min.js')
    ->appendFile($this->basePath() . '/js/select2.full.min.js')
?>
<script>
$("#dropdown").change(function(){
    if($(this).val() == 1){
        $(location).attr('href',"../basic-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 2){
        $(location).attr('href',"../contact-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 3){
        $(location).attr('href',"../statutory-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 4){
        $(location).attr('href',"../bankfinance-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 5){
        $(location).attr('href',"../branch/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 6){
        $(location).attr('href',"../exprience-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 7){
        $(location).attr('href',"../vendor-terms/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 8){
        $(location).attr('href',"../assessment-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 9){
        $(location).attr('href',"../vendor-registration/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 10){
        $(location).attr('href',"../resource/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 11){
        $(location).attr('href',"../financial/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 12){
        $(location).attr('href',"../supply/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 13){
        $(location).attr('href',"../works/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 14){
        $(location).attr('href',"../service/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 15){
        $(location).attr('href',"../others/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 16){
        $(location).attr('href',"../manufacture-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 17){
        $(location).attr('href',"../dealer-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 18){
        $(location).attr('href',"../distributor-detail/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 19){
        $(location).attr('href',"../vehicleregister/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 20){
        $(location).attr('href',"../vendor-renewal/<?php echo $this->bsf->encode($vendorId); ?>");
    }
    if($(this).val() == 21){
        $(location).attr('href',"../vendor-profile/<?php echo $vendorId; ?>");
    }
});


$(".mon").datepicker({
    format: "dd-mm-yyyy",
    todayBtn: true,
    orientation: "top auto",
    autoclose: true
});
function monthDiff(date1, date2) {
    var start_date = date1;
    var end_date = date2;
    var inverse = false;
    if (date1 > date2)
    {
        start_date = date2;
        end_date = date1;
        inverse = true;
    }
    $('#AddNew').click(function(){
        $('#contactTable tbody').append('<tr>'+$('#contactTable tbody tr:first').html()+'</tr>');
        $('#contactTable tbody tr').each(function(){
            var index=$(this).index() + 1;
            var lastIndex=$('#contactTable tbody tr:last').index() + 1;

            $(this).find('select, input:text').each(function(){
                if(index==lastIndex){
                    if($(this).prop('tagName').toLowerCase() == 'input')
                        $(this).val('');
                    else
                        $(this).val('1');
                }
                $(this).attr('name', $(this).attr('tagname')+'_'+index);
                $(this).attr('id', $(this).attr('tagname')+'_'+index);
            })
        });
        removetr();
    });
    end_date = new Date(end_date);
    end_date.setDate(end_date.getDate());

    var yearsDifference = end_date.getFullYear() - start_date.getFullYear();
    var smonth = start_date.getMonth() + 1;
    var emonth = end_date.getMonth() +1;
    var monthsDifference = emonth - smonth;
    monthsDifference = monthsDifference - 1;
    if(emonth >  smonth) {
        var dayscount = 31 - start_date.getDate();
        var daysDifference = dayscount + end_date.getDate();
        if(daysDifference > 31){
            daysDifference = daysDifference -31;
            monthsDifference = monthsDifference + 1;
        }
    }
    else{
        var daysDifference = end_date.getDate() - start_date.getDate();
    }
    var difference = (inverse ? -1 : 1) * parseInt(yearsDifference * 12 + monthsDifference + daysDifference/30);
    if(daysDifference == -30){
        daysDifference = 0;
    }
    return [difference, daysDifference];
}
$(document).on("change",".mon",function () {
    var i=$(this).attr('id').split('_');
    if($.trim($("#Fromdate_" + i[1]).val())!="" && $.trim($("#Todate_" + i[1]).val())!="") {

        var sDate = ($("#Fromdate_" + i[1]).val()).split('-');
        var firstDate = new Date(sDate[1] + '/' + sDate[0] + '/' + sDate[2]);
        var pDate = ($("#Todate_" + i[1]).val()).split('-');
        var toDate = new Date(pDate[1] + '/' + pDate[0] + '/' + pDate[2]);
        var mDiff = monthDiff(firstDate, toDate);
        var total = (mDiff);
        var dCodes = total[0];
        var dCodes2 = total[1];
        $('#Period_' + i[1]).val((total[0])+'months'+(total[1])+'days');
    }
});

var rowCount;
removetr();
$(".addTech").bind("click", function(){
    var table = $("#contactTable tbody");
    table.append("<tr>"+table.find("tr:first").html()+"</tr>");
    table.find("tr:last td:last").append("<input type='button' class='btn btn-primary remove' value='Remove'>");
    var len = table.find("tr").length;
    table.find("tr").each(function(){
        var index=$(this).index() + 1;
        $(this).find("select, input:text").each(function(){
            $(this).attr("name", $(this).attr("tagname")+'_'+index);
            $(this).attr("id", $(this).attr("tagname")+'_'+index);
            if(len == index)
                $(this).val('');
        });
    });
    removetr();
});



function removetr(){
    $('.remove').click(function(){
        if($(this).closest('tr').parent().find('tr').length != 1){
            $(this).closest('tr').remove();
            $('#documentTable tbody tr').each(function(){
                var index=$(this).index() + 1;
                $(this).find('select, input:text').each(function(){
                    $(this).attr('name', $(this).attr('tagname')+'_'+index);
                    $(this).attr('id', $(this).attr('tagname')+'_'+index);
                })

            });
        } else {
            $('.delFirst').val('');
        }
    });
}



//    function removetr(){
//        $(".remove").unbind("click");
//        $(".remove").bind("click", function(){
//            if($(this).closest("tr").index() != 0){
//                if (!confirm('Do you want to Delete'))
//                    return false;
//                var table = $(this).closest("table");
//                $(this).closest("tr").remove();
//                var len = table.find("tbody:first tr").length;
//                table.find("tbody tr").each(function(){
//                    var index=$(this).index() + 1;
//                    $(this).find("select, input:text").each(function(){
//                        $(this).attr("name", $(this).attr("tagname")+'_'+index);
//                        $(this).attr("id", $(this).attr("tagname")+'_'+index);
//                    });
//                });
//            }
//        });
//    }


$('#submitdata').click(function(){
    var rowCount = ($('#contactTable tbody tr').length)-1;
    $("#RowCount").val(rowCount);
    $("form").submit();
});

$('#sData').click(function(){
    var rowCount = ($('#contactTable tbody tr').length)-1;
    $("#RowCount").val(rowCount);
    var sum=2;
    $("#saveExit").val(sum);
    $("form").submit();
});


addRow();
function addRow(){
    $( ".newRow" ).unbind();
    $( ".newRow" ).bind('keyup', function() {
        console.log($("#contactTable tbody tr:last").index());
        // alert($(this).closest("tr").index()+"------------"+$("#contactTable tbody tr:last").index())
        if($(this).val().length>0 && $(this).closest("tr").next().index() == $("#contactTable tbody .newFirst tr:last").index()){
            $("#contactTable tbody").append("<tr>"+$("#contactTable tbody .newFirst tr:last").html()+"</tr>");
           // $("#contactTable tbody").append("<tr>"+$("#contactTable tbody tr:last").html()+"</tr>");
            $("#contactTable tbody tr").each(function(){
                var index=$(this).index() + 1;
                console.log(index);
                var lastIndex=$("#contactTable tbody tr:last").index() + 1;
                $(this).find("select, input:text").each(function(){
                    if(index==lastIndex){
                        if($(this).prop("tagName").toLowerCase() == 'input')
                            $(this).val("");
                        else
                            $(this).val("1");
                    }
                    $(this).attr("name", $(this).attr("tagname")+'_'+index);
                    $(this).attr("id", $(this).attr("tagname")+'_'+index);
                    $("#contactTable tbody tr:last").find('.del').hide();
                });
            });
            removetr();
            addRow();
            rowCount = $('#contactTable tbody tr').length;
            $("#RowCount").val(rowCount);
        }
        if($(this).val().length>0 ) {
            $(this).closest('tr').find('input').attr('disabled',false);
        } else {
            $(this).closest('tr').find('input').attr('disabled',true);
            // $("#dropdown1").attr("disabled", true);
            $(this).attr('disabled',false);
        }
    });
    $(".mon").datepicker({
        format: "dd-mm-yyyy",
        todayBtn: true,
        orientation: "top auto",
        autoclose: true
    });
}

var fileList = [];
function removeFile(){
    $('.vq').unbind('click');
    $('.vq').bind('click', function(){
        var ele = $(this);
        var fname = ele.attr('fname');
        $.ajax({
            <?php if(isset ($dcid)){ ?>
            url:getBaseURL()+"vendor/index/uploadfile/<?php echo $dcid; ?>",
            <?php } else { ?>
            url:getBaseURL()+"vendor/index/uploadfile/0",
            <?php } ?>
            type:'post',
            data:'mode=delete&fname='+fname,
            success:function(data, textStatus, errorThrown){
                fileList.splice($.inArray(fname, fileList),1);
                ele.closest('div.file_content').fadeOut(500, function(){
                    $(this).remove();
                })
            },
            erorr:function(jqXHR, textStatus, errorThrown){

            }
        });
    });
}
removeFile()
$('#drag-and-drop-zone').dmUploader({
    <?php if(isset ($dcid)){ ?>
    url:getBaseURL()+"vendor/index/upload-file/<?php echo $dcid; ?>",
    <?php } else { ?>
    url:getBaseURL()+"vendor/index/upload-file/0/0",
    <?php } ?>
    dataType: 'json',
    //allowedTypes: 'image/*',
    onInit: function(){

    },
    onBeforeUpload: function(id){

    },
    onNewFile: function(id, file){
        $.danidemo.addFile('#demo-files', id, file);

        /*** Begins Image preview loader ***/
        if (typeof FileReader !== "undefined"){

            var reader = new FileReader();

            // Last image added
            var img = $('#demo-files').find('.demo-image-preview').eq(0);

            reader.onload = function (e) {
                img.attr('src', e.target.result);
            },

                reader.readAsDataURL(file);

        } else {
            // Hide/Remove all Images if FileReader isn't supported
            $('#demo-files').find('.demo-image-preview').remove();
        }
        /*** Ends Image preview loader ***/

    },
    onComplete: function(){
        $.danidemo.addLog('#demo-debug', 'default', 'All pending tranfers completed');
        removeFile();
    },
    onUploadProgress: function(id, percent){
        var percentStr = percent + '%';

        $.danidemo.updateFileProgress(id, percentStr);
    },
    onUploadSuccess: function(id, data){
        fileList.push(data.fname);

        $.danidemo.updateFileProgress(id, '100%');
        <?php if(isset ($dcid)){ ?>
        $('#demo-file'+id).find('a').attr('href', '<?php echo $this->basePath(); ?>/uploads/vendor/exp/<?php echo isset ($dcid) + '-' + isset($eId) ; ?>/'+data.fname);
        <?php } else {?>
        $('#demo-file'+id).find('a').attr('href', '<?php echo $this->basePath(); ?>/uploads/vendor/doc1_files/'+data.fname);
        <?php }?>
        $('#demo-file'+id).find('a').attr('download', data.fname);
        $('#demo-file'+id).find('a').text((data.fname.length > 50)?data.fname.substring(0, 50)+'...':data.fname);
        $('#demo-file'+id).find('.vq').attr('fname', data.fname);
    },
    onUploadError: function(id, message){

    },
    onFileTypeError: function(file){

    },
    onFileSizeError: function(file){

    },
    onFallbackMode: function(message){

    }
});

$(document).on('change','.deleteFun',function(){
    if($(this).val() != ''){
        $(this).parent().parent().find('.del').show();
    } else {
        $(this).parent().parent().find('.del').hide();
    }
});

</script>