<style>
.iconla{
	font-size: 150%;
	font-family: times, serif;
	position: relative;
	text-align: center;
	color: #000;
	padding: 0.5em;
}
/* centered columns styles */
.row-centered {
    text-align:center;
}
.col-centered {
    display:inline-block;
    float:none;
    /* reset the text-align */
    text-align:left;
    /* inline-block space fix */
    margin-right:-4px;
}
.jqx-grid-column-header .jqx-checkbox-default{
	display:none;
}
.upload_file_div{width:95% !important;}
</style>
<div class="content_wrapper padlr0">
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="padbtm0">Online Registration</h1>
			</div>
			<form class="form-horizontal" method="post" id="cityaddr" enctype="multipart/form-data">
				<div id="basic" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >															
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Critical Information</h1>
							</div>
						</div>
						<div class="col-lg-10 col-lg-offset-2">
							<div class="row">   
								<div class="form-group req_flds col-lg-5">					
									<input type="text" class="form-control lbl_move" name="vendorname" id="vendorname" value="" onkeypress="return alphaNumeric(event)" label="Vendor Name">
									<div class="error_message"><p>Enter vendor name...</p></div>
								</div>
                                <div class="form-group req_flds col-lg-5">
                                    <select name="Select[]" id="SelectId" class="form-control multiple_dropdown lbl_move" multiple="multiple" data-size="3" title="None" label="Vendor Type" style="..." >
                                        <?php
                                        $sup = array('1'=>'Supplier', '2'=>'Contractor', '3'=>'Service Provider');
                                        foreach($sup as $key=>$value){
                                            ?>
                                            <option value="<?php echo $key;?>"><?php echo $value;?></option>
                                        <?php
                                        }
                                        ?>
                                    </select>
                                    <div class="error_message"><p>Please select the Vendor Type...</p></div>
                                </div>
                            </div>
						</div>
						<div class="col-lg-10 col-lg-offset-2">
                            <div class="row">
                                <div class="form-group req_flds col-lg-5">
                                    <select name="Select1[]" id="Select1Id" class="form-control multiple_dropdown lbl_move" multiple="multiple"   data-size="3" title="None" label="Supply Type" >
                                        <?php
                                        $sup = array('1'=>'Manufacture', '2'=>'Distributor', '3'=>'Dealer');
                                        foreach($sup as $key=>$value){
                                            ?>
                                            <option value="<?php echo $key;?>"><?php echo $value;?></option>
                                        <?php
                                        }
                                        ?>
                                    </select>
                                    <div class="error_message"><p>Please select the Supply Type...</p></div>
                                </div>
                                <div class="form-group req_flds col-lg-5">
                                    <input type="text" class="form-control lbl_move" label="PAN NO" id="panno" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" maxlength="10" name="panno" value="" onblur="return panfun(this.value);"  ondrop="return false;" onpaste="return false;">
                                    <div class="error_message"><p>Please enter Valid PAN No (Ex: SDERF7896H)</p></div>
                                </div>
                            </div>
						</div>
						<div class="col-lg-10 col-lg-offset-2">
                            <div class="row">
                                <div class="form-group req_flds col-lg-5">
                                    <input type="text" class="form-control lbl_move" label="PAN Type" name="pantype" id="pantype" readonly value="">
                                </div>
                                <div class="form-group req_flds col-lg-5">
                                    <input type="text" class="form-control lbl_move" label="Company" name="CompanyId" id="CompanyId" readonly value=" ">
                                </div>
                            </div>
						</div>
						<div class="col-lg-10 col-lg-offset-2">
							<div class="row">
								<div class="form-group req_flds col-lg-5">
									<select name="ServiceTypeId" id="WorkNature" class="single_dropdown lbl_move" style="width:100%;" label="Work Nature" >
										<option value="">Work Nature</option>
										<?php
										foreach($workResult as $type){
											?>
											<option <?php if($type){ if($type['ServiceTypeId'] == $type['ServiceTypeId']) {} } ?> value="<?php echo $type['ServiceTypeId'];?>"><?php echo $type['ServiceType'];?></option>
										<?php
										}
										?>
									</select>
									<div class="error_message"><p>Please Select the Work Nature...</p></div>
								</div>
                                <div id="p1" class="form-group req_flds col-lg-5">
                                    <input type="text" class="form-control lbl_move " label="AadhaarCard No" name="aadharno" id="aadharno"  value=""  onkeypress="return alphaNumeric(event);" maxlength="16" ondrop="return false;" onpaste="return false;" />
                                </div>
							</div>
						</div>
					</div>
				</div>	
				<div id="basicaddress" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >		
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Basic Information</h1>
							</div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" data-name="name" class="form-control lbl_move" label="Registered Address" id="regaddr" name="regaddress" value="">
                                    <div class="error_message"><p>Please enter Location...</p></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-lg-10">
                                    <input type="text" data-name="locality" class="form-control lbl_move" label="City" id="city" name="city" readonly value="">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" data-name="postal_code" class="form-control lbl_move" maxlength="6" label="Pincode" name="pincode" value="" onkeypress="return isNumberKey(event);" ondrop="return false;" onpaste="return false;">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" data-name="administrative_area_level_1" class="form-control req_flds lbl_move" label="State" id="state" name="state" readonly value="">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" data-name="country" class="form-control lbl_move" label="Country" id="country" name="country" readonly value="">
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-lg-10">
                                    <input type="file" id="files" name="files">
                                </div>
                            </div>

                            <!--                            <div class="row">-->
<!--								<div class="form-group col-lg-12">-->
<!--									<div class="upload_file">-->
<!--										<input id="files"  class="hide_file_input" type="file" onchange="$('#uploadedFile').val(this.value)" value="" name="files">-->
<!--										<div class="upload_file_div ">-->
<!--											<input type="text" class="upload_file_input" value="" name="uploadedFile" id="uploadedFile" label="Select File" />-->
<!--											<div class="upload_file_text">Upload</div>-->
<!--										</div>-->
<!--									</div>-->
<!--								</div>-->
<!--                            </div>-->
						</div>
					</div>
				</div>				
				
				<div id="contactdetail" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >				
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Contact Details</h1>
							</div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" class="form-control lbl_move" name="contactperson" label="Contact Person" value="">
                                    <div class="error_message"><p>Enter Contact person...</p></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" class="form-control lbl_move" name="contactno" maxlength="10" label="ContactNo" onKeyPress="return isNumberKey(event)" value="">
                                    <div class="error_message"><p>Enter Contact no...</p></div>
                                </div>
                            </div>
                            <div class="row">
								<div class="form-group req_flds col-lg-10">
                                    <input type="text" class="form-control lbl_move" name="Contact_Address" id="Contact_Address" label="Contact Address" value="">
									<div class="error_message"><p>Enter Contact Address...</p></div>
								</div>	
							</div>
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move emailCheck extraValid" name="contactemail" onChange="return mailCheck(this);" label="Contact Email" value="">
                                    <div class="error_message"><p>Please Enter Valid Email Address...</p></div>
								</div>
							</div>
                            <div class="row">
                                <div class="form-group req_flds col-lg-10">
                                    <input type="text" class="form-control lbl_move webCheck extraValid" name="webaddress" label="Webaddress"  value="">
                                    <div class="error_message"><p>Please Enter Valid Web address...</p></div>
                                </div>
                            </div>
                            <div class="row">
                                    <div class="form-group req_flds col-lg-10">
                                    <select class="form-control dropdown lbl_move" label="Contact Type" name="contact_Type" id="contact_Type" tagname="contact_Type">
                                        <?php
                                        $city = array('0'=>'None','1'=>'Primary Person', '2'=>'Secondary Person', '3'=>'Others');
                                        foreach($city as $key=>$value){
                                            ?>
                                            <option value="<?php echo $key;?>"><?php echo $value;?></option>
                                        <?php
                                        }
                                        ?>
                                    </select>
                                </div>
                            </div>
                        </div>
					</div>
				</div>

<!--				<div id="contactdetail2" class="showDiv">-->
<!--					<div class="form-group">-->
<!--						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >
<!--							<div class="col-lg-12">-->
<!--								<h1 class="txt_center form_main_h1 frmwrk_h1">Secondary Contact Details</h1>-->
<!--							</div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <input type="text" class="form-control lbl_move" name="sec_contactperson" label="Secondary Contact Person" value="">
<!--                                    <div class="error_message"><p>Please Enter Secondary Contact Person...</p></div>
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <input type="text" class="form-control lbl_move" name="sec_contactno"  label="Secondary ContactNo" onKeyPress="return isNumberKey(event)"value="">-->
<!--                                    <div class="error_message"><p>Please Enter Secondary Contact Number...</p></div>
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <input type="text" class="form-control lbl_move" name="sec_phoneno"  label="Secondary Phoneno" onKeyPress="return isNumberKey(event)"value="">-->
<!--                                    <div class="error_message"><p>Enter secondary phone no...</p></div>
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <textarea class="form-control lbl_move" name="communcationaddress" label="Communciation Address" value="" ></textarea>-->
<!--                                    <div class="error_message"><p>Please Enter Secondary Communication Address...</p></div>
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <input type="text" class="form-control lbl_move emailCheck extraValid" name="sec_contactemail" id="Contact_Email_ " onChange="return mailCheck(this);" label="Secondary Email" value="">-->
<!--                                    <div class="error_message"><p>PLease Enter Secondary Contact Email...</p></div>
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="row">-->
<!--                                <div class="form-group req_flds col-lg-10">-->
<!--                                    <input type="text" class="form-control lbl_move webCheck extraValid" name="sec_webaddress" label="Secondary Webaddress" value="">-->
<!--                                    <div class="error_message"><p>PLease Enter Secondary Web address...</p></div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--							<div class="row">   -->
<!--								<div class="form-group req_flds col-lg-10">		-->
<!--									<input type="text" class="form-control lbl_move" name="sec_faxno" label="Fax Number" value="">-->
<!--									<div class="error_message"><p>PLease Enter Fax Number...</p></div>-->
<!--								</div>	-->
<!--							</div>-->
<!--						</div>-->
<!--					</div>-->
<!--				</div>	-->
				
				<div id="taxDetail" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >				
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Statutory Information (India)</h1>
							</div>	
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Tax Details</h1>
							</div>							
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="constitutionfirm"  style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" label="ConstitutionFirm" value="">
									<div class="error_message"><p>Please Enter ConstitutionFirm...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="yearofestablishment" onkeypress="return isNumberKey(event);" id="year" maxlength="4" onblur="return yearcheck(this.value)"  label="Year of Establishment" onKeyPress="return isNumberKey(event)"value="">
									<div class="error_message"><p>Please Enter Valid Year of Establishment...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="tinno" style="text-transform:uppercase;"  label="TINNo" value="" onkeypress="return isNumberKey(event)" maxlength="11">
									<div class="error_message"><p>Please Enter TINNo...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="con" label="Cheque on Name"  onkeypress="return alphaNumeric(event)" value="">
									<div class="error_message"><p>Enter Cheque on Name...</p></div>
								</div>
							</div>
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="tanno"  style="text-transform:uppercase;" label="TANNo" value="" maxlength="10">
									<div class="error_message"><p>Please Enter TANNo...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">
									<input type="text" class="form-control lbl_move" style="text-transform:uppercase;" name="cstno" label="CSTNo" value="" maxlength="10">
									<div class="error_message"><p>Please Enter CSTNo...</p></div>
								</div>
							</div>
						</div>
					</div>
				</div>	
						
				<div id="serviceDetail" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >				
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Service Details</h1>
							</div>					
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control taxval lbl_move" name="servicetaxno" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" maxlength="15" label="ServiceTaxNo" value="">
                                    <div class="error_message"><p>Please Enter Valid Service Tax No (Ex: SDEFR3452DFR456)</p></div><div>&nbsp;</div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="tngstno" label="TNGSTNo" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" value="">
									<div class="error_message"><p>PLease Enter TNGSTNo...</p></div>
								</div>	
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="ssiregdno" label="SSIREGDNo" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" value="">
									<div class="error_message"><p>Please Enter SSIREGDNo...</p></div>
								</div>	
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" style="text-transform:uppercase;" name="servicetaxcircle" label="ServiceTax Circle" value="">
									<div class="error_message"><p>Please Enter ServiceTax Circle...</p></div>
								</div>	
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">
									<input type="text" class="form-control lbl_move" name="epino" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" label="EPINo" maxlength="15" value="">
									<div class="error_message"><p>Please Enter EPINo...</p></div>
								</div>	
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">	
									<input type="text" class="form-control lbl_move" name="esino" style="text-transform:uppercase;" onkeypress="return alphaNumeric(event)" label="ESINo" maxlength="15" value="">
									<div class="error_message"><p>Please Enter ESINo...</p></div>
								</div>	
							</div>
						</div>
					</div>
				</div>	
						
				<div id="registrationDetail" class="showDiv">
					<div class="form-group">
						<div class="col-lg-5 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2" >				
							<div class="col-lg-12">
								<h1 class="txt_center form_main_h1 frmwrk_h1">Registration Details</h1>
							</div>									
							<div class="row">   
								<div class="form-group req_flds col-lg-10">						
									<input type="text" class="form-control lbl_move" name="exciseregno" onkeypress="return alphaNumeric(event)" label="Excise RegNo" value="">
									<div class="error_message"><p>Please Enter Excise RegNo...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">						
									<input type="text" class="form-control lbl_move" name="exciserange" onkeypress="return alphaNumeric(event)" label="Excise Range" value="">
									<div class="error_message"><p>Please Enter Excise Range...</p></div>
								</div>
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">						
									<input type="text" class="form-control lbl_move" name="excisedivision" onkeypress="return alphaNumeric(event)" label="Excise Division" value="">
									<div class="error_message"><p>Please Enter Excise Division...</p></div>
								</div>	
							</div>	
							<div class="row">   
								<div class="form-group req_flds col-lg-10">						
									<input type="text" class="form-control lbl_move" name="eccno" style="text-transform:uppercase;" label="ECCNo" onkeypress="return alphaNumeric(event)" value="">
									<div class="error_message"><p>Please Enter ECCNo...</p></div>
								</div>	
							</div>	
						</div>
					</div>
				</div>	
			</form>
		</div>	
	</div>
</div>
<div class="col-lg-12 savebtn_area">
    <ul>
        <li id="continue" class="dropdown save_btn float_r">
            <a href="javascript:void(0);" class="ripple" id="continueButton">Continue</a>
        </li>
        <li id="backButton" class="cancel_btn float_r" style="display:none;"><a href="javascript:void(0);" class="ripple">back</a></li>
    </ul>
</div>
<script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places&amp;key=AIzaSyDaNPyxJ7NKmZ4rC8awB-BlBh6ieH1Q9os"></script>
<script>
	$(".showDiv").hide();
	$(".showDiv:first").show();


    <?php if(isset($rs)&& $rs['Company']=='Non-Company'){ ?>
    $('#p1').show();
    <?php } else { ?>
    $('#p1').hide();
    <?php } ?>

    $('input[name="CompanyId"]').on('change', function() {
        if($(this).val() == 'Non-Company'){
            $('#p1').show();
        } else {
            $('#p1').hide();
        }
    });
$("#backButton").click(function(){
	$("#continueButton").val("Continue");
	var ele = $(".showDiv:visible");
	if($(".showDiv:visible").closest(".showDiv").prev(".showDiv").index() == $(".showDiv:first").index())
		$("#backButton").hide();
		
	$(".showDiv:visible").closest(".showDiv").prev(".showDiv").show();
	ele.hide();
});
    /* address Mapping */
    $(function(){
        navigator.geolocation.getCurrentPosition(showPosition);
        $("#regaddr").geocomplete({
            details: "#cityaddr",
            types: ["geocode", "establishment"]
        });

        $("#find").click(function(){
            $("#regaddr").trigger("geocode");
        });
        function showPosition(position) {
            var coordinates = position.coords.latitude + "," + position.coords.longitude;
            $('#regaddr').val(coordinates);
            $("#regaddr").trigger("geocode");
        }
    });


$("#continueButton").click(function(){
	$('.error_message').hide();
	var ele = $(".showDiv:visible");
	var bool = true;
	ele.find("input,checkbox, select, textarea").each(function(){
		var tagname = $(this).prop("tagName").toLowerCase();
		if(tagname == 'input'){
			var type = $(this).attr("type");
			if(type == 'text'){
				if($(this).is(":visible") && $(this).val().trim().length == 0 && !$(this).prop('readonly')){
					bool=false;
					$(this).closest('.form-group').find('.error_message').show();
					$(this).focus();
					return false;
				}
				else if($(this).hasClass('extraValid')){
					$(this).trigger('blur');
					if($(this).closest('.form-group').find('.error_message').is(':visible')){
						bool=false;
						$(this).focus();
						return false;
					}
                    else{
                        $(this).closest('.form-group').find('.error_message').hide();
                    }
				}
                else{
                    $(this).closest('.form-group').find('.error_message').hide();
                }
			}
			else if(type == 'checkbox'){

			}
			else if(type == 'radio'){

			}

		}
		else if(tagname == 'select'){
			if($(this).val() == 'select one'){
				bool = false;
				console.log($(this).closest('.form-group').find('.error_message').html())
				$(this).closest('.form-group').find('.error_message').show();
				$(this).focus();
				return false;
			}
            else{
                $(this).closest('.form-group').find('.error_message').hide();
            }
		}
		else if(tagname == 'textarea'){
			if($(this).val().trim().length == 0){
				bool = false;
				$(this).closest('.form-group').find('.error_message').show();
				$(this).focus();
				return false;
			}
            else{
                $(this).closest('.form-group').find('.error_message').hide();
            }
		}
	});

	if(bool && $(".showDiv:first").is(":visible")){
		bool=false;
		validVendor();
	}

	if(bool){
		nextPage();
	}

});
function nextPage(){

	var ele = $(".showDiv:visible");
	if($(".showDiv:visible").index() != $(".showDiv:last").index()){
		$("#backButton").show();
		$(".showDiv:visible").next(".showDiv").show();
		ele.hide();
		if($(".showDiv:visible").index() == $(".showDiv:last").index()){
			$("#continueButton").val("Submit");
		}
	}
	else{
		$('form').submit();
	}
}
function validVendor(){
	$.ajax({
		url:getBaseURL()+"vendor/index/online-registration",
		type:"post",
		data:"vendorname="+$("#vendorname").val()+"&mode=vendorName",
		dataType:"json",
		success:function(data, textStatus, jqXHR){
			//alert(JSON.stringify(data['data']))
			if(data['data'].length != 0){
				alert("name already registered");
				return false;
			}
			else{
				nextPage();				
			}
		},
		error:function(jqXHR, textStatus, errorThrown){
			alert(textStatus+"-----"+errorThrown);
		}
	});
}
	
	
	// city ajax
	$("#city").change(function(){
		$.ajax({
			url:getBaseURL()+"vendor/index/online-registration",
			type:"post",
			data:"cid="+$(this).val()+"&mode=city",
			dataType:"json",
			success:function(data, textStatus, jqXHR){
				//alert(JSON.stringify(data))
				if(data['data'][0].StateName != ''){
					$('#state').val(data['data'][0].StateName);
					$('#state').closest('div').addClass('dirty');
				}
				if(data['data'][0].StateName != ''){
					$('#country').val(data['data'][0].CountryName);
					$('#country').closest('div').addClass('dirty');
				}
			},
			error:function(jqXHR, textStatus, errorThrown){
				alert(textStatus+"-----"+errorThrown);
			}
		});
	});

    function panfun(pan){
        var panReg =/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/;
        if(!panReg.test(pan)){
            $("#panno").closest(".req_flds").find(".error_message").show();
            $("#panno").focus();
            return false;
            $("#pantype").val(panType);
            $("#CompanyId").val(comp);
        }
        else{
            $("#panno").closest(".req_flds").find(".error_message").hide();
            var  sval= pan[3];
            var comp;
            var CompanyFound='';
            if(sval == "c"){
                panType = "Company";
                CompanyFound=1;
                $("#pantype").val(panType);
                $("#div1").show();
            }else if(sval == "p") {
                panType = "Person";
                $("#pantype").val(panType);
            }else if(sval == "h") {
                panType = "Hindu Undivided Family";
                $("#pantype").val(panType);
            }else if(sval == "f") {
                panType = "Firm";
            }else if(sval == "a") {
                panType = "Association of Persons";
                $("#pantype").val(panType);
            }else if(sval == "t") {
                panType = "Trust";
                $("#pantype").val(panType);
            }else if(sval == "b") {
                panType = "Body of Individuals";
                $("#pantype").val(panType);
            }else if(sval == "l") {
                panType = "Local Authority";
                $("#pantype").val(panType);
            }else if(sval == "j") {
                panType = "Artificial Juridical Person";
                $("#pantype").val(panType);
            }else if(sval == "g") {
                panType = "Government";
                $("#pantype").val(panType);
            }else {
                panType = "Other";
                $("#pantype").val(panType);
            }
            $("#pantype").val(panType);
            if(CompanyFound == 0){
                comp = 'Company';
                $("#CompanyId").val(comp);
            } else{
                var c = $("#CompanyId").val();
                comp = 'Non-Company';
                $("#CompanyId").val(comp);
                $("#p1").show();
            }
        }
    }

    $('.taxval').bind('blur', function(){
        var tax = $(this).val();
        $(this).closest('.form-group').find('.error_message').hide();
        var taxvalidation =/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){3}([0-9]){3}?$/;
        if(!taxvalidation.test(tax))
        {
            $(this).closest('.form-group').find('.error_message').show();
        }
        else{
            $(this).closest('.form-group').find('.error_message').hide();
        }

    });

    function yearcheck(year)
    {
        if(year>2017){
            $("#year").closest(".req_flds").find(".error_message").show();
            $("#year").focus();
            return false;
        }
        else{
            $("#year").closest(".req_flds").find(".error_message").hide();
        }

    }


    $('.webCheck').bind('blur', function(){
        var webaddress = $(this).val();
        $(this).closest('.form-group').find('.error_message').hide();
        var webReg = /^(http(s?):\/\/)?(www\.)+[a-zA-Z0-9\.\-\_]+(\.[a-zA-Z]{2,3})+(\/[a-zA-Z0-9\_\-\s\.\/\?\%\#\&\=]*)?$/;
        if(!webReg.test(webaddress))
        {
            $(this).closest('.form-group').find('.error_message').show();
        }
        else{
            $(this).closest('.form-group').find('.error_message').hide();
        }

    });

	$('.emailCheck').bind('blur', function(){
		var emailaddress = $(this).val();
		$(this).closest('.form-group').find('.error_message').hide();
		 var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
		 if(!emailReg.test(emailaddress))
         {
             $(this).closest('.form-group').find('.error_message').show();
         }
        else{
             $(this).closest('.form-group').find('.error_message').hide();
         }

	});
</script>



