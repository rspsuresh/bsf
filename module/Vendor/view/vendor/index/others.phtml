<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/vendor.css';?>"/>
<style type="text/css">
    .vendor_editsymbolchange {margin-left: 30px !important;}
    .edit_symbols {font-size: 17px;color: #999;}
	.heading_checkbox{float:left;margin-right:20px;}
	.srch{margin-bottom:5px;}
	.srch_icn {position: absolute;z-index: 999;bottom: 21px;left: 145px;font-size: 18px;color: #0aa89e;}
	.srch > input[type=text] {width: 122px;box-sizing: border-box;border: 2px solid #d3e4ef;font-size: 16px;background-color: white;background-position: 1px 5px;background-repeat: no-repeat;padding: 9px 8px 12px 32px;transition: width 0.4s ease-in-out;position: relative;}
	.srch>input[type=text]:focus {width: 55%;}
	.stgedit_btn{width:30px;height:30px;background-color:#ddd;position: absolute;top:20px;right:20px;z-index:100;}
	.stgedit_btn:hover	{background-color:#2e77b9;}
	.stgedit_btn:hover a{color:#fff !important;}
	.stgedit_btn span	{padding:7px 9px; line-height:16px; font-size:14px;display:inline-block;}
	.req_addbtn  {top:0px !important;}
	.req_addbtn a {font-size:14px; display:block; padding:5px 5px 8px 9px;}
</style>
<?php $this->bsf = new \BuildsuperfastClass(); ?>
<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1">
    <div class="col-lg-12">
        <div class="row">
            <div class="step_by_liner animated slideInDown"></div>
            <ul class="step_by stepby_mb60">
                <li class="opacity_08">
                    <div  class="step_by_sep  animated slideInRight"><p>15</p></div>
                    <p class="stepli_p3">Service</p>
                </li>
                <li>
                    <div class="step_by_sep stepsep_active animated_1_5s  slideInRight"><p>16</p></div>
                    <p class="stepli_p2">Other Details</p>
                </li>
                <li class="opacity_08">
                    <div class="step_by_sep  animated slideInRight"><p>17</p></div>
                    <p class="stepli_p3">Manufacture</p>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="content_wrapper  padlr0">
    <div class="container-fluid">

        <form method="post" role="form" class="form-horizontal" action="" enctype="multipart/form-data">
            <input type="hidden" name="saveExit" id="saveExit" value="1">
            <input type="hidden" name="vendorId" id="vendorId" value="<?php echo $this->bsf->encode($vendorId); ?>">
            <div class="panel-group commargin_top" id="accordion5" role="tablist" aria-multiselectable="true">
                <div class="panel panel-default">
                    <div class="panel-heading accordion_head accordion_head_crnt" style="cursor:pointer" role="tab" id="heading-10" data-toggle="collapse" data-parent="#accordion5" href="#collapse10" aria-expanded="true" aria-controls="collapse10">
                        <h4>Preferred location</h4>
                    </div>
                    <div id="collapse10" class="panel-collapse collapse in" role="tabpanel" style="overflow: hidden;" aria-labelledby="heading-10">
                        <div class="panel-body">
                            <div class="col-lg-6 col-md-8">
                                <label class="heading_checkbox ">Location List</label>
								<div class="srch">
									<i class="fa fa-search srch_icn"></i>
									<input type="text" name="search" id="searchLocation" placeholder="Search by LocationName" style="color: #0aa89e;"/>
								</div>
                            </div>
                            <div class="col-lg-6 col-md-8">
                                <p class="heading_checkbox">Selected Location</p>
                            </div>

                            <div class="col-lg-6 col-md-8 clear">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;" id="secLoc">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI1 list ui-sortable" data-sortable="true"  id="unCheckedUl_1">
                                            <?php
                                            foreach($locResult as $city){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($city['Sel'] == 1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input type="checkbox" data-id="1" name="customize_<?php echo $city['CityId'];?>" id="customize_<?php echo $city['CityId'];?>" tagname='locId' locId="<?php echo $city['CityId'];?>" sid="<?php echo $city['StateId'];?>" cid="<?php echo $city['CountryId'];?>" value="<?php echo $city['CityId'];?>" <?php echo (($city['Sel'] == 1)?'checked="checked"': '');?>/>
                                                            <span><?php echo $city['CityName'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            ?>
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6 col-md-8">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI1 list ui-sortable" data-sortable="true"  id="checkedUl_1">
                                            <?php
                                            $loc = array();
                                            foreach($locSelResult as $city1){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($city1['Sel'] == 1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input class='cityCheck city' data-id="1" type="checkbox" tagname='locId' locId="<?php echo $city1['CityId'];?>" name="customize_<?php echo $city1['CityId'];?>" id="customize_<?php echo $city1['CityId'];?>" sid="<?php echo $city1['StateId'];?>" cid="<?php echo $city1['CountryId'];?>" value="<?php echo $city1['CityId'];?>" <?php echo (($city1['Sel'] == 1)?'checked="checked"': '');?>>
                                                            <?php
                                                            if($city1['Sel'] == 1){
                                                                array_push($loc, $city1['CityId']);
                                                            }
                                                            ?>
                                                            <span><?php echo $city1['CityName'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            $locArr = implode(",", $loc);
                                            ?>
                                            <input type="hidden" name="hidlocId" id="hidlocId" value="<?php echo $locArr; ?>">
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>
                            <div class="cont_bt col-lg-5 col-lg-offset-7 col-md-9 col-md-offset-3 col-sm-7 col-sm-offset-5 col-xs-7 col-xs-offset-5 top-5">
                                <ul>
                                    <li><a href="javascript:nextAccordian(11)">Continue &nbsp;<i class="fa fa-chevron-circle-right"></i></a></li>
                                </ul>
                            </div>
                        <!--end of scrollbar-->
                    </div>
                    <!--end .card-body -->
                </div>
                </div>
                <!--end .card -->



                <div class="panel panel-default">
                    <div class="panel-heading accordion_head " style="cursor:pointer" role="tab" id="heading-11"  data-toggle="collapse" data-parent="#accordion5" href="#collapse11" aria-expanded="false" aria-controls="collapse11">
                        <h4>Certificate</h4>
                    </div>
                    <div id="collapse11" class="panel-collapse collapse" role="tabpanel" style="height:485px; overflow: hidden;" aria-labelledby="heading-11">
                        <div class="panel-body">
                            <div class="col-lg-6 col-md-8">
                                <p class="heading_checkbox">Certificate List</p>
								<div class="srch">
									<i class="fa fa-search srch_icn" style="left: 161px !important;"></i>
									<input type="text" name="search" id="searchcertificate" placeholder="Search by CertificateName" style="color: #0aa89e;"/>
									<div class="stgedit_btn req_addbtn brad_50">
										<a href="javascript:void(0);" class="ripple-wrapper-ripple" data-toggle="modal" data-target="#adcer" title="Add New Certificate"><i class="fa fa-plus"></i></a>
									</div>
								</div>
								
                            </div>
                            <div class="col-lg-3">
                                <p class="heading_checkbox">Selected Certificate</p>
                            </div>
							<div class="clearfix"></div>
                            <div class="col-lg-6 col-md-8">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;" id="secCer">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI2 list ui-sortable" data-sortable="true"  id="unCheckedUl_2">
                                            <?php
                                            foreach($certResult as $cert){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($cert['Sel'] == 1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input type="checkbox" data-id="2" class="certCheck cert"  tagname='certId' certId="<?php echo $cert['CertificateId'];?>" name="customize1_<?php echo $cert['CertificateId'];?>" id="customize1_<?php echo $cert['CertificateId'];?>" value="<?php echo $cert['CertificateId'];?>" <?php echo (($cert['Sel'] == 1)?'checked="checked"': '');?>>
                                                            <span><?php echo $cert['CerDescription'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            ?>
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-8">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI2 list ui-sortable" data-sortable="true"  id="checkedUl_2">
                                            <?php
                                            $cert1 = array();
                                            foreach($certSelResult as $certificate){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($certificate['Sel'] == 1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input data-id="2" type="checkbox" tagname='certId' certId="<?php echo $certificate['CertificateId'];?>" name="customize1_<?php echo $certificate['CertificateId'];?>" id="customize1_<?php echo $certificate['CertificateId'];?>" class="certCheck cert"  value="<?php echo $certificate['CertificateId'];?>" <?php echo (($certificate['Sel'] == 1)?'checked="checked"': '');?>>
                                                            <?php
                                                            if($certificate['Sel'] == 1)
                                                            {
                                                                array_push($cert1, $certificate['CertificateId']);
                                                            }
                                                            ?>
                                                            <span><?php echo $certificate['CerDescription'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            $certArr = implode(",", $cert1);
                                            ?>
                                            <input type="hidden" name="hidcertId" id="hidcertId" value="<?php echo $certArr; ?>">
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>
							<!--id="addCertificateView"-->
                            <div class="cont_bt col-lg-5 col-lg-offset-7 col-md-9 col-md-offset-3 col-sm-7 col-sm-offset-5 col-xs-7 col-xs-offset-5 top-5">
                                <ul>
                                    <li><a href="javascript:nextAccordian(12)">Continue &nbsp;<i class="fa fa-chevron-circle-right"></i></a></li>
                                </ul>
                            </div>
                            <!--end of scrollbar-->
                        </div>
                        <!--end .card-body -->
                    </div>
                    <!--end .card -->
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading accordion_head " style="cursor:pointer" role="tab" id="heading-12" data-toggle="collapse" data-parent="#accordion5" href="#collapse12" aria-expanded="false" aria-controls="collapse12">
                        <h4>Enclosure</h4>
                    </div>
                    <div id="collapse12" class="panel-collapse collapse" role="tabpanel" style="height:485px; overflow: hidden;" aria-labelledby="heading-12">
                        <div class="panel-body">
                            <div class="col-lg-12 clear">
                                <div class="table-responsive clear">
                                    <table class="table table-hover clear" id="enclosureTable">
                                        <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Location</th>
                                            <th>File name</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <?php
                                        if(count($enclosureResult) > 0){
                                            $i=1;
                                            foreach($enclosureResult as $enData){
                                                ?>
                                                <tr>
                                                    <td width="6%">
                                                        <div class="col-lg-12">
                                                            <span class="date_icon"><i class="fa fa-calendar"></i></span>
                                                            <input class="tbl_input datepickerinput" type="text" name="en_date_<?php echo $i;?>" id="en_date_<?php echo $i;?>" tagname='en_date' value="<?php echo $enData['Date'];?>"/>
                                                        </div>
                                                        <input type='hidden' name="hidenId_<?php echo $i;?>" id="hidenId_<?php echo $i;?>" tagname='hidenId' value="<?php echo $enData['EnclosureId'];?>">
                                                    </td>
                                                    <td width="6%">
                                                        <input class="parent_txts newRowEnclosure" type="text" name="en_name_<?php echo $i;?>"
                                                               id="en_name_<?php echo $i;?>" tagname='en_name' onkeypress="return alphaNumeric(event)"
                                                               value="<?php echo $enData['Name'];?>" />
                                                    </td>
                                                    <td width="6%">
                                                        <input onkeypress="return alphaNumeric(event)" class="parent_txts" type="text"
                                                               name="en_type_<?php echo $i;?>" id="en_type_<?php echo $i;?>" tagname='en_type'
                                                               value="<?php echo $enData['Type'];?>" />
                                                    </td>
                                                    <td width="6%">
												<span class=" parent_txts butclr btn-file">
													<i class="fa fa-folder-open"></i>
													Upload your document
													<input type="file" class="file_doc" name="en_location_<?php echo $i;?>" id="en_location_<?php echo $i;?>" tagname='en_location' value="<?php echo $enData['Location'];?>" />
												</span>
                                                    </td>
                                                    <td width="6%">
                                                        <!--												--><?php
                                                        //												$files12 = glob("VendorDirectory/Enclosure/".$vendorId."/".$enData['EnclosureId']."/".'/*'); // get all file names
                                                        //												foreach($files12 as $file1){ // iterate files
                                                        //												?>
                                                        <!--													<a href="../../../../--><?php //echo $file1;?><!--" class='enLink'>--><?php //echo array_pop(explode("/", $file1));?><!--</a>-->
                                                        <!--												--><?php
                                                        //												}
                                                        //												?>
                                                        <?php $path=$enData['Location'];
                                                        $path1=basename($path);?>
                                                        <input type="text" class="parent_txts"  value="<?php echo $path1;?>"
                                                               id="select_file_<?php echo $i;?>" name="select_file_<?php echo $i;?>" placeholder="Uploaded FileName" readonly/>
                                                    </td>
                                                    <td width="1%">
                                                        <a href="javascript:void(0);" class="vendar_styles removeEnclosure"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a>
                                                    </td>
                                                </tr>
                                                <?php
                                                $i++;
                                            }
                                            ?>
                                            <tr>
                                                <td width="6%">
                                                    <div class="col-lg-12">
                                                        <span class="date_icon"><i class="fa fa-calendar"></i></span>
                                                        <input class="tbl_input datepickerinput" type="text" name="en_date_<?php echo $i;?>" id="en_date_<?php echo $i;?>" tagname='en_date' value="<?php echo Date("d-m-Y"); ?>" />
                                                    </div>
                                                    <input type='hidden' name="hidenId_<?php echo $i;?>" id="hidenId_<?php echo $i;?>" tagname='hidenId' >
                                                </td>
                                                <td width="6%"><input class="parent_txts newRowEnclosure" type="text" name="en_name_<?php echo $i;?>" id="en_name_<?php echo $i;?>" tagname='en_name' onkeypress="return alphaNumeric(event)" /></td>
                                                <td width="6%"><input class="parent_txts" type="text" name="en_type_<?php echo $i;?>" id="en_type_<?php echo $i;?>" tagname='en_type' /></td>
                                                <td width="6%">
												<span class=" parent_txts butclr btn-file">
													<i class="fa fa-folder-open"></i>
													Upload your document
													<input type="file" class="file_doc" name="en_location_<?php echo $i;?>" id="en_location_<?php echo $i;?>" tagname="en_location" />
												</span>
                                                </td>
                                                <td width="6%">
                                                    <input type="text" class="parent_txts"  value=""
                                                           id="select_file_<?php echo $i;?>" name="select_file_<?php echo $i;?>" placeholder="Uploaded FileName" readonly/>
                                                </td>
                                                <td width="1%">
                                                    <a href="javascript:void(0);" class="vendar_styles removeEnclosure"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a>
                                                </td>
                                            </tr>
                                        <?php
                                        }
                                        else{
                                            ?>
                                            <tr>
                                                <td width="6%">
                                                    <div class="col-lg-12">
                                                        <span class="date_icon"><i class="fa fa-calendar"></i></span>
                                                        <input type="text" name="en_date_1" id="en_date_1" tagname='en_date' class="tbl_input datepickerinput" value="<?php echo Date("d-m-Y"); ?>" />
                                                    </div>
                                                    <!--<input class="parent_txts" type="text" name="en_date_1" id="en_date_1" tagname='en_date' />-->
                                                    <input type='hidden' name="hidenId_1" id="hidenId_1" tagname='hidenId' >
                                                </td>
                                                <td width="6%"><input class="parent_txts newRowEnclosure" type="text" name="en_name_1" id="en_name_1" tagname='en_name' onkeypress="return alphaNumeric(event)" /></td>
                                                <td width="6%">
                                                    <input class="parent_txts" type="text" name="en_type_1" id="en_type_1" tagname='en_type' /></td>
                                                <td width="6%">
												<span class=" parent_txts butclr btn-file">
													<i class="fa fa-folder-open"></i>
													Upload your document
													<input type="file" class="file_doc" name="en_location_1" id="en_location_1" tagname='en_location' />
												</span>
                                                </td>
                                                <td width="6%">
                                                    <input type="text" class="parent_txts"  value=""
                                                           id="select_file_1" name="select_file_1"  tagname="select_file" placeholder="Uploaded FileName" readonly/>
                                                </td>
                                                <td width="1%">
                                                    <a href="javascript:void(0);" class="vendar_styles removeEnclosure"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a>
                                                </td>
                                            </tr>
                                        <?php
                                        }
                                        ?>
                                        </tbody>
                                    </table>
                                    <input type="hidden" name="hidEnclosureId" id="hidEnclosureId">
                                </div>
                                <div class="cont_bt col-lg-5 col-lg-offset-7 col-md-9 col-md-offset-3 col-sm-7 col-sm-offset-5 col-xs-7 col-xs-offset-5 top-5">
                                    <ul>
                                        <li><a href="javascript:nextAccordian(13)">Continue &nbsp;<i class="fa fa-chevron-circle-right"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading accordion_head " style="cursor:pointer" role="tab" id="heading-13"  data-toggle="collapse" data-parent="#accordion5" href="#collapse13" aria-expanded="false" aria-controls="collapse13">
                        <h4>Transport</h4>
                    </div>
                    <div id="collapse13" class="panel-collapse collapse" role="tabpanel" style="height:485px; overflow: hidden;" aria-labelledby="heading-13">
                        <div class="panel-body">
                            <div class="col-lg-6 col-md-8">
                                <p class="heading_checkbox">Transport List</p>
                                <div class="srch">
									<i class="fa fa-search srch_icn" style="left:158px !important;"></i>
									<input type="text" name="search" id="searchtransport" placeholder="Search by TransportName" style="color: #0aa89e;"/>
									<div class="stgedit_btn req_addbtn brad_50">
										<a href="javascript:void(0);" class="ripple-wrapper-ripple" data-toggle="modal" data-target="#adtrans" title="Add New Transport"><i class="fa fa-plus"></i></a>
									</div>
								</div>
                            </div>
                            <div class="col-lg-6 col-md-8">
                                <p class="heading_checkbox">Selected Transport</p>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-6 col-md-8">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;" id="sertrans">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI3 list ui-sortable" data-sortable="true"  id="unCheckedUl_3">
                                            <?php
                                            foreach($transResult as $trans){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($trans['Sel'] == 1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input type="checkbox" data-id="3" name="customize2_<?php echo $trans['TransportId'];?>" id="customize2_<?php echo $trans['TransportId'];?>" tagname='transId' class="transCheck trans" transId="<?php echo $trans['TransportId'];?>" value="<?php echo $trans['TransportId'];?>" <?php echo (($trans['Sel'] == 1)?'checked="checked"': '');?>>
                                                            <span><?php echo $trans['TransportName'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            ?>
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6 col-md-8">
                                <div class="card">
                                    <div class="card-body" style="min-height:50px; max-height:310px;">
                                        <!--checkboxtabel-->
                                        <ul class="sampleUI3 list ui-sortable" data-sortable="true"  id="checkedUl_3">
                                            <?php
                                            $trans1 = array();
                                            foreach($transSelResult as $trans2){
                                                ?>
                                                <li class="tile ui-sortable-handle<?php echo (($trans2['Sel']==1)?' check_vendor_background': '');?>">
                                                    <div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray">
                                                        <label>
                                                            <input data-id="3" type="checkbox" tagname='transId' transId="<?php echo $trans2['TransportId'];?>" name="customize2_<?php echo $trans2['TransportId'];?>" id="customize2_<?php echo $trans2['TransportId'];?>" class="transCheck trans" value="<?php echo $trans2['TransportId'];?>" <?php echo (($trans2['Sel'] == 1)?'checked="checked"': '');?>>
                                                            <?php
                                                            if($trans2['Sel'] == 1)
                                                            {
                                                                array_push($trans1, $trans2['TransportId']);
                                                            }
                                                            ?>
                                                            <span><?php echo $trans2['TransportName'];?></span>
                                                        </label>
                                                    </div>
                                                </li>
                                            <?php
                                            }
                                            $transArr = implode(",", $trans1);
                                            ?>
                                            <input type="hidden" name="hidtransId" id="hidtransId" value="<?php echo $transArr; ?>">
                                        </ul>
                                        <!--end of checkboxtabel-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end of scrollbar-->
                    </div>
                    <!--end .card-body -->
                </div>
                <!--end .card -->
            </div>

        </form>
    </div>
</div>
<div class="col-lg-12 savebtn_area">
    <ul>
        <li id="sData" class="save_btn float_r">
            <a href="javascript:void(0);" data-attr="1" class="ripple">Save &amp; Exit </a>
        </li>
        <li id="submitData" class="dropdown save_btn float_r">
            <a href="javascript:void(0);" class="ripple" >Save &amp; Next</a>
        </li>
        <li class="goto">
            <label for="go_to" class="float_l">Go to</label>
            <select id="dropdown" name="dropdown" class="dropdown float_l goto_select" title="Choose Page to go....">
                <option value="-1">Quick Select</option>
                <option value="1">Basic Details</option>
                <option value="2">Contact Details</option>
                <option value="3">Statutory Details</option>
                <option value="4">Bank Details</option>
                <option value="5">Branch Details</option>
                <option value="6">Experience Details</option>
                <option value="7">Vendor Terms</option>
                <option value="8">Assessment</option>
                <option value="9">Vendor Registration</option>
                <option value="10">Resource</option>
                <option value="11">Financial</option>
                <option value="12">Supply</option>
                <option value="13">Work Group</option>
                <option value="14">Service</option>
                <option value="15">Manufacture Details</option>
                <option value="16">Dealer Details</option>
                <option value="17">Distributor Details</option>
                <option value="18">Vehicle Details</option>
                <option value="19">Vendor Renewal</option>
                <option value="20">Vendor Profile</option>
            </select>
        </li>
        <li id="back" class="cancel_btn float_r" ><a href="<?php echo $this->basePath();?>/vendor/index/service/<?php echo $this->bsf->encode($vendorId); ?>" class="ripple">back</a></li>
    </ul>
</div>
<div class="modal fade" id="adcer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button data-dismiss="modal" aria-hidden="true" class="close"><i class="fa fa-times"></i></button>
                <div>
                    <h4 class="modal-title" style="color:#18439d;">Add Certificate</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="col-lg-12">
                    <div class="table-responsive clear">
                        <table class="table table-hover clear" id="certTable">
                            <thead>
                            <tr>
                                <th>Description</th>
                                <th></th>
                            </tr>
                            </thead>
                            <?php
                            $count=0;
                            foreach($certResadd as $cert){
                                $count=$count+1;
                            ?>
                            <tr>
                                <td width="90%">
                                    <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRow deleteFun delFirst" name="desc_<?php echo $count;?>" id="desc_<?php echo $count;?>" tagname="desc" cid="<?php echo $cert['CertificateId'];?>" value="<?php echo $cert['CerDescription'];?>" />
                                    <input type="hidden" name="hidcid_<?php echo $count;?>" id="hidcid_<?php echo $count;?>" tagname="hidcid" value="<?php echo $cert['CertificateId'];?>"/> </td>
                                <td class="del">
                                    <a href="#" class="remove vendar_styles removeC"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                            </tr>
                            <?php  }
                            if($count==0){
                            ?>
                            <tr>
                                <td width="90%">
                                    <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRow deleteFun delFirst" name="desc_1" id="desc_1" tagname="desc" cid="0" />
                                    <input type="hidden" name="hidcid_1" id="hidcid_1" tagname="hidcid" value='0'/> </td>
                                <td class="del" style="display:none;">
                                    <a href="#" class="remove vendar_styles remove"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                            </tr>
                            <?php
                            }
                            else{
                            $count=$count+1;
                            ?>
                            <tr>
                                <td width="90%">
                                    <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRow deleteFun delFirst" name="desc_<?php echo $count;?>" id="desc_<?php echo $count;?>" tagname="desc" cid="<?php echo $cert['CertificateId'];?>" />
                                    <input type="hidden" name="hidcid_<?php echo $count;?>" id="hidcid_<?php echo $count;?>" tagname="hidcid"/> </td>
                                <td class="del" style="display:none;">
                                    <a href="#" class="remove vendar_styles remove"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                            </tr>
                            <?php
                            }
                            ?>
                        </table>
                    </div>
                </div>
            </div>
            <div class= "modal-footer clear">
                <div class="col-lg-12 savebtn_area no_border">
                    <ul>
                        <li class="cancel_btn float_l"><a href="javascript:void(0);" class="vendor_addnew float_l" data-dismiss="modal" onClick="$('#addCertificate').slideUp('slow');">Cancel</a></li>
                        <li class="cancel_btn float_r"><a href="javascript:void(0);" class="vendor_addnew float_r addExternal" id="cert" >Submit</a></li>
                    </ul>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="adtrans" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button data-dismiss="modal" aria-hidden="true" class="close"><i class="fa fa-times"></i></button>
                <div>
                    <h4 class="modal-title" style="color:#18439d;">Add Transport</h4>
                </div>
            </div>
            <div class="modal-body">
                <div class="col-lg-12">
                    <div class="table-responsive clear">
                        <table class="table table-hover clear" id="transTable">
                            <thead>
                            <tr>
                                <th>Description</th>
                                <th></th>
                            </tr>
                            </thead>
                            <?php
                            $count=0;
                            foreach($transResadd as $trans){
                                $count=$count+1;
                                ?>
                                <tr>
                                    <td width="90%">
                                        <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRowtransport deleteFun1 delFirst1" name="transport_name_<?php echo $count;?>" id="transport_name_<?php echo $count;?>" tagname="transport_name" cid="<?php echo $trans['TransportId'];?>" value="<?php echo $trans['TransportName'];?>" />
                                        <input type="hidden" name="hidtid_<?php echo $count;?>" id="hidtid_<?php echo $count;?>" tagname="hidtid" value="<?php echo $trans['TransportId'];?>"/> </td>
                                    <td class="del1">
                                        <a href="#" class="remove vendar_styles remove1"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                                </tr>
                            <?php  }
                            if($count==0){
                                ?>
                                <tr>
                                    <td width="90%">
                                        <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRowtransport deleteFun1 delFirst1" name="transport_name_1" id="transport_name_1" tagname="transport_name" cid="0" />
                                        <input type="hidden" name="hidtid_1" id="hidtid_1" tagname="hidtid" value='0'/> </td>
                                    <td class="del1" style="display: none;">
                                        <a href="#" class="remove vendar_styles remove1"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                                </tr>
                            <?php
                            }
                            else{
                                $count=$count+1;
                                ?>
                                <tr>
                                    <td width="90%">
                                        <input type="text"  onkeypress="return alphaNumeric(event)" class="form-control parent_txts newRowtransport deleteFun1 delFirst1" name="transport_name_<?php echo $count;?>" id="transport_name_<?php echo $count;?>" tagname="transport_name" cid="<?php echo $trans['TransportId'];?>" />
                                        <input type="hidden" name="hidtid_<?php echo $count;?>" id="hidtid_<?php echo $count;?>" tagname="hidtid"/> </td>
                                    <td class="del1" style="display: none;">
                                        <a href="#" class="remove vendar_styles remove1"><span class="glyphicon glyphicon-trash" data-toggle="tooltip" data-placement="top" data-original-title="Delete"></span></a></td>
                                </tr>
                            <?php
                            }
                            ?>
                        </table>
                    </div>
                </div>
            </div>
            <div class= "modal-footer clear">
                <div class="col-lg-12 savebtn_area no_border">
                    <ul>
                        <li class="cancel_btn float_l">
                            <a href="javascript:void(0);" class="vendor_addnew float_l" data-dismiss="modal" onClick="$('#addTransport').slideUp('slow');">Cancel</a>
                        </li>
                        <li class="cancel_btn float_r">
                            <a href="javascript:void(0);" class="vendor_addnew float_r addExternal" id="trans" >Submit</a>
                        </li>
                    </ul>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>

<script>
    $("#dropdown").change(function(){
        if($(this).val() == 1){
            $(location).attr('href',"../basic-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 2){
            $(location).attr('href',"../contact-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 3){
            $(location).attr('href',"../statutory-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 4){
            $(location).attr('href',"../bankfinance-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 5){
            $(location).attr('href',"../branch/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 6){
            $(location).attr('href',"../experience-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 7){
            $(location).attr('href',"../vendor-terms/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 8){
            $(location).attr('href',"../assessment-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 9){
            $(location).attr('href',"../vendor-registration/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 10){
            $(location).attr('href',"../resource/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 11){
            $(location).attr('href',"../financial/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 12){
            $(location).attr('href',"../supply/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 13){
            $(location).attr('href',"../works/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 14){
            $(location).attr('href',"../service/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 15){
            $(location).attr('href',"../manufacture-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 16){
            $(location).attr('href',"../dealer-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 17){
            $(location).attr('href',"../distributor-detail/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 18){
            $(location).attr('href',"../vehicleregister/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 19){
            $(location).attr('href',"../vendor-renewal/<?php echo $this->bsf->encode($vendorId); ?>");
        }
        if($(this).val() == 20){
            $(location).attr('href',"../vendor-profile/<?php echo $vendorId; ?>");
        }
    });

    removeTechtr();
    removeTranstr();

    $(document).on('change','.sampleUI1 input:checkbox', function (){
        var current = $(this).closest('li');
        if (current.find("input:checkbox").is(':checked')) {
            var prependToDiv = $('#checkedUl_1');
            current.animate({
                top: -30,
                left: prependToDiv.offset().left
            }, 200, function () {
                current.prependTo(prependToDiv).css({
                    top: 'auto',
                    left: 'auto'
                });
            });
        }
        else{
            var prependToDiv = $('#unCheckedUl_1');
            current.animate({
                top: -30,
                left: -prependToDiv.offset().left

            }, 200, function() {
                current.prependTo(prependToDiv).css({
                    top: 'auto',
                    left: 'auto'
                });
            });
        }
    });

    $(document).on('change','.sampleUI2 input:checkbox', function (){
            var current = $(this).closest('li');
            if (current.find("input:checkbox").is(':checked')) {
                var prependToDiv = $('#checkedUl_2');
                current.animate({
                    top: -30,
                    left: prependToDiv.offset().left
                }, 200, function () {
                    current.prependTo(prependToDiv).css({
                        top: 'auto',
                        left: 'auto'
                    });
                });
            }
            else {
                var prependToDiv = $('#unCheckedUl_2');
                current.animate({
                    top: -30,
                    left: -prependToDiv.offset().left

                }, 200, function() {
                    current.prependTo(prependToDiv).css({
                        top: 'auto',
                        left: 'auto'
                    });
                });
            }
    });

    $(document).on('change','.sampleUI3 input:checkbox', function (){
            var current = $(this).closest('li');
            if (current.find("input:checkbox").is(':checked')) {
                var prependToDiv = $('#checkedUl_3');
                current.animate({
                    top: -30,
                    left: prependToDiv.offset().left
                }, 200, function () {
                    current.prependTo(prependToDiv).css({
                        top: 'auto',
                        left: 'auto'
                    });
                });
            }
            else {
                var prependToDiv = $('#unCheckedUl_3');
                current.animate({
                    top: -30,
                    left: -prependToDiv.offset().left

                }, 200, function () {
                    current.prependTo(prependToDiv).css({
                        top: 'auto',
                        left: 'auto'
                    });
                });
            }
        });

    $(document).on('change','.file_doc',function() {
        var filename = $(this).val();
        var i=$(this).attr('id').split('_');
        $('#select_file_' + i[2]).val(filename);
    });

    $('.panel-heading').click(function(){
        $('.panel-heading').removeClass('accordion_head_crnt');
        if($(this).next('div.in'))
            $(this).addClass('accordion_head_crnt');
        else
            $(this).removeClass('accordion_head_crnt')
    });
    // checkClick();
    var locId = <?php echo json_encode($loc); ?>;
    var certId = <?php echo json_encode($cert1); ?>;
    var transId = <?php echo json_encode($trans1); ?>;


    datePickerEnable();
    function datePickerEnable(){
        $(".datepickerinput").unbind();
        $('.date_icon').unbind();
        $(".datepickerinput").datepicker({
            format: "dd-mm-yyyy",
            startDate: new Date(),
            todayBtn: true,
            orientation: "top auto",
            autoclose: true
        }).on("changeDate", function(e){

        });
        $('.date_icon').bind('click', function() {
            var input = $(this).parent().find('input').datepicker('show');
        });
    }
    //
    function checkClick(){
        $("input:checkbox").unbind("click");
        $("input:checkbox").bind("click", function(){
            var cls = $(this).attr("class").split(" ")[0];
            if($(this).is(":checked")){
                if(cls == 'cityCheck')
                    locId.push($(this).val());
                else if(cls == 'certCheck')
                    certId.push($(this).val());
                else if(cls == 'transCheck')
                    transId.push($(this).val());
            }
            else{
                if(cls == 'cityCheck')
                    locId.splice($.inArray($(this).val(), locId),1);
                else if(cls == 'certCheck')
                    certId.splice($.inArray($(this).val(), certId),1);
                else if(cls == 'transCheck')
                    transId.splice($.inArray($(this).val(), transId),1);
            }
        });
        window.location.reload(1000);
    }

    $(".addExternal").click(function(){
        var id = $(this).attr("id");
        if(id == "newCity"){
            var cityname = $("#city").val();
            if(cityname == ''){
                alert("Please Enter CityName");
                return false;
            }
            else {
                var formData = $("#addCity").find("input:text, select, input:hidden").serializeArray();
                formData.push({name: "mode", value: "city"});
            }
        }
        else if(id == "cert"){
            var formData = $("#certTable").find("input:text, select, input:hidden").serializeArray();
            formData.push({name: "mode", value: "insertCertificate" });
            formData.push({name: "len", value: $("#certTable tbody tr").length });
        }
        else if(id == "trans"){
            var formData = $("#transTable").find("input:text, select, input:hidden").serializeArray();
            formData.push({name: "mode", value: "insertTransport" });
            formData.push({name: "len", value: $("#transTable tbody tr").length });
        }

        $.ajax({
            url:getBaseURL()+"vendor/index/others",
            type:"post",
            data:formData,
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                //alert(JSON.stringify(data['data']));
                if(id == "newCity"){
                    /*$("#cityAppend").append("<div class='col-lg-3' >"+
                     "<div class='form-group' style='border:1px solid black; padding:10px;'>"+
                     "<div class='checkbox'>"+
                     "<label>"+
                     "<input type='checkbox' name='customize' id='customize' value='"+data['data']+"' sid='"+formData[1].value+"' cid='"+formData[2].value+"'>"+formData[0].value+"</input>"+
                     "</label>"+
                     "</div>"+
                     "</div>"+
                     "</div>");*/

                    $("#cityAppend").append("<li class=''>"+
                    "<div class='rdochck_subscrb radio_check'>"+
                    "<p style='padding:0px !important;'>"+
                    "<input class='cityCheck city' type='checkbox' name='customize_"+data['data']+"' id='customize_"+data['data']+"' sid='"+formData[1].value+"' cid='"+formData[2].value+"' value='"+data['data']+"' />"+
                    "<label for='customize_"+data['data']+"' class='ripple'>"+formData[0].value+"</label>"+
                    "</p>"+
                    "</div>"+
                    "</li>");


                    $("#addCity").find("input:text").val('');
                    $("#addCity").find("select").val('0');
                    $("#addCity").find("#country").val('0');
                    checkClick();
                }
                else if(id == "cert"){
                    $("#addCertificate").slideUp("slow");
                    getCertificate();
                }
                else if(id == "trans"){
                    $("#addTransport").slideUp("slow");
                    getTransport();
                }
            },
            error:function(jqXHR, textStatus, errorThrown){
                alert(textStatus+"--------------"+errorThrown);
            }
        });
    });
    function getCertificate(){
        $.ajax({
            url:getBaseURL()+"vendor/index/others",
            type:"post",
            data:"mode=getCertificate&vid="+$("#vendorId").val(),
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                //alert(JSON.stringify(data));
                $("#certificateAppend").html("");
                $.each(data['data'], function(i,v){
                    /*$("#certificateAppend").append("<div class='col-lg-3'>"+
                     "<div class='form-group' style='border:1px solid black; padding:10px;'>"+
                     "<div class='checkbox'>"+
                     "<label>"+
                     "<input class='certCheck cert"+v.CertificateId+"' type='checkbox' name='customize' id='customize' value='"+v.CertificateId+"'>"+v.CerDescription+"</input>"+
                     "</label>"+
                     "</div>"+
                     "</div>"+
                     "</div>");*/

                    $("#certificateAppend").append("<li class=''>"+
                    "<div class='rdochck_subscrb radio_check'>"+
                    "<p style='padding:0px !important;'>"+
                    "<input type='checkbox' class='certCheck cert"+v.CertificateId+"'  name='customize1_"+v.CertificateId+"' id='customize1_"+v.CertificateId+"' value='"+v.CertificateId+"'/>"+
                    "<label for='customize1_"+v.CertificateId+"' class='ripple'>"+v.CerDescription+"</label>"+
                    "</p>"+
                    "</div>"+
                    "</li>");

                });
                for(var i=0; i<certId.length; i++){
                    $(".cert"+certId[i]).prop("checked", true);
                }
                checkClick();
            },
            error:function(jqXHR, textStatus, errorThrown){
                alert(textStatus+"--------------"+errorThrown);
            }
        });
    }

    function getTransport(){
        $.ajax({
            url:getBaseURL()+"vendor/index/others",
            type:"post",
            data:"mode=getTransport&vid="+$("#vendorId").val(),
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                //alert(JSON.stringify(data));
                $("#transAppend").html("");
                $.each(data['data'], function(i,v){
                    /*$("#transAppend").append("<div class='col-lg-3'>"+
                     "<div class='form-group' style='border:1px solid black; padding:10px;'>"+
                     "<div class='checkbox'>"+
                     "<label>"+
                     "<input class='transCheck trans"+v.TransportId+"' type='checkbox' name='customize' id='customize' value='"+v.TransportId+"'>"+v.TransportName+"</input>"+
                     "</label>"+
                     "</div>"+
                     "</div>"+
                     "</div>");*/

                    $("#transAppend").append("<li class=''>"+
                    "<div class='rdochck_subscrb radio_check'>"+
                    "<p style='padding:0px !important;'>"+
                    "<input type='checkbox' class='transCheck trans"+v.TransportId+"'  name='customize2_"+v.TransportId+"' id='customize2_"+v.TransportId+"' value='"+v.TransportId+"'/>"+
                    "<label for='customize2_"+v.TransportId+"' class='ripple'>"+v.TransportName+"</label>"+
                    "</p>"+
                    "</div>"+
                    "</li>");
                });
                for(var i=0; i<transId.length; i++){
                    $(".trans"+transId[i]).prop("checked", true);
                }
                checkClick();
            },
            error:function(jqXHR, textStatus, errorThrown){
                alert(textStatus+"--------------"+errorThrown);
            }
        });
    }

    removeTechtr();
    $("#addCert").click(function(){
        var table = $("#certTable tbody");
        table.append("<tr cid='0'>"+table.find("tr:first").html()+"</tr>");
        table.find("tr:last td:last").append("<input type='button' class='btn btn-primary removeCert' value='Remove'>");
        var len = table.find("tr").length;
        table.find("tr").each(function(){
            var index=$(this).index() + 1;
            $(this).find("select, input:text, input:hidden").each(function(){
                $(this).attr("name", $(this).attr("tagname")+'_'+index);
                $(this).attr("id", $(this).attr("tagname")+'_'+index);
                if(len == index)
                    $(this).val('');
            });
        });
        removeTechtr();
    });

    removeEnclosetr();
    $("#addTrans").click(function(){
        var table = $("#transTable tbody");
        table.append("<tr cid='0'>"+table.find("tr:first").html()+"</tr>");
        table.find("tr:last td:last").append("<input type='button' class='btn btn-primary removeTrans' value='Remove'>");
        var len = table.find("tr").length;
        table.find("tr").each(function(){
            var index=$(this).index() + 1;
            $(this).find("select, input:text, input:hidden").each(function(){
                $(this).attr("name", $(this).attr("tagname")+'_'+index);
                $(this).attr("id", $(this).attr("tagname")+'_'+index);
                if(len == index)
                    $(this).val('');
            });
        });
        removeTranstr();
    });

    /*Enclosure function*/
    function removeEnclosetr(){
        $(".removeEnclosure").unbind("click");
        $(".removeEnclosure").bind("click", function(){
            var table = $(this).closest("table");
            var tr = $(this).closest("tr");
            var len = table.find("tbody:first tr").length;
            var tid = $(this).closest("tr").attr("tid");
            if(len > 1){
                tr.remove();
                table.find("tbody tr").each(function(){
                    var index=$(this).index() + 1;
                    $(this).find("select, input:text, input:hidden, input:file").each(function(){
                        $(this).attr("name", $(this).attr("tagname")+'_'+index);
                        $(this).attr("id", $(this).attr("tagname")+'_'+index);
                    });
                });
            }
        });
    }
    $("#addEnclosure").click(function(){
        var table = $("#enclosureTable tbody");
        table.append("<tr cid='0'>"+table.find("tr:first").html()+"</tr>");
        table.find("tr:last td:last").append("<input type='button' class='btn btn-primary removeEnclosure' value='Remove'>");
        var len = table.find("tr").length;
        table.find("tr").each(function(){
            var index=$(this).index() + 1;
            $(this).find("select, input:text, input:hidden, input:file, a").each(function(){
                $(this).attr("name", $(this).attr("tagname")+'_'+index);
                $(this).attr("id", $(this).attr("tagname")+'_'+index);
                if(len == index){
                    $(this).val('');
                    if($(this).prop("tagName") == 'A'){
                        $(this).text('');
                    }
                }
            });
        });
        removeEnclosetr();
    });


    $("input:checkbox").click(function(){
        var Lid = $(this).attr("locId");
        var Cid = $(this).attr("certId");
        var Tid = $(this).attr("transId");
        if($(this).is(":checked")){
            if($(this).attr("tagname") == 'locId'){
                locId.push(Lid);
                $(this).closest("li").addClass('check_vendor_background');
            }
            else if($(this).attr("tagname") == 'certId'){
                certId.push(Cid);
                $(this).closest("li").addClass('check_vendor_background');
            }
            else if($(this).attr("tagname") == 'transId'){
                transId.push(Tid);
                $(this).closest("li").addClass('check_vendor_background');
            }
        }
        else{
            //cid.splice($.inArray($(this).attr("resurceid"), resourceId),1)
            if($(this).attr("tagname") == 'locId'){
                locId.splice($.inArray(id, locId), 1);
                $(this).closest("li").removeClass('check_vendor_background');
            }
            else if($(this).attr("tagname") == 'certId'){
                certId.splice($.inArray(id, certId), 1);
                $(this).closest("li").removeClass('check_vendor_background');
            }
            else if($(this).attr("tagname") == 'transId'){
                transId.splice($.inArray(id, transId), 1);
                $(this).closest("li").removeClass('check_vendor_background');
            }
        }
    });


    function removeTranstr(){
        $('.remove1').click(function(){
            if (!confirm('Do you want to Delete'))
                return false;
            if($(this).closest('tr').parent().find('tr').length != 1){
                $(this).closest('tr').remove();
                $('#transTable tbody tr').each(function(){
                    var index=$(this).index() + 1;
                    $(this).find('select, input:text').each(function(){
                        $(this).attr('name', $(this).attr('tagname')+'_'+index);
                        $(this).attr('id', $(this).attr('tagname')+'_'+index);
                    })

                });
            } else {
                $('.delFirst1').val('');
            }
        });
    }

   addRowTransport();
    function addRowTransport(){
        $( ".newRowtransport" ).unbind();
        $( ".newRowtransport" ).bind('keyup', function() {
            //alert($(this).closest("tr").index()+"------------"+$("#contactTable tbody tr:last").index())
            if($(this).val().length>0 && $(this).closest("tr").index() == $("#transTable tbody tr:last").index()){
                $("#transTable tbody").append("<tr>"+$("#transTable tbody tr:first").html()+"</tr>");
                $("#transTable tbody tr").each(function(){
                    var index=$(this).index() + 1;
                    var lastIndex=$("#transTable tbody tr:last").index() + 1;
                    $(this).find("select, input:text").each(function(){
                        if(index==lastIndex){
                            if($(this).prop("tagName").toLowerCase() == 'input')
                                $(this).val("");
                            else
                                $(this).val("1");
                        }
                        $(this).attr("name", $(this).attr("tagname")+'_'+index);
                        $(this).attr("id", $(this).attr("tagname")+'_'+index);
                        $("#transTable tbody tr:last").find('.del1').hide();
                    })
                });
                removeTranstr();
                addRowTransport();
            }
        });
    }

    addRowEnclosure();
    function addRowEnclosure(){
        $( ".newRowEnclosure" ).unbind();
        $( ".newRowEnclosure" ).bind('keyup', function() {
            //alert($(this).closest("tr").index()+"------------"+$("#contactTable tbody tr:last").index())
            if($(this).val().length>0 && $(this).closest("tr").index() == $("#enclosureTable tbody tr:last").index()){
                $("#enclosureTable tbody").append("<tr>"+$("#enclosureTable tbody tr:first").html()+"</tr>");
                $("#enclosureTable tbody tr").each(function(){
                    var index=$(this).index() + 1;
                    var lastIndex=$("#enclosureTable tbody tr:last").index() + 1;
                    $(this).find("select, input:text,.file_doc").each(function(){
                        if(index==lastIndex){
                            if($(this).prop("tagName").toLowerCase() == 'input'){
                                $(this).val("");
                                if($(this).hasClass('datepickerinput'))
                                    $(this).val('<?php echo Date("d-m-Y"); ?>');
                            }
                            else
                                $(this).val("1");
                        }
                        $(this).attr("name", $(this).attr("tagname")+'_'+index);
                        $(this).attr("id", $(this).attr("tagname")+'_'+index);
                    })
                });
                datePickerEnable();
                removeEnclosetr();
                addRowEnclosure();
            }
        });
    }
    $("#submitData").click(function(){
        $("#hidlocId").val(locId);
        $("#hidcertId").val(certId);
        $("#hidtransId").val(transId);
        $("#hidEnclosureId").val($("#enclosureTable tbody tr").length);
        $("form").submit();
    });

    $("#sData").click(function(){
        $("#hidlocId").val(locId);
        $("#hidcertId").val(certId);
        $("#hidtransId").val(transId);
        $("#hidEnclosureId").val($("#enclosureTable tbody tr").length);
        var sum=2;
        $("#saveExit").val(sum);
        $("form").submit();
    });

    function nextAccordian(id) {
        $('#heading-' + id).trigger('click');
    }

    function removeTechtr(){
        $('.remove').click(function(){
            if (!confirm('Do you want to Delete'))
                return false;
            if($(this).closest('tr').parent().find('tr').length != 1){
                $(this).closest('tr').remove();
                $('#certTable tbody tr').each(function(){
                    var index=$(this).index() + 1;
                    $(this).find('select, input:text').each(function(){
                        $(this).attr('name', $(this).attr('tagname')+'_'+index);
                        $(this).attr('id', $(this).attr('tagname')+'_'+index);
                    })

                });
            } else {
                $('.delFirst').val('');
            }
        });
    }

    addRow();
    function addRow(){
        $( ".newRow" ).unbind();
        $( ".newRow" ).bind('keyup', function() {
            //alert($(this).closest("tr").index()+"------------"+$("#contactTable tbody tr:last").index())
            if($(this).val().length>0 && $(this).closest("tr").index() == $("#certTable tbody tr:last").index()){
                $("#certTable tbody").append("<tr>"+$("#certTable tbody tr:first").html()+"</tr>");
                $("#certTable tbody tr").each(function(){
                    var index=$(this).index() + 1;
                    var lastIndex=$("#certTable tbody tr:last").index() + 1;
                    $(this).find("select, input:text").each(function(){
                        if(index==lastIndex){
                            if($(this).prop("tagName").toLowerCase() == 'input')
                                $(this).val("");
                            else
                                $(this).val("1");
                        }
                        $(this).attr("name", $(this).attr("tagname")+'_'+index);
                        $(this).attr("id", $(this).attr("tagname")+'_'+index);
                        $("#certTable tbody tr:last").find('.del').hide();
                    })
                });
                removeTechtr();
                addRow();
            }
        });
    }


    var locationResult=<?php echo (isset($locResult)) ? json_encode($locResult) : '[]';?>;
    var emp;
    emp = locationResult;
    $("#searchLocation").on('keyup', function () {
        var at = '';
        var cityName = $.trim($(this).val());
        if(cityName.length != 0 && locationResult.length != 0) {
            var filtered_data = $.grep(locationResult, function (o) {
                return new RegExp('^.*'+cityName+'.*$','gi').test(o.CityName);
            });
            $('#secLoc').html('');
            $.each(filtered_data, function(i,v){
                 at += '<ul class="sampleUI1 list ui-sortable" data-sortable="true"  id="unCheckedUl_1">' +
                 '<li class="tile ui-sortable-handle_'+ v.Sel + '"> ' +
                    '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                    '<label> ' +
                    '<input type="checkbox" data-id="1" name="customize_' + v.CityId + '" id="customize_' + v.CityId + '"  tagname= "locId"  locId="' + v.CityId + '" sid="' + v.StateId + '" cid="' + v.CountryId + '" value="' + v.CityId + '" '+((v.Sel == 1)? "checked": "")+' /> ' +
                    '<span> '+v.CityName+' </span> ' +
                    '</label> ' +
                    '</div> ' +
                    '</li> '  +
                    '</ul>';
            });
           $('#secLoc').html(at);
        }
        else if(cityName.length == 0 || cityName==''){
            var lastname ='';
            $.each(emp, function(i,b){
                lastname += '<ul class="sampleUI1 list ui-sortable" data-sortable="true"  id="unCheckedUl_1">' +
                '<li class="tile ui-sortable-handle_'+ b.Sel + '"> ' +
                '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                '<label> ' +
                '<input type="checkbox" data-id="1" name="customize_' + b.CityId + '" id="customize_' + b.CityId + '"  tagname= "locId"  locId="' + b.CityId + '" sid="' + b.StateId + '" cid="' + b.CountryId + '" value="' + b.CityId + '" '+((b.Sel == 1)? "checked": "")+' /> ' +
                '<span> '+b.CityName+' </span> ' +
                '</label> ' +
                '</div> ' +
                '</li> '  +
                '</ul>';
            });
            $('#secLoc').html(lastname);
        }
    });

    var CertificateResult=<?php echo (isset($certResult)) ? json_encode($certResult) : '[]';?>;
    var cetname;
    cetname= CertificateResult;
    $("#searchcertificate").on('keyup', function () {
        var ct = '';
        var certificate = $.trim($(this).val());
        if(certificate.length != 0 && CertificateResult.length != 0) {
            var filtered_data = $.grep(CertificateResult, function (o) {
                return new RegExp('^.*'+certificate+'.*$','gi').test(o.CerDescription);
            });
            $('#secCer').html('');
            $.each(filtered_data, function(i,c){
                ct += '<ul class="sampleUI2 list ui-sortable" data-sortable="true"  id="unCheckedUl_2">' +
                '<li class="tile ui-sortable-handle_'+ c.Sel + '"> ' +
                '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                '<label> ' +
                '<input type="checkbox" data-id="2" name="customize1_' + c.CertificateId + '" id="customize1_' + c.CertificateId + '"  tagname= "certId"  certId="' + c.CertificateId + ' value="' + c.CertificateId + '" '+((c.Sel == 1)? "checked": "")+' /> ' +
                '<span> '+c.CerDescription+' </span> ' +
                '</label> ' +
                '</div> ' +
                '</li> '  +
                '</ul>';
            });
            $('#secCer').html(ct);
        }
        else if(certificate.length=='' || certificate == 0){
            var certname ='';
            $.each(cetname, function(i,r){
                certname += '<ul class="sampleUI2 list ui-sortable" data-sortable="true"  id="unCheckedUl_2">' +
                '<li class="tile ui-sortable-handle_'+ r.Sel + '"> ' +
                '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                '<label> ' +
                '<input type="checkbox" data-id="2" name="customize1_' + r.CertificateId + '" id="customize1_' + r.CertificateId + '"  tagname= "certId"  certId="' + r.CertificateId + ' value="' + r.CertificateId + '" '+((r.Sel == 1)? "checked": "")+' /> ' +
                '<span> '+r.CerDescription+' </span> ' +
                '</label> ' +
                '</div> ' +
                '</li> '  +
                '</ul>';
            });
            $('#secCer').html(certname);
        }
    });

    var TransportResult=<?php echo (isset($transResult)) ? json_encode($transResult) : '[]';?>;
    var transname;
    transname = TransportResult;
    $("#searchtransport").on('keyup', function () {
        var tn = '';
        var transport = $.trim($(this).val());
        if(transport.length != 0 && TransportResult.length != 0) {
            var filtered_data = $.grep(TransportResult, function (o) {
                return new RegExp('^.*'+transport+'.*$','gi').test(o.TransportName);
            });
            $('#sertrans').html('');
            $.each(filtered_data, function(i,t){
                tn += '<ul class="sampleUI3 list ui-sortable" data-sortable="true"  id="unCheckedUl_3">' +
                '<li class="tile ui-sortable-handle_'+ t.Sel + '"> ' +
                '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                '<label> ' +
                '<input type="checkbox" data-id="3" name="customize2_' + t.TransportId + '" id="customize2_' + t.TransportId + '"  tagname= "transId"  transId="' + t.TransportId + ' value="' + t.TransportId + '" '+((t.Sel == 1)? "checked": "")+' /> ' +
                '<span> '+t.TransportName+' </span> ' +
                '</label> ' +
                '</div> ' +
                '</li> '  +
                '</ul>';
            });
            $('#sertrans').html(tn);
        }
        else if(transport.length==0 || transport==''){
            var transportname='';
            $.each(transname, function(i,n){
                transportname += '<ul class="sampleUI3 list ui-sortable" data-sortable="true"  id="unCheckedUl_3">' +
                '<li class="tile ui-sortable-handle_'+ n.Sel + '"> ' +
                '<div class="checkbox checkbox-styled tile-text vendor_checkboxborder_gray"> ' +
                '<label> ' +
                '<input type="checkbox" data-id="3" name="customize2_' + n.TransportId + '" id="customize2_' + n.TransportId + '"  tagname= "transId"  transId="' + n.TransportId + ' value="' + n.TransportId + '" '+((n.Sel == 1)? "checked": "")+' /> ' +
                '<span> '+n.TransportName+' </span> ' +
                '</label> ' +
                '</div> ' +
                '</li> '  +
                '</ul>';
            });
            $('#sertrans').html(transportname);
        }
    });

    $(document).on('change','.deleteFun',function(){
        if($(this).val() != ''){
            $(this).parent().parent().find('.del').show();
        } else {
            $(this).parent().parent().find('.del').hide();
        }
    });

    $(document).on('change','.deleteFun1',function(){
        if($(this).val() != ''){
            $(this).parent().parent().find('.del1').show();
        } else {
            $(this).parent().parent().find('.del1').hide();
        }
    });
</script>
