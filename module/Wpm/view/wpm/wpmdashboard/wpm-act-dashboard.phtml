<!--STYLE-->
<?php /*?><link rel="stylesheet" href="<?php echo $this->basePath() . '/css/project.css';?>"/><?php */?>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-chart.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-lightchart.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-serialchart.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-piechart.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-radarchart.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath(); ?>/library/amcharts/landbank-xychart.js"></script>
<link rel="stylesheet" href="<?php echo $this->basePath() . '/css/wpm.css';?>"/>
<style>
    .top_ct                  {background:#fff;padding:5px 0;margin:0;box-shadow: 0px 1px 0 0 rgba(50, 50, 50, 0.23) !important;}
    .table-responsive        {box-shadow: 0px 1px 0 0 rgba(50, 50, 50, 0.23) !important;}
    #chartdiv,#chartdiv1, #chartdiv2, #chartdiv3, #chartdiv4 {width : 100%;height : 435px !important;font-size : 11px;}
    .panel1:hover::before, .panel1:focus::before, .panel1:active::before {left: 0;right: 0;}
    .panel1::before          {background: #2098d1 none repeat scroll 0 0;content: "";height: 2px;left: 50%;position: absolute;right: 50%;top: 0;transition-duration: 0.3s;transition-property: left, right;transition-timing-function: ease-out;z-index: -1;}
    .panel1                  {backface-visibility: hidden;display: inline-block;overflow: hidden;position: relative;transform: translateZ(0px);vertical-align: middle;}
    .panel                   {background-color: #fff;border: 1px solid #e8e8e8;border-radius: 4px;box-shadow: 0px 1px 0 0 rgba(50, 50, 50, 0.23) !important;margin:20px 0 0px 0;padding:8px 12px;width:100%;}
    .panel-primary > .panel-heading {color: #fff;}
    .count-hd                 {font-size:20px;color:#000;}
    .text-right               {font-size:15px;position:relative;color:#666;font-family: "Open Sans", sans-serif;}
    .panel-heading            {font-size:17px; color:#000; line-height: 38px;background:#FFF5E8;border:1px solid #E8E5E3;padding:0}
    .fa-5x i                  {font-size:28px;margin:12px 0 0 12px;color:#fff;transition: all 0.3s;-moz-transition: all 0.3s;-webkit-transition: all 0.3s; position: absolute;}
    .panel ul.text-right li   {display:block;text-align:right;text-overflow: ellipsis; overflow:hidden !important;white-space: nowrap;}
    .fa-5x {background:#3399ff;border-radius: 50%;font-size: 4em; height: 50px; position: absolute;width: 50px;overflow:hidden; z-index:5}
    .panel:hover .fa-5x i     {transform:scale(1.6);}
    .date_picker{line-height: 30px;font-size:16px;color:#3f51b5;width:100%;padding-left:4px;border:1px solid #C5C5C7}
    .date_icon, .time_icon{right:13px; }
	h5.select-title{line-height:38px;}
	.loader {
  position: relative;
  width: 15px;float:left;margin:4px 5px;
  height:23px;
}
.loader__bar {
  position: absolute;
  bottom: 0;
  width:3px;
  height: 50%;
  background: #fff;
  -webkit-transform-origin: center bottom;
          transform-origin: center bottom;
}
.loader__bar:nth-child(1) {
  left: 0px;background:#14A8A8;
  -webkit-animation: movingbar1 1s infinite;
          animation: movingbar1 1s infinite;
}
.loader__bar:nth-child(2) {
  left: 5px;background:#F20C6C;
  -webkit-animation: movingbar2 3s infinite;
          animation: movingbar2 3s infinite;
}
.loader__bar:nth-child(3) {
  left:10px;background:#3399ff;
  -webkit-animation: movingbar3 2s infinite;
          animation: movingbar3 2s infinite;
}
.loader__bar:nth-child(4) {
  left:15px;background:#F2680C;
  -webkit-animation: movingbar4 2s infinite;
          animation: movingbar4 2s infinite;
}

@-webkit-keyframes movingbar1 {
0% {
height:32%;
}
25% {
height:80%;
}
50% {
height:56%;
}
75% {
height:100%;
}
100% {
height:84%;
}
}
@-moz-keyframes movingbar1 {
0% {
height:32%;
}
25% {
height:80%;
}
50% {
height:56%;
}
75% {
height:100%;
}
100% {
height:84%;
}
}
@keyframes movingbar1 {
0% {
height:32%;
}
25% {
height:80%;
}
50% {
height:56%;
}
75% {
height:100%;
}
100% {
height:84%;
}
}
@-webkit-keyframes movingbar2 {
0% {
height:20%;
}
25% {
height:58%;
}
50% {
height:90%;
}
75% {
height:74%;
}
100% {
height:53%;
}
}
@-moz-keyframes movingbar2 {
0% {
height:20%;
}
25% {
height:58%;
}
50% {
height:90%;
}
75% {
height:74%;
}
100% {
height:53%;
}
}
@keyframes movingbar2 {
0% {
height:20%;
}
25% {
height:58%;
}
50% {
height:90%;
}
75% {
height:74%;
}
100% {
height:53%;
}
}
@-webkit-keyframes movingbar3 {
0% {
height:34%;
}
25% {
height:69%;
}
50% {
height:100%;
}
75% {
height:82%;
}
100% {
height:41%;
}
}
@-moz-keyframes movingbar3 {
0% {
height:34%;
}
25% {
height:69%;
}
50% {
height:100%;
}
75% {
height:82%;
}
100% {
height:41%;
}
}
@keyframes movingbar3 {
0% {
height:34%;
}
25% {
height:69%;
}
50% {
height:100%;
}
75% {
height:82%;
}
100% {
height:41%;
}
}
@-webkit-keyframes movingbar4 {
0% {
height:80%;
}
25% {
height:49%;
}
50% {
height:59%;
}
75% {
height:82%;
}
100% {
height:65%;
}
}
@-moz-keyframes movingbar4 {
0% {
height:80%;
}
25% {
height:49%;
}
50% {
height:59%;
}
75% {
height:82%;
}
100% {
height:65%;
}
}
@keyframes movingbar4 {
0% {
height:80%;
}
25% {
height:49%;
}
50% {
height:59%;
}
75% {
height:82%;
}
100% {
height:65%;
}
}

</style>
<!--content-->
<div class="content_wrapper padlr0">
    <div class="container-fluid padlr0">
        <div class="col-lg-12">
            <div class="col-lg-12">
                <h1 class="col-lg-2 col-md-2 col-sm-4 col-xs-12">Dashboard</h1>
                <div class="col-lg-5 col-md-5 col-sm-8 col-xs-12" style="padding-left:0px !important;">
                </div>

                <!--Short by-->
                <div class="col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-6 col-sm-offset-6 col-xs-12" style=" padding-right:0px !important;">
                    <label class="col-lg-4 col-md-4 col-sm-5 control-label text-right">Select by</label>
                    <div class="col-lg-8 col-md-8 col-sm-7" style="padding-right:0px !important;">
                        <select name="projectId" id="projectId" class="form-control selectpicker show-tick" onchange="return ChangeProject()" data-size="6" title="Select Project...">
                            <option value="0">All</option>
                            <?php if(isset($projectlists)):?>
                                <?php foreach ( $projectlists as $project ):?>
                                    <option value="<?php echo $project['ProjectId'];?>"<?php echo ($project['ProjectId'] == $projectId) ? 'selected' : '';?>><?php echo $project[ 'ProjectName' ];?></option>
                                <?php endforeach; ?>
                            <?php  endif; ?>
                        </select>
                    </div>
                </div>
                <!--Short by end-->
            </div>
            <div class="clearfix"></div>
            <div class="col-lg-12  col-md-12 form-group">
                <!--three feild start-->
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #9E7579">
                        <li class="fa-5x" style="background:#9E7579">
                            <i  class="fa fa-gavel"></i>
                        </li>
                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($orderValues['Amount'],2,true); ?></li>
                            <li>Order Value</li>
                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #999C6B">
                        <li class="fa-5x" style="background:#999C6B"><i class="fa fa-comments"></i>
                        </li>

                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($BillValues['Amount'],2,true); ?></li>
                            <li>Bill Value</li>

                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #6C90AD">
                        <li class="fa-5x" style="background:#6C90AD"><i class="fa fa-check-square-o"></i>
                        </li>

                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($BillValues['PaidAmount'],2,true); ?></li>
                            <li>Paid Amount</li>

                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #796CAD">
                        <li class="fa-5x" style="background:#796CAD"><i class="fa fa-history"></i>
                        </li>

                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($BillValues['PayableAmount'],2,true); ?></li>
                            <li>Payable Amount</li>
                        </ul>
                    </ul>
                </div>

                <!--box start-->


                <!--three feild start-->
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #6B9C71">
                        <li class="fa-5x" style="background:#6B9C71"><i class="fa fa-puzzle-piece"></i>
                        </li>

                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($advPaid['Amount'],2,true); ?></li>
                            <li>Advance Paid</li>

                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #6B729C">
                        <li class="fa-5x" style="background:#6B729C"><i class="fa fa-database"></i>
                        </li>

                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($advDeduct['RecoveryAmount'],2,true); ?></li>
                            <li>Advance Deducted</li>

                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #A68867">
                        <li class="fa-5x" style="background:#A68867"><i class="fa fa-rocket"></i>
                        </li>
                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($advReceivable,2,true); ?></li>
                            <li>Advance Receivable</li>
                        </ul>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-3">
                    <ul class="panel panel1" style="border-left:2px solid #6B9C99">
                        <li class="fa-5x" style="background:#6B9C99"><i class="fa fa-reply"></i>
                        </li>
                        <ul class="text-right">
                            <li class="count-hd"><?php echo $this->commonHelper()->sanitizeNumber($retention['RecoveryAmount'],2,true); ?></li>
                            <li>Retention/Withheld</li>
                        </ul>
                    </ul>
                </div>
                <!--box start-->
            </div>
            <!--chart1 start-->

            <div class="clear clearfix"></div>
            <div class="col-lg-12">
                <div class="col-lg-4 col-sm-12 form-group">
                    <header class="panel-heading col-md-12 col-sm-12"style="padding:0 !important">
					<div class="col-sm-12" style="padding:0 !important">
					<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Work</div>
                       </header>
                    <div id="chartdiv" class="top_ct col-md-12"></div>
                </div>
                <div class="col-lg-4 col-sm-12 form-group">
                    <header class="panel-heading col-md-12 col-sm-12"style="padding:0 !important">
					<div class="col-sm-12" style="padding:0 !important">
					<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Service</div>
                       </header>
                    <div id="chartdiv1" class="top_ct col-md-12"></div>
                </div>
                <div class="col-lg-4 col-sm-12 form-group">
                    <header class="panel-heading col-md-12 col-sm-12"style="padding:0 !important">
					<div class="col-sm-12" style="padding:0 !important">
					<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Hire</div>
                        </header>
                    <div id="chartdiv2" class="top_ct"></div>
                </div>
            </div>
            <div class="col-sm-12">
                <div class="col-lg-6 col-sm-12 form-group">
                    <header class="panel-heading col-md-12 col-sm-12"style="padding:0 !important">
                         <div class="col-sm-8" style="padding:0 !important">
						<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Work Progress
                        </div>
                        <div class="col-sm-4" align="right"style="padding:0 !important">
                            <span class="date_icon"><i class="fa fa-calendar"></i></span>
                            <input type="text" id="dpeDate" class="date_picker" value="<?php echo (isset($date) && $date != 0) ? Date('d-m-Y',strtotime($date)) : Date('d-m-Y'); ?>" label="To Date" onchange="dpeDate(this.value)" >
                        </div>
                    </header>
                    <div id="chartdiv4" class="top_ct"></div>
                </div>
                <div class="col-lg-6 col-sm-12 form-group">
                    <header class="panel-heading col-md-12 col-sm-12"style="padding:0 !important">
                        <div class="col-sm-8" style="padding:0 !important"> 
						<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Labour Strength
                        </div>
                        <div class="col-sm-4" align="right"style="padding:0 !important">
                            <span class="date_icon"><i class="fa fa-calendar"></i></span>
                            <input type="text" id="lsDate" class="date_picker" value="<?php echo (isset($date) && $date != 0) ? Date('d-m-Y',strtotime($date)) : Date('d-m-Y'); ?>" label="To Date" onchange="lsDate(this.value)" >
                        </div>
                    </header>
                    <div id="chartdiv3" class="top_ct"></div>
                </div>
            </div>
            <div class="col-lg-12 col-sm-12 clear animated fadeInUp form-group"><h5 class="select-title" style="margin-bottom:0px;">
			<div class="loader">
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                      <div class="loader__bar"></div>
                    </div>
					&nbsp;Top Orders (by value)</h5>
                <div class="table-responsive topsp parent-scroll">
                    <table class="table fixTable" style=" margin-bottom:0px;">
                        <thead>
                        <tr>
                            <th width="15%">Order Date</th>
                            <th width="15%">Order No</th>
                            <th width="15%">Order Type</th>
                            <th width="25%">Project</th>
                            <th width="15%">Vendor</th>
                            <th width="15%">Amount</th>
                        </tr>
                        </thead>
                        <tbody>
                        <?php
                        if($projectId!=0) {
                            foreach ($topOrdersWithProjects as $topOrdersWithProject) {
                                if ($topOrdersWithProject['CostCentreId'] == $projectId) {
                                    ?>
                                    <tr>
                                        <td width="15%"><?php echo $topOrdersWithProject['OrderDate'];?></td>
                                        <td width="15%"><?php echo $topOrdersWithProject['OrderNo'];?></td>
                                        <td width="15%"><?php echo $topOrdersWithProject['OrderType'];?></td>
                                        <td width="25%"><?php echo $topOrdersWithProject['CostCentreName'];?></td>
                                        <td width="15%"><?php echo $topOrdersWithProject['VendorName'];?></td>
                                        <td width="15%" align="right"><?php echo $this->commonHelper()->sanitizeNumber($topOrdersWithProject['NetAmount'],2,true);?></td>
                                    </tr>
                                <?php }
                            }
                        }?>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--chart1 complete-->
        </div>
    </div>
</div>
<!--datepicker-->
<!--chart1 start-->
<script>
    var chart = AmCharts.makeChart("chartdiv", {
        "theme": "light",
        "type": "serial",
        "dataProvider": <?php echo (isset($arr_workGraph)) ? json_encode($arr_workGraph) : '[]';?>,
        "valueAxes": [{
            "id": "v1",
            "position": "left",
            "autoGridCount": false,
            "title": "Amount"
        },
            {
                "unit":"%",
                "id": "v2",
                "position": "right",
                "autoGridCount": false,
                "title": "% of Completion"
            }],
        "startDuration": 1,
        "graphs": [{
            "id": "g3",
            "valueAxis": "v1",
            "lineColor": "#FFA500",
            "fillColors": "#FFA500",
            "balloonText": "Amount: <b>[[value]]</b>",
            "fillAlphas": 0.9,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "Amount"
        }
        ],
        "plotAreaFillAlphas": 0.1,
        pathToImages: "//cdn.amcharts.com/lib/3/images/",
        "categoryField": "CostCentreName",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 20
        },
        "export": {
            "enabled": true
        },
        "balloon": {
            "borderThickness": 1,
            "shadowAlpha": 0
        },
        "chartScrollbar": {"enabled": true},
        "chartCursor": {
            "valueLineEnabled": true,
            "valueLineBalloonEnabled": true,
            "valueLineAlpha": 0.5,
            "fullWidth": true,
            "cursorAlpha": 0.05
        }
    });
</script>
<!--chart1 complete-->
<script>
    var chart = AmCharts.makeChart("chartdiv1", {
        "theme": "light",
        "type": "serial",
        "dataProvider": <?php echo (isset($arr_serviceGraph)) ? json_encode($arr_serviceGraph) : '[]';?>,
        "valueAxes": [{
            "id": "v1",
            "position": "left",
            "autoGridCount": false,
            "title": "Amount"
//                "labelFunction": function(value) {
//                    return + Math.round(value) ;
//                }
        },
            {
                "unit":"%",
                "id": "v2",
                "position": "right",
                "autoGridCount": false,
                "title": "% of Completion"
            }],
        "startDuration": 1,
        "graphs": [{
            "id": "g3",
            "valueAxis": "v1",
//                "lineColor": "#800080",
//                "fillColors": "#800080",
            "lineColor": "#FFA500",
            "fillColors": "#FFA500",

            "balloonText": "Amount: <b>[[value]]</b>",
            "fillAlphas": 0.9,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "Amount"
        }
        ],
        "plotAreaFillAlphas": 0.1,
        pathToImages: "//cdn.amcharts.com/lib/3/images/",
        "categoryField": "CostCentreName",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 20
        },
        "export": {
            "enabled": true
        },
        "balloon": {
            "borderThickness": 1,
            "shadowAlpha": 0
        },
        "chartScrollbar": {"enabled": true},
        "chartCursor": {
            "valueLineEnabled": true,
            "valueLineBalloonEnabled": true,
            "valueLineAlpha": 0.5,
            "fullWidth": true,
            "cursorAlpha": 0.05
        }
    });
</script>
<script>
    var chart = AmCharts.makeChart("chartdiv2", {
        "theme": "light",
        "type": "serial",
        "dataProvider": <?php echo (isset($arr_hireGraph)) ? json_encode($arr_hireGraph) : '[]';?>,
        "valueAxes": [{
            "id": "v1",
            "position": "left",
            "autoGridCount": false,
            "title": "Amount"
        },
            {
                "unit":"%",
                "id": "v2",
                "position": "right",
                "autoGridCount": false,
                "title": "% of Completion"
            }],
        "startDuration": 1,
        "graphs": [{
            "id": "g3",
            "valueAxis": "v1",
            "lineColor": "#FFA500",
            "fillColors": "#FFA500",

            "balloonText": "Amount: <b>[[value]]</b>",
            "fillAlphas": 0.9,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "Amount"
        }
        ],
        "plotAreaFillAlphas": 0.1,
        pathToImages: "//cdn.amcharts.com/lib/3/images/",
        "categoryField": "CostCentreName",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 20
        },
        "export": {
            "enabled": true
        },
        "balloon": {
            "borderThickness": 1,
            "shadowAlpha": 0
        },
        "chartScrollbar": {"enabled": true},
        "chartCursor": {
            "valueLineEnabled": true,
            "valueLineBalloonEnabled": true,
            "valueLineAlpha": 0.5,
            "fullWidth": true,
            "cursorAlpha": 0.05
        }
    });
</script>
<script>
    var chart = AmCharts.makeChart("chartdiv3", {
        "theme": "light",
        "type": "serial",
        "dataProvider": <?php echo (isset($arr_lsGraph)) ? json_encode($arr_lsGraph) : '[]';?>,
        "valueAxes": [{
            "id": "v1",
            "position": "left",
            "autoGridCount": false,
            "title": "Qty"
//                "labelFunction": function(value) {
//                    return + Math.round(value) ;
//                }
        },
            {
                "unit":"%",
                "id": "v2",
                "position": "right",
                "autoGridCount": false,
                "title": "% of Completion"
            }],
        "startDuration": 1,
        "graphs": [{
            "id": "g3",
            "valueAxis": "v1",
//                "lineColor": "#800080",
//                "fillColors": "#800080",
            "lineColor": "#FFA500",
            "fillColors": "#FFA500",

            "balloonText": "Qty: <b>[[value]]</b>",
            "fillAlphas": 0.9,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "Qty"
        }
        ],
        "plotAreaFillAlphas": 0.1,
        pathToImages: "//cdn.amcharts.com/lib/3/images/",
        "categoryField": "ResourceName",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 20
        },
        "export": {
            "enabled": true
        },
//        "legend": {
//            "useGraphSettings": false,
//            "position": "top",
//            "valueText": ""
//        },
        "balloon": {
            "borderThickness": 1,
            "shadowAlpha": 0
        },
        "chartScrollbar": {"enabled": true},
        "chartCursor": {
            "valueLineEnabled": true,
            "valueLineBalloonEnabled": true,
            "valueLineAlpha": 0.5,
            "fullWidth": true,
            "cursorAlpha": 0.05
        }
    });
</script>
<script>
    var chart = AmCharts.makeChart("chartdiv4", {
        "theme": "light",
        "type": "serial",
        "dataProvider": <?php echo (isset($arr_dpeGraph)) ? json_encode($arr_dpeGraph) : '[]';?>,
        "valueAxes": [{
            "id": "v1",
            "position": "left",
            "autoGridCount": false,
            "title": "Amount"
//                "labelFunction": function(value) {
//                    return + Math.round(value) ;
//                }
        },
            {
                "unit":"%",
                "id": "v2",
                "position": "right",
                "autoGridCount": false,
                "title": "% of Completion"
            }],
        "startDuration": 1,
        "graphs": [{
            "id": "g3",
            "valueAxis": "v1",
//                "lineColor": "#800080",
//                "fillColors": "#800080",
            "lineColor": "#FFA500",
            "fillColors": "#FFA500",

            "balloonText": "Amount: <b>[[value]]</b>",
            "fillAlphas": 0.9,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "Amount"
        }
        ],
        "plotAreaFillAlphas": 0.1,
        pathToImages: "//cdn.amcharts.com/lib/3/images/",
        "categoryField": "CostCentreName",
        "categoryAxis": {
            "gridPosition": "start",
            "labelRotation": 20
        },
        "export": {
            "enabled": true
        },
//        "legend": {
//            "useGraphSettings": false,
//            "position": "top",
//            "valueText": ""
//        },
        "balloon": {
            "borderThickness": 1,
            "shadowAlpha": 0
        },
        "chartScrollbar": {"enabled": true},
        "chartCursor": {
            "valueLineEnabled": true,
            "valueLineBalloonEnabled": true,
            "valueLineAlpha": 0.5,
            "fullWidth": true,
            "cursorAlpha": 0.05
        }
    });


    function ChangeProject() {
        var iProjectId = isNullCheck($('#projectId').val(),'number');
        if(iProjectId !=0) {
            window.location.href = getBaseURL() + "wpm/wpmdashboard/wpm-act-dashboard/" + iProjectId;
        }else{
            window.location.href = getBaseURL() + "wpm/wpmdashboard/wpmdashboard";

        }
    }


    function findDate(){
        var lsDate=$('#lsDate').val();
        var iProjectId = isNullCheck($('#projectId').val(),'number');
        $.ajax({
            url:getBaseURL()+'wpm/wpmdashboard/wpm-act-dashboard',
            type:"post",
            data:"lsDate="+lsDate+"&costCentreId="+iProjectId,
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                if(jqXHR.status == 200) {
                    renderRequestResources(data);
                }
            }
        });
    }
    function dpeDate(){
        var dpeDate=$('#dpeDate').val();
        var iProjectId = isNullCheck($('#projectId').val(),'number');
        $.ajax({
            url:getBaseURL()+'wpm/wpmdashboard/wpm-act-dashboard',
            type:"post",
            data:"dpeDate="+dpeDate+"&costCentreId="+iProjectId+"&type=dpe",
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                if(jqXHR.status == 200) {
                    dpeResources(data);
                }
            }
        });
    }
    function renderRequestResources(data) {
        var chart = AmCharts.makeChart("chartdiv3", {
            "theme": "light",
            "type": "serial",
            "dataProvider":data,
            "valueAxes": [{
                "id": "v1",
                "position": "left",
                "autoGridCount": false,
                "title": "Qty"
//                "labelFunction": function(value) {
//                    return + Math.round(value) ;
//                }
            },
                {
                    "unit":"%",
                    "id": "v2",
                    "position": "right",
                    "autoGridCount": false,
                    "title": "% of Completion"
                }],
            "startDuration": 1,
            "graphs": [{
                "id": "g3",
                "valueAxis": "v1",
//                "lineColor": "#800080",
//                "fillColors": "#800080",
                "lineColor": "#FFA500",
                "fillColors": "#FFA500",

                "balloonText": "Qty: <b>[[value]]</b>",
                "fillAlphas": 0.9,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "Qty"
            }
            ],
            "plotAreaFillAlphas": 0.1,
            pathToImages: "//cdn.amcharts.com/lib/3/images/",
            "categoryField": "ResourceName",
            "categoryAxis": {
                "gridPosition": "start",
                "labelRotation": 20
            },
            "export": {
                "enabled": true
            },
//        "legend": {
//            "useGraphSettings": false,
//            "position": "top",
//            "valueText": ""
//        },
            "balloon": {
                "borderThickness": 1,
                "shadowAlpha": 0
            },
            "chartScrollbar": {"enabled": true},
            "chartCursor": {
                "valueLineEnabled": true,
                "valueLineBalloonEnabled": true,
                "valueLineAlpha": 0.5,
                "fullWidth": true,
                "cursorAlpha": 0.05
            }
        });
    }
    function dpeDate(){
        var dpeDate=$('#dpeDate').val();
        $.ajax({
            url:getBaseURL()+'wpm/wpmdashboard/wpmdashboard',
            type:"post",
            data:"dpeDate="+dpeDate+"&type=dpe",
            dataType:"json",
            success:function(data, textStatus, jqXHR){
                if(jqXHR.status == 200) {
                    dpeResources(data);
                }
            }
        });
    }
    function dpeResources(data) {
        var chart = AmCharts.makeChart("chartdiv4", {
            "theme": "light",
            "type": "serial",
            "dataProvider":data,
            "valueAxes": [{
                "id": "v1",
                "position": "left",
                "autoGridCount": false,
                "title": "Amount"
//                "labelFunction": function(value) {
//                    return + Math.round(value) ;
//                }
            },
                {
                    "unit":"%",
                    "id": "v2",
                    "position": "right",
                    "autoGridCount": false,
                    "title": "% of Completion"
                }],
            "startDuration": 1,
            "graphs": [{
                "id": "g3",
                "valueAxis": "v1",
//                "lineColor": "#800080",
//                "fillColors": "#800080",
                "lineColor": "#FFA500",
                "fillColors": "#FFA500",

                "balloonText": "Amount: <b>[[value]]</b>",
                "fillAlphas": 0.9,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "Amount"
            }
            ],
            "plotAreaFillAlphas": 0.1,
            pathToImages: "//cdn.amcharts.com/lib/3/images/",
            "categoryField": "CostCentreName",
            "categoryAxis": {
                "gridPosition": "start",
                "labelRotation": 20
            },
            "export": {
                "enabled": true
            },
//        "legend": {
//            "useGraphSettings": false,
//            "position": "top",
//            "valueText": ""
//        },
            "balloon": {
                "borderThickness": 1,
                "shadowAlpha": 0
            },
            "chartScrollbar": {"enabled": true},
            "chartCursor": {
                "valueLineEnabled": true,
                "valueLineBalloonEnabled": true,
                "valueLineAlpha": 0.5,
                "fullWidth": true,
                "cursorAlpha": 0.05
            }
        });
    }

</script>
